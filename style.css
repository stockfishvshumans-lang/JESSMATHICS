

@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700;800&display=swap');



@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');



@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Cormorant+Garamond:ital,wght@0,600;1,600&display=swap');



:root {



    



    --neon-cyan: #00f3ff;



    --cyan-glow: rgba(0, 243, 255, 0.6);



    --neon-red: #ff0055;



    --neon-gold: #ffd700;



    --neon-green: #00ff41;



    



    --bg-void: #020205;



    --glass-panel: rgba(10, 15, 25, 0.85); 



    



    --text-white: #ffffff;



    --text-dim: #8b9bb4;



}











body {



    margin: 0; overflow: hidden; background-color: var(--bg-void);



    font-family: 'Rajdhani', sans-serif; color: var(--text-white);



    user-select: none;



}











body::before {



    content: ""; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;



    background-image: 



        linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),



        linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);



    background-size: 50px 50px;



    transform: perspective(1000px) rotateX(60deg);



    animation: gridFlow 60s linear infinite; z-index: 0; pointer-events: none;



}



@keyframes gridFlow { 0% { transform: perspective(1000px) rotateX(60deg) translateY(0); } 100% { transform: perspective(1000px) rotateX(60deg) translateY(50px); } }







canvas { display: block; position: absolute; top: 0; left: 0; z-index: 1; }



.hidden { display: none !important; }











#ui-layer {

    position: absolute; 

    top: 0; left: 0; width: 100%; height: 100%;

    pointer-events: none; 

    display: flex; flex-direction: column; justify-content: space-between;

    z-index: 50 !important; /* Eto ang tamang layer niya: Mataas sa game, mababa sa modals */

    transform-style: preserve-3d;

    transition: transform 0.1s linear;

}







#hud-top {



    display: flex; justify-content: space-between; align-items: flex-start; 



    padding: 20px;



    background: linear-gradient(180deg, rgba(0,0,0,0.9) 0%, transparent 100%);



    pointer-events: none;



}







.hud-group { display: flex; gap: 15px; }











.hud-box {

    background: rgba(10, 15, 30, 0.6); /* More transparent */

    border: 1px solid rgba(0, 243, 255, 0.3);

    border-top: 3px solid var(--neon-cyan); /* Heavy top border */

    padding: 10px 25px;

    border-radius: 0px 0px 15px 15px; /* Tech shape */

    display: flex; 

    flex-direction: column; 

    align-items: center;

    

    /* Hologram Glow */

    box-shadow: 0 5px 20px rgba(0, 243, 255, 0.1), inset 0 0 20px rgba(0, 243, 255, 0.05);

    backdrop-filter: blur(5px);

    

    /* Floating Animation */

    animation: hudFloat 4s ease-in-out infinite;

}



@keyframes hudFloat {

    0%, 100% { transform: translateY(0); }

    50% { transform: translateY(-3px); }

}



/* --- UI FIX: INPUT BOX --- */

#input-container {

    position: absolute;

    bottom: 30px; /* Nasa baba na */

    left: 50%;

    transform: translateX(-50%);

    width: 300px;

    z-index: 50;

}



#player-input {

    width: 100%;

    background: rgba(0, 0, 0, 0.5); /* Transparent Black */

    border: 2px solid #00f3ff;

    border-radius: 5px;

    color: #00f3ff;

    font-family: 'Orbitron', sans-serif;

    font-size: 24px; /* Tamang laki lang */

    text-align: center;

    padding: 10px;

    outline: none;

    letter-spacing: 3px;

    text-shadow: 0 0 10px #00f3ff;

}



#player-input::placeholder {

    color: rgba(0, 243, 255, 0.3);

    font-size: 16px;

}



#player-input:focus {

    border-color: var(--neon-cyan);

    background: rgba(0, 15, 30, 0.95);

    box-shadow: 0 0 50px rgba(0, 243, 255, 0.2);

}



.label { font-size: 11px; color: var(--neon-cyan); letter-spacing: 2px; margin-bottom: 2px; font-weight: 700; }



.value { font-family: 'Orbitron', sans-serif; font-size: 26px; font-weight: 700; line-height: 1; }











.neon-blue { color: var(--neon-cyan); text-shadow: 0 0 10px var(--neon-cyan); }



.neon-red { color: var(--neon-red); text-shadow: 0 0 10px var(--neon-red); }



.neon-green { color: var(--neon-green); text-shadow: 0 0 10px var(--neon-green); }



.neon-gold { color: var(--neon-gold); text-shadow: 0 0 10px var(--neon-gold); }











#boss-hud { position: absolute; top: 110px; left: 50%; transform: translateX(-50%); text-align: center; width: 400px; }



#boss-name { display: block; color: var(--neon-red); font-family: 'Orbitron'; font-weight: 900; letter-spacing: 4px; text-shadow: 0 0 20px var(--neon-red); margin-bottom: 8px; font-size: 18px; }



#boss-hp-bar { width: 100%; height: 12px; background: #200; border: 1px solid var(--neon-red); border-radius: 6px; overflow: hidden; box-shadow: 0 0 10px var(--neon-red); }



#boss-hp-fill { width: 100%; height: 100%; background: var(--neon-red); box-shadow: 0 0 20px var(--neon-red); transition: width 0.2s; }











#xp-bar-container { width: 180px; height: 8px; background: #222; border: 1px solid #444; margin-top: 8px; transform: skewX(-15deg); border-radius: 2px; }



#xp-bar-fill { height: 100%; background: var(--neon-cyan); box-shadow: 0 0 15px var(--neon-cyan); width: 0%; transition: width 0.3s; }











#side-feed {



    position: absolute;



    top: 120px; 



    right: 20px; 



    left: auto; 



    width: 250px; 



    pointer-events: auto; 



    z-index: 15;



}







#live-leaderboard {



    background: var(--glass-panel);



    border-right: 3px solid var(--neon-gold); 



    border-left: none; 



    padding: 15px;



    border-radius: 10px 0 0 10px; 



    box-shadow: -5px 5px 20px rgba(0,0,0,0.5); 



    backdrop-filter: blur(5px);



}







#live-leaderboard h4 {



    margin: 0 0 10px 0;



    color: var(--neon-gold);



    font-family: 'Orbitron', sans-serif;



    font-size: 14px; 



    letter-spacing: 2px;



    border-bottom: 1px solid rgba(255, 255, 255, 0.1);



    padding-bottom: 5px;



    text-shadow: 0 0 10px var(--neon-gold);



    text-align: right; 



}







#leaderboard-list {



    list-style: none; padding: 0; margin: 0;



    font-size: 15px; font-weight: 600;



}







#leaderboard-list li {



    padding: 6px 0;



    display: flex; justify-content: space-between;



    border-bottom: 1px solid rgba(255, 255, 255, 0.05);



    color: var(--text-dim);



}



#leaderboard-list li span:last-child {



    color: var(--neon-cyan);



}











#hud-bottom {



    display: flex; justify-content: space-between; align-items: flex-end; padding: 30px;



    background: linear-gradient(0deg, rgba(0,0,0,0.95) 0%, transparent 100%);



    pointer-events: auto; 



}



/* --- ðŸ›¸ TURRET CONSOLE UI (CSS) --- */



/* Container: Nakapwesto sa ibabaw ng ship */

#input-container {

    position: absolute;

    bottom: 85px; /* Naka-angat para nasa "dibdib" ng ship */

    left: 50%;

    transform: translateX(-50%);

    width: 280px; 

    z-index: 50; /* Siguraduhing nasa ibabaw ng canvas */

    pointer-events: auto;

}



/* The Input Box: Mukhang Holographic Screen */

#player-input {

    width: 100%;

    background: rgba(0, 10, 20, 0.85); /* Dark Glass */

    border: 2px solid #00f3ff; /* Neon Cyan Border */

    border-radius: 6px;

    

    font-family: 'Orbitron', sans-serif;

    font-weight: 700;

    font-size: 28px;

    color: #fff;

    text-align: center;

    letter-spacing: 4px;

    

    padding: 12px;

    outline: none;

    box-shadow: 0 0 25px rgba(0, 243, 255, 0.15), inset 0 0 10px rgba(0, 243, 255, 0.1);

    

    transition: all 0.2s ease-in-out;

}



/* Effect kapag nagta-type ka (Active) */

#player-input:focus {

    background: rgba(0, 20, 40, 0.95);

    border-color: #ffd700; /* Nagiging Gold pag active */

    box-shadow: 0 0 40px rgba(255, 215, 0, 0.3), inset 0 0 15px rgba(255, 215, 0, 0.1);

    transform: scale(1.05); /* Lumalaki konti */

}



/* Alisin ang placeholder text pag nagta-type para malinis */

#player-input:not(:placeholder-shown)::placeholder {

    color: transparent;

}



/* Maliit na label sa ilalim (optional) */

.input-hint {

    margin-top: 5px;

    font-size: 10px;

    color: #00f3ff;

    opacity: 0.7;

    text-shadow: 0 0 5px #00f3ff;

    background: black; /* Para mabasa sa likod */

    display: inline-block;

    padding: 2px 8px;

    border-radius: 4px;

}









.icon-btn {



    width: 50px; height: 50px; background: rgba(255,255,255,0.05);



    border: 1px solid #445; color: #fff; border-radius: 12px;



    font-size: 22px; cursor: pointer; margin-right: 15px;



    display: flex; justify-content: center; align-items: center; transition: 0.3s;



}



.icon-btn:hover { background: var(--neon-cyan); color: black; box-shadow: 0 0 20px var(--neon-cyan); border-color: transparent; }







.skill-icon {



    font-size: 12px; color: #889; background: rgba(0,0,0,0.8);



    padding: 10px 15px; border: 1px solid #445; border-radius: 6px;



    margin-top: 8px; text-align: right; cursor: pointer; font-family: 'Orbitron'; letter-spacing: 1px;



}



.skill-icon:hover { border-color: var(--neon-cyan); color: var(--neon-cyan); box-shadow: 0 0 10px var(--neon-cyan); }











.modal {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background-color: #020205; 

    background-image: linear-gradient(rgba(0, 243, 255, 0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 243, 255, 0.02) 1px, transparent 1px);

    background-size: 40px 40px;

    display: flex; justify-content: center; align-items: center;

    z-index: 99999 !important; /* ðŸŸ¢ FORCE ON TOP */

    pointer-events: auto;

}







.modal-content {



    background: var(--glass-panel);



    width: 520px; max-width: 90%;



    padding: 45px;



    border-radius: 20px;



    text-align: center;



    border: 2px solid var(--neon-cyan);



    box-shadow: 0 0 50px rgba(0, 243, 255, 0.15), inset 0 0 30px rgba(0, 243, 255, 0.05);



    position: relative;



    display: flex; flex-direction: column; align-items: center;



}







.modal-content::after {



    content: ""; position: absolute; top: 0; left: 20%; width: 60%; height: 3px;



    background: var(--neon-cyan); box-shadow: 0 0 20px var(--neon-cyan);



    border-radius: 0 0 10px 10px;



}











.game-title {



    font-family: 'Orbitron', sans-serif;



    font-size: 60px; margin: 0; color: white;



    letter-spacing: -2px; line-height: 1;



    text-shadow: 0 0 10px rgba(255,255,255,0.2);



}



.highlight { color: var(--neon-cyan); text-shadow: 0 0 30px var(--neon-cyan); }



.subtitle { color: var(--text-dim); letter-spacing: 5px; margin-bottom: 35px; font-size: 14px; text-transform: uppercase; font-weight: 700; }











.main-input, input[type="text"], input[type="tel"] {



    width: 90%; padding: 18px;



    font-family: 'Orbitron', sans-serif; font-size: 22px; font-weight: 700;



    text-align: center; text-transform: uppercase; letter-spacing: 3px;



    background: rgba(0, 0, 0, 0.6);



    border: 2px solid #334;



    border-radius: 12px; color: #fff;



    margin-bottom: 25px; transition: 0.3s; outline: none;



}



.main-input:focus, input[type="text"]:focus {



    border-color: var(--neon-cyan);



    background: rgba(0, 243, 255, 0.05);



    box-shadow: 0 0 30px rgba(0, 243, 255, 0.3);



}











#join-code-input {



    border: 2px dashed var(--neon-gold) !important;



    color: var(--neon-gold) !important;



    background: rgba(255, 215, 0, 0.05) !important;



    letter-spacing: 5px;



}



#join-code-input:focus {



    background: rgba(255, 215, 0, 0.1) !important;



    box-shadow: 0 0 30px rgba(255, 215, 0, 0.4) !important;



}



#join-code-input::placeholder { color: #654; }











.settings-group { width: 100%; border-top: 1px solid #223; padding-top: 20px; margin-bottom: 20px; }



.settings-group h3 { font-size: 12px; color: #667; margin-bottom: 12px; font-family: 'Rajdhani'; letter-spacing: 3px; text-transform: uppercase; font-weight: 700; }







.radio-group, .check-group { display: flex; justify-content: center; gap: 12px; flex-wrap: wrap; }



.radio-btn input, .check-group input { display: none; }







.radio-btn span {



    padding: 10px 25px; background: rgba(255,255,255,0.03);



    border: 1px solid #334; border-radius: 50px;



    color: #667; font-weight: 700; font-size: 14px;



    cursor: pointer; transition: 0.3s;



}



.radio-btn span:hover { border-color: white; color: white; }



.radio-btn input:checked + span {



    background: var(--neon-cyan); border-color: var(--neon-cyan); color: black;



    box-shadow: 0 0 20px var(--neon-cyan);



}







.check-group span {



    display: flex; justify-content: center; align-items: center;



    width: 60px; height: 60px;



    background: rgba(255,255,255,0.03);



    border: 2px solid #334; border-radius: 12px;



    color: #556; font-size: 26px; font-weight: 900;



    cursor: pointer; transition: 0.3s;



}



.check-group span:hover { border-color: white; color: white; transform: translateY(-3px); }



.check-group input:checked + span {



    border-color: var(--neon-cyan); color: var(--neon-cyan);



    background: rgba(0, 243, 255, 0.1);



    box-shadow: 0 0 25px rgba(0, 243, 255, 0.4), inset 0 0 10px rgba(0, 243, 255, 0.1);



    text-shadow: 0 0 10px var(--neon-cyan);



}











.btn {



    display: block; width: 100%; padding: 20px; margin: 12px 0;



    font-family: 'Orbitron', sans-serif; font-size: 20px; letter-spacing: 2px;



    border: none; cursor: pointer; border-radius: 10px; transition: 0.3s;



}







.btn.primary {



    background: linear-gradient(90deg, var(--neon-cyan), #00a8ff);



    color: #020408; font-weight: 900;



    box-shadow: 0 0 25px rgba(0, 243, 255, 0.3);



}



.btn.primary:hover {



    box-shadow: 0 0 50px var(--neon-cyan);



    transform: scale(1.02); color: black;



}







.btn.secondary {



    background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); color: white;



}



.btn.secondary:hover {



    border-color: var(--neon-cyan); background: rgba(0, 243, 255, 0.1);



    box-shadow: 0 0 25px rgba(0, 243, 255, 0.2);



}







.btn.tertiary { background: transparent; border: 1px solid #222; color: #667; font-size: 14px; padding: 15px; }



.btn.tertiary:hover { border-color: var(--neon-gold); color: var(--neon-gold); letter-spacing: 4px; }







.btn.text-only { 



    background: transparent; color: #555; font-size: 12px; padding: 15px; 



    border: 1px solid transparent; transition: 0.3s;



}



.btn.text-only:hover { 



    color: var(--neon-red); border-color: var(--neon-red);



    box-shadow: 0 0 15px rgba(255, 42, 85, 0.3);



    letter-spacing: 2px; text-decoration: none;



}











#report-modal .modal-content { border-color: var(--neon-red); box-shadow: 0 0 40px rgba(255, 42, 85, 0.2); }



#report-modal .modal-content::after { background: var(--neon-red); box-shadow: 0 0 15px var(--neon-red); }



#report-modal h1 { color: var(--neon-red); text-shadow: 0 0 20px var(--neon-red); }







#win-modal .modal-content { border-color: var(--neon-green); box-shadow: 0 0 40px rgba(0, 255, 65, 0.2); }



#win-modal .modal-content::after { background: var(--neon-green); box-shadow: 0 0 15px var(--neon-green); }



#win-modal h1 { color: var(--neon-green); text-shadow: 0 0 20px var(--neon-green); }











.scrollable-list, .player-list {



    width: 100%; max-height: 220px; overflow-y: auto; margin-bottom: 20px;



    background: rgba(0,0,0,0.3); border: 1px solid #334; border-radius: 8px;



}



.player-row, .lb-row, .log-item {



    padding: 12px 20px; border-bottom: 1px solid rgba(255,255,255,0.05);



    display: flex; justify-content: space-between; font-weight: 600; color: #ccc;



    font-size: 16px; transition: 0.2s;



}



.player-row:hover { background: rgba(255,255,255,0.05); color: white; }







.code-display h1 {



    font-family: 'Orbitron'; font-size: 52px; color: var(--neon-gold);



    text-shadow: 0 0 20px var(--neon-gold); margin: 15px 0;



    border: 1px dashed rgba(255, 215, 0, 0.3); padding: 15px; border-radius: 10px;



    background: rgba(255, 215, 0, 0.05);



}







#boss-warning {



    position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%);



    font-family: 'Orbitron'; font-size: 80px; color: var(--neon-red); font-weight: 900;



    text-shadow: 0 0 50px var(--neon-red); z-index: 50; white-space: nowrap; animation: flash 0.3s infinite;



}



@keyframes flash { 0%, 100% { opacity: 1; } 50% { opacity: 0.2; } }







::-webkit-scrollbar { width: 6px; }



::-webkit-scrollbar-track { background: #111; }



::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }



::-webkit-scrollbar-thumb:hover { background: var(--neon-cyan); }



/* --- NEW VIRTUAL NUMPAD STYLES --- */

#virtual-numpad {

    display: none; /* Hidden by default on PC */

    position: absolute;

    bottom: 20px;

    left: 50%;

    transform: translateX(-50%);

    width: 300px;

    gap: 8px;

    z-index: 100;

    pointer-events: auto;

}



.numpad-row {

    display: flex;

    justify-content: center;

    gap: 8px;

    margin-bottom: 8px;

}



.num-btn {

    width: 80px;

    height: 50px;

    background: rgba(5, 10, 20, 0.9);

    border: 1px solid var(--neon-cyan);

    color: var(--neon-cyan);

    font-family: 'Orbitron', sans-serif;

    font-size: 24px;

    font-weight: bold;

    border-radius: 8px;

    cursor: pointer;

    box-shadow: 0 0 10px rgba(0, 243, 255, 0.1);

    transition: 0.1s;

    /* Prevent double-tap zoom on mobile */

    touch-action: manipulation;

}



.num-btn:active {

    background: var(--neon-cyan);

    color: black;

    transform: scale(0.95);

}



.num-btn.clear-btn {

    border-color: var(--neon-red);

    color: var(--neon-red);

}



.num-btn.clear-btn:active {

    background: var(--neon-red);

    color: white;

}



.num-btn.fire-btn {

    border-color: var(--neon-gold);

    background: rgba(255, 215, 0, 0.1);

    font-size: 28px;

}



.num-btn.fire-btn:active {

    background: var(--neon-gold);

    box-shadow: 0 0 30px var(--neon-gold);

}



/* MEDIA QUERY: Only show on screens smaller than 768px (Tablets/Phones) */

@media (max-width: 768px) {

    #virtual-numpad {

        display: block;

    }

    

    /* Adjust Input Position to make room for Numpad */

    #hud-bottom {

        padding-bottom: 250px; /* Pushes the original HUD up */

        align-items: flex-start;

    }



    #player-input {

        pointer-events: none; /* Prevents keyboard from popping up if they tap the box by mistake */

        background: rgba(0,0,0,0.8);

    }

}



/* --- COMBO & HYPE UPDATE --- */

#combo-container {

    position: absolute;

    top: 150px;

    left: 20px;

    text-align: center;

    transform: skewX(-10deg);

    pointer-events: none;

    z-index: 20;

    transition: transform 0.1s;

}



#combo-label {

    font-family: 'Rajdhani', sans-serif;

    font-weight: 900;

    font-size: 14px;

    color: var(--neon-gold);

    letter-spacing: 4px;

}



#combo-value {

    font-family: 'Orbitron', sans-serif;

    font-weight: 900;

    font-size: 48px;

    color: #fff;

    text-shadow: 0 0 20px var(--neon-cyan);

    line-height: 1;

}



/* Animations for Hype */

.combo-pulse {

    animation: comboPulse 0.2s ease-out;

}



@keyframes comboPulse {

    0% { transform: skewX(-10deg) scale(1); }

    50% { transform: skewX(-10deg) scale(1.5); color: var(--neon-gold); }

    100% { transform: skewX(-10deg) scale(1); }

}



.shake-screen {

    animation: shakeAnim 0.3s ease-in-out;

}



@keyframes shakeAnim {

    0% { transform: translate(0, 0); }

    25% { transform: translate(5px, -5px); }

    50% { transform: translate(-5px, 5px); }

    75% { transform: translate(5px, 5px); }

    100% { transform: translate(0, 0); }

}



/* --- VISUAL OVERHAUL UPDATE --- */



/* 1. Background Canvas (Behind everything) */

canvas { 

    display: block; 

    position: absolute; 

    top: 0; 

    left: 0; 

    width: 100vw; 

    height: 100vh; /* Force full screen size */

    z-index: 1; 

}



/* 2. RGB Split / Chromatic Aberration on UI */

#ui-layer {

    text-shadow: 2px 0 rgba(255,0,0,0.3), -2px 0 rgba(0,255,255,0.3);

}



/* 3. Glitch Effect Overlay */

#glitch-overlay {

    position: absolute;

    top: 0; left: 0; width: 100%; height: 100%;

    background: rgba(255, 0, 80, 0.1);

    z-index: 900;

    pointer-events: none;

    mix-blend-mode: color-dodge;

    animation: glitchAnim 0.2s infinite;

}



@keyframes glitchAnim {

    0% { transform: translate(0); }

    20% { transform: translate(-5px, 5px); background: rgba(0, 255, 255, 0.1); }

    40% { transform: translate(-5px, -5px); }

    60% { transform: translate(5px, 5px); background: rgba(255, 0, 80, 0.1); }

    80% { transform: translate(5px, -5px); }

    100% { transform: translate(0); }

}



/* Fever Mode Glow (Add this class to body via JS later) */

.fever-mode #gameCanvas {

    box-shadow: inset 0 0 100px rgba(255, 215, 0, 0.3);

    filter: drop-shadow(0 0 10px gold);

}



/* --- AUTH & RANK STYLES --- */

.auth-tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }

.tab-btn { background: transparent; border: none; color: #666; font-family: 'Orbitron'; font-size: 14px; cursor: pointer; padding-bottom: 5px; }

.tab-btn.active { color: var(--neon-cyan); border-bottom: 2px solid var(--neon-cyan); }



.auth-input {

    width: 90%; padding: 12px; margin-bottom: 10px;

    background: rgba(0,0,0,0.5); border: 1px solid #334; color: white;

    font-family: 'Rajdhani'; font-size: 16px; text-align: center;

}

.auth-input:focus { border-color: var(--neon-cyan); outline: none; }



.rank-display { display: flex; align-items: center; justify-content: center; gap: 15px; text-align: left; }

#rank-icon { font-size: 40px; }



/* MISSION CONFIG STYLES */

.checkbox-container, .radio-label {

    cursor: pointer; font-family: 'Rajdhani'; font-size: 18px; color: white;

    display: flex; align-items: center; gap: 5px;

}

.checkbox-container input, .radio-label input {

    accent-color: #00e5ff; /* Neon color checkboxes */

    width: 18px; height: 18px;

}

.checkbox-container:hover, .radio-label:hover {

    color: #00e5ff; text-shadow: 0 0 5px #00e5ff;

}



/* --- CUSTOM NEON CHECKBOXES & RADIO BUTTONS --- */



/* Itago ang default na browser inputs */

.config-options input[type="checkbox"],

.config-options input[type="radio"] {

    position: absolute;

    opacity: 0;

    cursor: pointer;

    height: 0;

    width: 0;

}



/* Style para sa label container */

.op-label, .diff-label {

    display: inline-flex;

    align-items: center;

    cursor: pointer;

    position: relative;

    padding-left: 35px; /* Space para sa custom indicator */

    margin-right: 20px;

    font-family: 'Rajdhani', sans-serif;

    font-size: 1.1rem;

    color: #aaa;

    transition: all 0.3s ease;

    user-select: none;

}



/* Hover effect sa label */

.op-label:hover, .diff-label:hover {

    color: #fff;

    text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);

}



/* --- CUSTOM CHECKBOX INDICATOR (Operations) --- */

.checkmark {

    position: absolute;

    top: 50%;

    left: 0;

    transform: translateY(-50%);

    height: 22px;

    width: 22px;

    background-color: rgba(0, 0, 0, 0.5);

    border: 2px solid #555;

    border-radius: 4px;

    transition: all 0.3s ease;

    box-shadow: inset 0 0 5px rgba(0,0,0,0.8);

}



/* Kapag na-check ang checkbox */

.op-label input:checked ~ .checkmark {

    background-color: rgba(0, 229, 255, 0.2);

    border-color: #00e5ff;

    box-shadow: 0 0 15px #00e5ff, inset 0 0 10px rgba(0, 229, 255, 0.3);

}



/* Checkmark icon (gamit ang CSS pseudo-element) */

.checkmark:after {

    content: "";

    position: absolute;

    display: none;

    left: 7px;

    top: 3px;

    width: 6px;

    height: 12px;

    border: solid #00e5ff;

    border-width: 0 3px 3px 0;

    transform: rotate(45deg);

    filter: drop-shadow(0 0 5px #00e5ff);

}



/* Ipakita ang icon kapag checked */

.op-label input:checked ~ .checkmark:after {

    display: block;

}



/* Paliwanagin ang text kapag checked */

.op-label input:checked {

    color: #00e5ff;

    text-shadow: 0 0 10px #00e5ff;

}



/* --- CUSTOM RADIO INDICATOR (Difficulty) --- */

.radiomark {

    position: absolute;

    top: 50%;

    left: 0;

    transform: translateY(-50%);

    height: 22px;

    width: 22px;

    background-color: rgba(0, 0, 0, 0.5);

    border: 2px solid #555;

    border-radius: 50%; /* Gawing bilog */

    transition: all 0.3s ease;

    box-shadow: inset 0 0 5px rgba(0,0,0,0.8);

}



/* Inner circle para sa radio button */

.radiomark:after {

    content: "";

    position: absolute;

    display: none;

    top: 50%;

    left: 50%;

    transform: translate(-50%, -50%);

    height: 12px;

    width: 12px;

    border-radius: 50%;

    background-color: #fff;

    box-shadow: 0 0 10px #fff;

}



/* Ipakita ang inner circle kapag checked */

.diff-label input:checked ~ .radiomark:after {

    display: block;

}



/* --- DIFFICULTY SPECIFIC COLORS & GLOWS --- */



/* EASY (Green) */

.diff-label:nth-child(1) input:checked ~ .radiomark {

    border-color: #00ff41;

    box-shadow: 0 0 15px #00ff41, inset 0 0 10px rgba(0, 255, 65, 0.3);

}

.diff-label:nth-child(1) input:checked ~ .radiomark:after {

    background-color: #00ff41;

    box-shadow: 0 0 10px #00ff41;

}

.diff-label:nth-child(1) input:checked {

    color: #00ff41;

    text-shadow: 0 0 10px #00ff41;

}



/* MEDIUM (Yellow) */

.diff-label:nth-child(2) input:checked ~ .radiomark {

    border-color: #ffd700;

    box-shadow: 0 0 15px #ffd700, inset 0 0 10px rgba(255, 215, 0, 0.3);

}

.diff-label:nth-child(2) input:checked ~ .radiomark:after {

    background-color: #ffd700;

    box-shadow: 0 0 10px #ffd700;

}

.diff-label:nth-child(2) input:checked {

    color: #ffd700;

    text-shadow: 0 0 10px #ffd700;

}



/* HARD (Red) */

.diff-label:nth-child(3) input:checked ~ .radiomark {

    border-color: #ff0055;

    box-shadow: 0 0 15px #ff0055, inset 0 0 10px rgba(255, 0, 85, 0.3);

}

.diff-label:nth-child(3) input:checked ~ .radiomark:after {

    background-color: #ff0055;

    box-shadow: 0 0 10px #ff0055;

}

.diff-label:nth-child(3) input:checked {

    color: #ff0055;

    text-shadow: 0 0 10px #ff0055;

}



/* --- INITIATE & ABORT BUTTONS --- */

/* Siguraduhin na ang mga ito ay gamit na ang tamang classes sa HTML */

/* Example: <button class="btn primary">INITIATE LAUNCH</button> */

/* Example: <button class="btn text-only">ABORT</button> */



/* Kung kailangan mo i-adjust ang spacing nila sa modal */

#mission-config-modal .modal-actions {

    margin-top: 40px;

    display: flex;

    flex-direction: column;

    align-items: center;

    gap: 20px;

}



#ui-layer {

    pointer-events: none; /* Para lumusot ang click sa canvas */

    /* ... ibang styles ... */

}



/* PERO dapat buhayin ulit ang click para sa buttons */

#hud-bottom, .modal, .menu-actions, .controls-left, .controls-right {

    pointer-events: auto; /* Para mapindot ang buttons */

}



/* =========================================

   TEACHER & CLASSROOM MODE STYLES

   ========================================= */



/* --- DASHBOARD LAYOUT --- */

.dash-header {

    display: flex;

    justify-content: space-between;

    align-items: center;

    border-bottom: 2px solid #333;

    padding-bottom: 20px;

    margin-bottom: 20px;

}



.table-container {

    width: 100%;

    height: 60vh;

    overflow-y: auto;

    background: rgba(0, 0, 0, 0.5);

    border: 1px solid #333;

}



/* --- STUDENT TABLE --- */

#student-table {

    width: 100%;

    border-collapse: collapse;

    color: white;

    font-family: 'Rajdhani', sans-serif;

}



#student-table th {

    background: #111;

    color: #00e5ff;

    padding: 15px;

    text-align: left;

    position: sticky;

    top: 0;

    border-bottom: 2px solid #00e5ff;

    z-index: 2; /* Ensure header stays on top */

}



#student-table td {

    padding: 12px;

    border-bottom: 1px solid #222;

    font-size: 18px;

}



/* --- STATUS DOTS --- */

.status-dot {

    height: 10px;

    width: 10px;

    border-radius: 50%;

    display: inline-block;

    margin-right: 5px;

}

.status-online { background-color: #00ff41; box-shadow: 0 0 5px #00ff41; }

.status-playing { background-color: #ffd700; box-shadow: 0 0 5px #ffd700; }

.status-offline { background-color: #555; }



.top-performer { color: #ffd700; font-weight: bold; }



/* =========================================

   SETUP & CONFIGURATION MODAL

   ========================================= */



/* 1. Grid Layout for Config (Label Left, Input Right) */

.config-grid {

    display: grid;

    grid-template-columns: 1fr 1.5fr;

    gap: 20px;

    align-items: center;

    margin-bottom: 30px;

    width: 100%;

}



/* 2. Label Styling */

.config-grid label {

    font-family: 'Rajdhani', sans-serif;

    font-weight: bold;

    font-size: 18px;

    color: #00e5ff;

    text-align: right;

    padding-right: 15px;

}



/* 3. DROPDOWN FIXES (Black Background) */

.config-grid select.main-input {

    background-color: rgba(0, 0, 0, 0.8);

    color: #fff;

    cursor: pointer;

}



.config-grid select.main-input option, select option {

    background-color: #000000 !important;

    color: #ffffff !important;

    padding: 10px;

    font-size: 16px;

}



/* 4. Radio/Difficulty Alignment */

.diff-select-container {

    display: flex;

    gap: 20px;

    justify-content: flex-start;

    align-items: center;

}



.diff-select-container label {

    color: white !important;

    text-align: left !important;

    font-weight: normal !important;

    cursor: pointer;

    display: flex;

    align-items: center;

    gap: 5px;

}



.diff-select-container input[type="radio"] {

    accent-color: #00e5ff;

    transform: scale(1.2);

}



/* 5. Button Actions Spacing */

.menu-actions {

    display: flex;

    justify-content: center;

    gap: 20px;

    margin-top: 20px;

    padding-top: 20px;

    border-top: 1px solid #333;

}



/* =========================================

   MAIN MENU GRID (2x2 Layout)

   ========================================= */

.main-menu-grid {

    display: grid;

    grid-template-columns: 1fr 1fr;

    gap: 15px;

    width: 100%;

    max-width: 500px;

    margin: 0 auto;

}



@media (max-width: 768px) {

    .main-menu-grid {

        grid-template-columns: 1fr;

    }

}



/* --- NEW VISUAL EFFECTS (ADD TO BOTTOM OF CSS) --- */



/* HIDE THE NOISE EFFECTS */

.scanline-overlay {

    display: none !important; /* Tanggalin ang guhit sa screen */

}



#glitch-overlay {

    display: none !important; /* Tanggalin ang kurap-kurap */

}



/* Optional: Gawing mas clean ang UI Layer */

#ui-layer::after {

    /* Bawasan ang dilim sa gilid (Vignette) para mas maliwanag */

    background: radial-gradient(circle, transparent 70%, rgba(0,0,0,0.6) 100%);

}



/* 2. Vignette (Darker Corners for immersion) */

#ui-layer::after {

    content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background: radial-gradient(circle, transparent 60%, black 100%);

    pointer-events: none; z-index: -1;

}



/* 3. Red Alert Pulse (Triggered by JS when health < 30%) */

.critical-health #ui-layer {

    box-shadow: inset 0 0 100px rgba(255, 0, 0, 0.5);

    animation: heartbeat 1s infinite;

}



@keyframes heartbeat {

    0% { box-shadow: inset 0 0 50px rgba(255, 0, 0, 0.2); }

    50% { box-shadow: inset 0 0 150px rgba(255, 0, 0, 0.6); }

    100% { box-shadow: inset 0 0 50px rgba(255, 0, 0, 0.2); }

}



/* ADD TO style.css */



/* The Jammed State (Striped Red Pattern) */

.input-jammed {

    background: repeating-linear-gradient(

        45deg,

        rgba(50, 0, 0, 0.9),

        rgba(50, 0, 0, 0.9) 10px,

        rgba(100, 0, 0, 0.9) 10px,

        rgba(100, 0, 0, 0.9) 20px

    ) !important;

    border: 2px solid #ff0055 !important;

    color: #ff0055 !important;

    font-weight: 900 !important;

    text-shadow: 0 0 10px #ff0055;

    pointer-events: none; /* Block clicking */

    animation: shake 0.1s infinite;

}



/* Golden Drone Text Style */

.golden-text {

    color: #ffd700 !important;

    text-shadow: 0 0 15px #ffd700, 0 0 30px orange !important;

    font-size: 36px !important;

}



/* ADD TO style.css */



/* Dashboard Tabs */

.dash-tabs { display: flex; gap: 15px; }

.dash-view { width: 100%; height: 100%; overflow-y: auto; padding-top: 20px; }



/* Podium Layout */

#podium-container {

    display: flex; justify-content: center; align-items: flex-end;

    height: 250px; margin-bottom: 30px; gap: 10px;

}



.podium-box {

    width: 120px; text-align: center;

    border: 2px solid #444; border-radius: 10px 10px 0 0;

    background: rgba(0,0,0,0.5);

    display: flex; flex-direction: column; justify-content: flex-end; padding-bottom: 10px;

    transition: all 0.5s ease;

}



.podium-box .crown { font-size: 40px; margin-bottom: 10px; }

.podium-box .p-name { font-family: 'Orbitron'; font-weight: bold; font-size: 14px; color: white; }

.podium-box .p-score { font-family: 'Rajdhani'; font-size: 24px; font-weight: bold; color: #ffd700; }



/* Rank Specifics */

.rank-1 { height: 100%; border-color: #ffd700; box-shadow: 0 0 30px rgba(255, 215, 0, 0.2); }

.rank-2 { height: 80%; border-color: #c0c0c0; }

.rank-3 { height: 65%; border-color: #cd7f32; }



/* Spy Card */

.spy-card {

    background: #111; border: 1px solid #333; padding: 10px; border-radius: 8px;

    text-align: left; position: relative;

}

.spy-card:hover { border-color: #00e5ff; cursor: pointer; }

.spy-card h4 { margin: 0; color: white; font-size: 16px; }

.spy-bar { height: 4px; background: #333; margin-top: 5px; width: 100%; }

.spy-fill { height: 100%; background: #00e5ff; width: 0%; transition: width 0.5s; }

.status-badge { position: absolute; top: 10px; right: 10px; font-size: 10px; color: #888; }



/* =========================================

   ðŸ‘¨â€ðŸ« TEACHER DASHBOARD (COMMAND CENTER)

========================================= */



/* The main container - fills the screen, no centered box */

.dashboard-layout {

    display: flex !important; /* Override 'hidden' display */

    flex-direction: column;

    width: 100vw !important;

    height: 100vh !important;

    background: #05070a !important;

    padding: 0 !important;

    border: none !important;

    border-radius: 0 !important;

    box-shadow: none !important;

    max-width: none !important;

}



/* 1. COMMAND HEADER BAR */

.dashboard-header {

    display: flex;

    justify-content: space-between;

    align-items: center;

    padding: 15px 30px;

    background: rgba(0, 20, 40, 0.9);

    border-bottom: 2px solid #00e5ff;

    box-shadow: 0 5px 20px rgba(0, 229, 255, 0.2);

    flex-shrink: 0; /* Don't shrink */

}



.header-status {

    text-align: left;

}



.header-controls {

    display: flex;

    align-items: center;

}



/* 2. MAIN VIEWPORT AREA */

.dashboard-viewport {

    flex-grow: 1; /* Fill remaining height */

    display: flex;

    flex-direction: column;

    padding: 20px 30px;

    overflow-y: auto; /* Scroll if content is long */

}



/* TABS */

.dash-tabs {

    display: flex;

    border-bottom: 1px solid #333;

    margin-bottom: 20px;

    flex-shrink: 0;

}



.tab-btn {

    background: none;

    border: none;

    color: #888;

    padding: 10px 20px;

    font-family: 'Orbitron', sans-serif;

    font-size: 16px;

    cursor: pointer;

    transition: all 0.3s;

    border-bottom: 3px solid transparent;

}



.tab-btn:hover { color: #fff; }

.tab-btn.active {

    color: #00e5ff;

    border-bottom: 3px solid #00e5ff;

    text-shadow: 0 0 10px rgba(0, 229, 255, 0.5);

}



/* VIEW CONTAINERS */

.dash-view {

    flex-grow: 1;

    display: flex;

    flex-direction: column;

}



/* --- PODIUM STYLING --- */

.podium-stage {

    display: flex;

    justify-content: center;

    align-items: flex-end;

    margin-bottom: 40px;

    padding-top: 20px;

    flex-shrink: 0;

}



.podium-pillar {

    display: flex;

    flex-direction: column;

    align-items: center;

    margin: 0 15px;

    text-align: center;

}



.crown { font-size: 40px; margin-bottom: 5px; filter: drop-shadow(0 0 10px currentColor); }

.p-name { font-weight: bold; margin-bottom: 2px; font-size: 18px; }

.p-score { color: #ffd700; font-family: 'Courier New', monospace; margin-bottom: 10px; }



.pillar-block {

    width: 100px;

    background: linear-gradient(to bottom, rgba(255,255,255,0.1), rgba(0,0,0,0.5));

    border: 2px solid;

    border-bottom: none;

    border-radius: 8px 8px 0 0;

    display: flex;

    justify-content: center;

    align-items: flex-end;

    padding-bottom: 10px;

    font-size: 30px;

    font-weight: 900;

    color: rgba(255,255,255,0.2);

}



.gold .crown { color: #ffd700; } .gold .pillar-block { border-color: #ffd700; box-shadow: 0 -5px 20px rgba(255, 215, 0, 0.3); }

.silver .crown { color: #c0c0c0; } .silver .pillar-block { border-color: #c0c0c0; box-shadow: 0 -5px 20px rgba(192, 192, 192, 0.3); }

.bronze .crown { color: #cd7f32; } .bronze .pillar-block { border-color: #cd7f32; box-shadow: 0 -5px 20px rgba(205, 127, 50, 0.3); }



/* RUNNER UPS */

.runner-ups-container {

    flex-grow: 1;

    background: rgba(255, 255, 255, 0.05);

    border-radius: 12px;

    padding: 20px;

    overflow-y: auto;

    border: 1px solid #333;

}



.runner-ups-list .player-row:hover {

    background: rgba(0, 229, 255, 0.1);

}



/* STAT BOXES (For Reports View) */

.stat-box {

    background: rgba(0,0,0,0.5);

    border: 1px solid #333;

    padding: 15px 25px;

    border-radius: 8px;

    font-family: 'Orbitron';

}



#teacher-dashboard:not(.hidden) {

    display: flex !important;

    flex-direction: column;

    width: 100vw;

    height: 100vh;

    background: #05070a;

    padding: 0;

    border: none;

    border-radius: 0;

    box-shadow: none;

    max-width: none;

    position: fixed; /* Ensures it stays on top */

    top: 0;

    left: 0;

    z-index: 2000; /* Higher than everything else */

}



/* PHASE 3: ALERT ANIMATIONS */

@keyframes blink {

    0% { opacity: 1; }

    50% { opacity: 0.5; }

    100% { opacity: 1; }

}



/* --- PHASE 3.5: COMMANDER UI UPDATES --- */



/* Digital Stepper (Time) */

.stepper-control {

    display: flex;

    align-items: center;

    background: black;

    border: 2px solid #00e5ff;

    border-radius: 8px;

    width: fit-content;

}

.step-btn {

    background: #002233;

    color: #00e5ff;

    border: none;

    font-size: 24px;

    width: 50px;

    height: 50px;

    cursor: pointer;

    font-family: 'Orbitron';

}

.step-btn:hover { background: #00e5ff; color: black; }

#time-display {

    font-family: 'Orbitron';

    font-size: 28px;

    color: white;

    width: 120px;

    text-align: center;

    border-left: 1px solid #333;

    border-right: 1px solid #333;

}



/* Neon Chips (Operations) */

.chip-container { display: flex; flex-wrap: wrap; gap: 10px; }

.neon-chip input { display: none; }

.neon-chip span {

    display: inline-block;

    padding: 10px 20px;

    background: rgba(255,255,255,0.05);

    border: 1px solid #444;

    border-radius: 20px;

    color: #888;

    font-family: 'Rajdhani';

    font-weight: bold;

    cursor: pointer;

    transition: 0.3s;

    font-size: 14px;

}

.neon-chip span:hover { border-color: white; color: white; }

.neon-chip input:checked + span {

    background: rgba(0, 229, 255, 0.2);

    border-color: #00e5ff;

    color: #00e5ff;

    box-shadow: 0 0 15px rgba(0, 229, 255, 0.3);

}



/* Fire Streak Animation */

.on-fire-row {

    background: linear-gradient(90deg, rgba(255, 69, 0, 0.2), transparent) !important;

    border-left: 4px solid #ff4500 !important;

}

.fire-icon { font-size: 20px; text-shadow: 0 0 10px orange; animation: flicker 0.5s infinite alternate; }

@keyframes flicker { from { opacity: 0.8; } to { opacity: 1; text-shadow: 0 0 20px red; } }



/* Class Summary Line */

.summary-line {

    background: rgba(0, 20, 40, 0.9);

    padding: 10px 20px;

    border-bottom: 1px solid #333;

    color: #aaa;

    font-size: 14px;

    display: flex;

    justify-content: space-between;

}



/* ðŸš¨ REFINED DASHBOARD VISIBILITY LOGIC ðŸš¨ */



/* 1. Default State: Dashboard is HIDDEN */

#teacher-dashboard {

    display: none !important; /* Force hide by default */

    background-color: #05070a;

    z-index: 99999;

    position: fixed;

    top: 0; left: 0; right: 0; bottom: 0;

    width: 100vw;

    height: 100vh;

    overflow-y: auto;

}



/* 2. Active State: Only show if BODY has class AND dashboard lacks 'hidden' class */

body.dashboard-active #teacher-dashboard:not(.hidden) {

    display: flex !important;

    visibility: visible !important;

    opacity: 1 !important;

}



/* 3. Hide other layers when Dashboard is active */

body.dashboard-active #gameCanvas,

body.dashboard-active #glitch-overlay,

body.dashboard-active #ui-layer {

    display: none !important;

}



/* ROSTER CARD STYLES */

#roster-grid {

    display: grid;

    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));

    gap: 15px;

    padding: 20px;

    width: 100%;

}



.roster-card {

    background: rgba(0, 255, 65, 0.05);

    border: 1px solid #00ff41;

    padding: 15px;

    border-radius: 8px;

    text-align: center;

    animation: popIn 0.3s ease-out;

}

.roster-card h4 {

    margin: 0;

    color: white;

    font-family: 'Orbitron', sans-serif;

    letter-spacing: 1px;

}

.roster-card .status {

    font-size: 10px;

    color: #00ff41;

    margin-top: 5px;

    display: block;

}

@keyframes popIn {

    from { transform: scale(0.8); opacity: 0; }

    to { transform: scale(1); opacity: 1; }

}



/* AWARDING STYLES */

.winner-card {

    background: linear-gradient(180deg, rgba(255, 215, 0, 0.1), rgba(0,0,0,0.5));

    border: 2px solid #ffd700;

    padding: 20px;

    border-radius: 10px;

    text-align: center;

    width: 150px;

    box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);

    transform: translateY(0);

    animation: float 3s ease-in-out infinite;

}



.winner-card.rank-1 { border-color: #ffd700; transform: scale(1.1); z-index: 10; }

.winner-card.rank-2 { border-color: #c0c0c0; background: linear-gradient(180deg, rgba(192, 192, 192, 0.1), rgba(0,0,0,0.5)); }

.winner-card.rank-3 { border-color: #cd7f32; background: linear-gradient(180deg, rgba(205, 127, 50, 0.1), rgba(0,0,0,0.5)); }



.winner-medal { font-size: 40px; display: block; margin-bottom: 10px; }

.winner-name { font-family: 'Orbitron'; font-weight: bold; color: white; font-size: 18px; }

.winner-score { font-family: 'Rajdhani'; color: #ffd700; font-size: 24px; font-weight: bold; }



@keyframes float {

    0% { transform: translateY(0px) scale(1); }

    50% { transform: translateY(-10px) scale(1); }

    100% { transform: translateY(0px) scale(1); }

}



/* =========================================

   ðŸ›¸ GALACTIC WAR INTRO STYLES

   ========================================= */



#cinematic-intro {

    position: fixed;

    top: 0; left: 0; width: 100vw; height: 100vh;

    background-color: #050510;

    z-index: 999999;

    overflow: hidden;

    display: flex;

    justify-content: center;

    align-items: center;

    perspective: 1000px;

}



/* --- 1. DEEP SPACE & STARS --- */

.space-bg {

    position: absolute; width: 100%; height: 100%;

    background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);

}



.stars-1, .stars-2 {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background-image: 

        radial-gradient(2px 2px at 20px 30px, #eee, rgba(0,0,0,0)),

        radial-gradient(2px 2px at 40px 70px, #fff, rgba(0,0,0,0)),

        radial-gradient(2px 2px at 50px 160px, #ddd, rgba(0,0,0,0)),

        radial-gradient(2px 2px at 90px 40px, #fff, rgba(0,0,0,0));

    background-repeat: repeat;

    background-size: 200px 200px;

    opacity: 0;

    animation: zoomStars 4s linear infinite;

}

.stars-2 { background-size: 300px 300px; animation-duration: 6s; }



@keyframes zoomStars {

    0% { opacity: 0; transform: scale(1); }

    50% { opacity: 0.8; }

    100% { opacity: 0; transform: scale(2); }

}



/* --- 2. NEBULA CLOUDS (Ang "Ulap-ulap") --- */

.nebula-layer {

    position: absolute; width: 200%; height: 200%;

    top: -50%; left: -50%;

    background-image: 

        radial-gradient(circle at 50% 50%, rgba(76, 29, 149, 0.2), transparent 40%),

        radial-gradient(circle at 20% 80%, rgba(255, 0, 85, 0.15), transparent 30%),

        radial-gradient(circle at 80% 20%, rgba(0, 229, 255, 0.15), transparent 30%);

    filter: blur(30px);

    animation: nebulaMove 10s ease-in-out infinite alternate;

}



@keyframes nebulaMove {

    0% { transform: rotate(0deg) scale(1); }

    100% { transform: rotate(10deg) scale(1.1); }

}



/* --- 3. BATTLE ELEMENTS (Lasers & Ships) --- */

.laser-beam {

    position: absolute;

    height: 4px;

    background: linear-gradient(90deg, transparent, #ff0055, #ffcc00, transparent);

    box-shadow: 0 0 15px #ff0055;

    opacity: 0.8;

    transform: rotate(-10deg);

    border-radius: 50%;

}



.ally-laser {

    background: linear-gradient(90deg, transparent, #00f3ff, #fff, transparent);

    box-shadow: 0 0 15px #00f3ff;

}



.space-ship {

    position: absolute;

    width: 0; height: 0;

    border-top: 10px solid transparent;

    border-bottom: 10px solid transparent;

    border-left: 30px solid #333;

    filter: drop-shadow(0 0 5px #000);

    z-index: 5;

}



/* --- 4. THE LOGO (MATH DEFENDER) --- */

.intro-ui {

    position: relative; z-index: 50; text-align: center;

}



.defender-logo {

    font-family: 'Orbitron', sans-serif;

    font-size: 90px;

    font-weight: 900;

    color: #fff;

    letter-spacing: 5px;

    text-transform: uppercase;

    position: relative;

    /* Metallic/Gradient Text */

    background: linear-gradient(to bottom, #ffffff 40%, #a0a0a0 50%, #555 100%);

    -webkit-background-clip: text;

    -webkit-text-fill-color: transparent;

    filter: drop-shadow(0 0 20px rgba(0, 229, 255, 0.5));

    

    transform: scale(3); opacity: 0; /* Start State */

    animation: logoSlam 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 1s forwards;

}



/* Glitch Effect on Text */

.defender-logo::before {

    content: attr(data-text);

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background: none;

    -webkit-text-fill-color: #00f3ff;

    z-index: -1;

    opacity: 0.5;

    transform: translate(-3px, 0);

    animation: glitchText 2s infinite linear alternate-reverse;

}



.defender-logo::after {

    content: attr(data-text);

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background: none;

    -webkit-text-fill-color: #ff0055;

    z-index: -1;

    opacity: 0.5;

    transform: translate(3px, 0);

    animation: glitchText 3s infinite linear alternate-reverse;

}



.subtitle-text {

    font-family: 'Rajdhani';

    font-size: 20px;

    color: #ffd700;

    letter-spacing: 12px;

    margin-top: 10px;

    opacity: 0;

    animation: fadeIn 1s ease-out 1.8s forwards;

    text-shadow: 0 0 10px #ffd700;

}



/* --- 5. LOADING SYSTEM --- */

.loading-system {

    margin-top: 50px;

    opacity: 0;

    animation: fadeIn 0.5s ease-out 2s forwards;

}



.tech-bar {

    width: 400px; height: 6px;

    background: rgba(255,255,255,0.1);

    border: 1px solid #444;

    border-radius: 10px;

    margin: 0 auto;

    overflow: hidden;

    position: relative;

}



.tech-fill {

    width: 0%; height: 100%;

    background: #00ff41;

    box-shadow: 0 0 15px #00ff41;

    animation: loadTech 3s cubic-bezier(0.65, 0, 0.35, 1) 2s forwards;

}



.loading-status {

    font-family: 'Courier New', monospace;

    font-size: 12px; color: #00ff41;

    margin-top: 8px;

    animation: blink 0.2s infinite;

}



/* --- 6. FX LAYERS --- */

.screen-flash {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background: white;

    opacity: 0;

    pointer-events: none;

    z-index: 100;

    animation: flashBang 0.2s ease-out 1s; /* Timed with Logo Slam */

}



.vignette-overlay {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background: radial-gradient(circle, transparent 50%, black 100%);

    pointer-events: none; z-index: 20;

}



/* --- ANIMATIONS --- */

@keyframes logoSlam {

    0% { transform: scale(3); opacity: 0; }

    70% { transform: scale(1); opacity: 1; }

    85% { transform: scale(1.1); }

    100% { transform: scale(1); opacity: 1; }

}



@keyframes glitchText {

    0% { clip-path: inset(10% 0 80% 0); }

    20% { clip-path: inset(80% 0 10% 0); }

    40% { clip-path: inset(40% 0 40% 0); }

    60% { clip-path: inset(10% 0 60% 0); }

    80% { clip-path: inset(70% 0 20% 0); }

    100% { clip-path: inset(30% 0 50% 0); }

}



@keyframes loadTech { 0% { width: 0%; } 100% { width: 100%; } }

@keyframes flashBang { 0% { opacity: 0; } 50% { opacity: 0.8; } 100% { opacity: 0; } }

@keyframes fadeIn { to { opacity: 1; } }

@keyframes blink { 0%,100% { opacity: 1; } 50% { opacity: 0.5; } }



/* --- EXIT ANIMATION (Added by JS) --- */

#cinematic-intro.warp-out {

    animation: warpSpeed 1s ease-in forwards;

}



@keyframes warpSpeed {

    0% { transform: scale(1); opacity: 1; }

    50% { transform: scale(1.5) rotate(5deg); opacity: 0.5; filter: blur(10px); }

    100% { transform: scale(5); opacity: 0; }

}



@media (max-width: 768px) {

    .defender-logo { font-size: 50px; }

    .tech-bar { width: 80%; }

}



/* =========================================

   ðŸ“¡ STORY & TUTORIAL STYLES

   ========================================= */



#story-overlay {

    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;

    background: rgba(0, 5, 10, 0.95);

    z-index: 99990; /* Lower than intro, higher than game */

    display: flex; justify-content: center; align-items: center;

    backdrop-filter: blur(10px);

}



.comm-panel {

    width: 700px; max-width: 90%;

    border: 2px solid #00f3ff;

    background: rgba(0, 20, 30, 0.9);

    box-shadow: 0 0 50px rgba(0, 243, 255, 0.2);

    border-radius: 5px;

    overflow: hidden;

    animation: panelSlideUp 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards;

}



@keyframes panelSlideUp {

    from { transform: translateY(50px); opacity: 0; }

    to { transform: translateY(0); opacity: 1; }

}



.comm-header {

    background: #002233;

    padding: 10px 20px;

    border-bottom: 1px solid #00f3ff;

    display: flex; justify-content: space-between;

    font-family: 'Rajdhani'; font-weight: bold; color: #00f3ff; letter-spacing: 2px;

}



.comm-content {

    padding: 30px;

    display: flex; gap: 20px;

    align-items: flex-start;

}



/* AVATAR (Sound Wave Effect) */

.avatar-box {

    width: 100px; height: 100px;

    border: 1px solid #334;

    background: black;

    display: flex; flex-direction: column;

    justify-content: center; align-items: center;

    border-radius: 4px;

}



.sound-wave {

    display: flex; gap: 3px; align-items: center; height: 40px;

}



.sound-wave .bar {

    width: 4px; background: #00ff41;

    animation: wave 0.5s infinite ease-in-out;

}

.sound-wave .bar:nth-child(1) { height: 20%; animation-delay: 0.1s; }

.sound-wave .bar:nth-child(2) { height: 50%; animation-delay: 0.2s; }

.sound-wave .bar:nth-child(3) { height: 80%; animation-delay: 0.3s; }

.sound-wave .bar:nth-child(4) { height: 40%; animation-delay: 0.4s; }



@keyframes wave { 0%, 100% { height: 20%; } 50% { height: 100%; } }



.commander-label {

    margin-top: 10px; font-size: 10px; color: #888; font-family: 'Orbitron';

}



/* DIALOGUE TEXT */

.dialogue-box { flex-grow: 1; }



#story-text {

    font-family: 'Courier New', monospace;

    font-size: 16px; color: #fff;

    line-height: 1.6; margin: 0;

    min-height: 80px;

    text-shadow: 0 0 5px rgba(255,255,255,0.5);

}



/* VISUAL DEMO BOX */

#tutorial-visual {

    margin-top: 20px;

    border: 1px dashed #445;

    background: rgba(0,0,0,0.5);

    padding: 15px;

    border-radius: 4px;

    text-align: center;

    color: #ffd700;

    font-family: 'Rajdhani';

}



.demo-meteor {

    display: inline-block; padding: 10px 20px;

    border: 2px solid #ff0055; border-radius: 50%;

    color: #fff; font-weight: bold; font-family: 'Orbitron';

    margin-bottom: 10px;

    box-shadow: 0 0 10px #ff0055;

}



.comm-footer {

    padding: 15px 30px;

    border-top: 1px solid #333;

    display: flex; justify-content: flex-end; gap: 15px;

}



/* BLINK ANIMATION */

.blink { animation: blink 1s infinite; }



.pulse-btn {

    animation: pulseRed 1s infinite;

    border-color: #ffd700 !important;

    color: #ffd700 !important;

}

@keyframes pulseRed {

    0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7); }

    70% { box-shadow: 0 0 0 10px rgba(255, 215, 0, 0); }

    100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }

}



/* MISSION DEBRIEF STYLES */

#mission-debrief-container {

    background: rgba(0, 20, 40, 0.6);

    border-radius: 5px;

    animation: fadeIn 0.5s ease-in-out;

}



#debrief-rank {

    text-shadow: 0 0 10px currentColor; /* Glowing text */

}



/* Rank Colors */

.rank-s { color: #ffd700 !important; text-shadow: 0 0 20px #ffd700 !important; } /* Gold */

.rank-a { color: #00ff41 !important; text-shadow: 0 0 15px #00ff41 !important; } /* Green */

.rank-b { color: #00e5ff !important; text-shadow: 0 0 15px #00e5ff !important; } /* Blue */

.rank-c { color: #ff9900 !important; } /* Orange */

.rank-d { color: #ff0055 !important; } /* Red */



/* OUTRO OVERLAY */

#cinematic-outro {

    position: fixed;

    top: 0; left: 0;

    width: 100%; height: 100%;

    background: black;

    z-index: 99999; /* Highest priority */

    display: flex;

    justify-content: center;

    align-items: center;

    text-align: center;

    animation: fadeIn 0.5s forwards;

}



.outro-content h1 {

    font-family: 'Orbitron', sans-serif;

    font-size: 60px;

    letter-spacing: 5px;

    margin: 0;

    color: white;

    text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);

}



.outro-content p {

    font-family: 'Courier New', monospace;

    color: #00e5ff;

    margin-top: 20px;

    font-size: 18px;

    animation: blink 1s infinite;

}



.loader-line {

    width: 0%;

    height: 4px;

    background: #00ff41;

    margin: 20px auto;

    box-shadow: 0 0 10px #00ff41;

    animation: loadLine 2.5s ease-in-out forwards;

}



@keyframes loadLine {

    0% { width: 0%; }

    100% { width: 100%; }

}



/* Glitch Effect for Text */

.glitch-text {

    animation: glitch-anim 0.3s infinite;

}



@keyframes glitch-anim {

    0% { transform: translate(0); }

    20% { transform: translate(-2px, 2px); }

    40% { transform: translate(-2px, -2px); }

    60% { transform: translate(2px, 2px); }

    80% { transform: translate(2px, -2px); }

    100% { transform: translate(0); }

}



/* SHOP STYLES */

.large-modal {

    width: 90%;

    max-width: 800px;

    height: 80vh;

    display: flex;

    flex-direction: column;

}



.shop-header {

    display: flex;

    justify-content: space-between;

    align-items: center;

    padding: 10px 20px;

    background: rgba(0,0,0,0.5);

    border-bottom: 1px solid #333;

}



.shop-balance {

    font-family: 'Orbitron', sans-serif;

    font-size: 24px;

    color: #ffd700;

}



.shop-tabs {

    display: flex;

    justify-content: center;

    gap: 10px;

    margin: 20px 0;

}



.shop-grid {

    display: grid;

    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));

    gap: 15px;

    overflow-y: auto;

    padding: 10px;

    flex-grow: 1; /* Fills remaining height */

}



/* ITEM CARD */

.shop-item {

    background: rgba(10, 20, 30, 0.9);

    border: 1px solid #333;

    border-radius: 8px;

    padding: 15px;

    text-align: center;

    transition: transform 0.2s, border-color 0.2s;

    position: relative;

}



.shop-item:hover {

    transform: translateY(-5px);

    border-color: #00e5ff;

    box-shadow: 0 0 15px rgba(0, 229, 255, 0.2);

}



.shop-item.owned {

    border-color: #00ff41;

}



.shop-item.equipped {

    border-color: gold;

    box-shadow: 0 0 15px gold;

}



.shop-item img {

    width: 80px;

    height: 80px;

    object-fit: contain;

    margin-bottom: 10px;

}



.shop-item h4 {

    margin: 5px 0;

    color: #fff;

    font-family: 'Rajdhani';

}



.shop-item .price {

    color: #ffd700;

    font-weight: bold;

    margin-bottom: 10px;

}



.shop-btn {

    width: 100%;

    padding: 8px;

    border: none;

    cursor: pointer;

    font-weight: bold;

    font-family: 'Orbitron';

}



.btn-buy { background: #00e5ff; color: black; }

.btn-equip { background: #333; color: white; border: 1px solid white; }

.btn-equipped { background: gold; color: black; cursor: default; }



/* Disable upgrades visual cue */

.shop-item.disabled {

    opacity: 0.5;

    pointer-events: none;

}



/* UPGRADE PROGRESS BAR */

.upgrade-track {

    width: 100%;

    height: 8px;

    background: #222;

    border: 1px solid #444;

    border-radius: 4px;

    margin: 8px 0;

    overflow: hidden;

    position: relative;

}



.upgrade-fill {

    height: 100%;

    background: linear-gradient(90deg, #00e5ff, #00ff41);

    width: 0%; /* Dynamic */

    transition: width 0.3s ease;

}



/* LEVEL INDICATOR TEXT */

.level-text {

    font-size: 10px;

    color: #aaa;

    display: flex;

    justify-content: space-between;

}



/* BUNDLE CARD (For FX) */

.fx-preview {

    width: 40px;

    height: 40px;

    border-radius: 50%;

    margin: 0 auto 10px auto;

    box-shadow: 0 0 10px currentColor;

    background: #000;

}



/* --- ðŸ› ï¸ SHOP UPGRADES & FX (MISSING STYLES) --- */



/* Upgrade Progress Bar (The Green Line) */

.upgrade-track {

    width: 100%;

    height: 10px;

    background: #222;

    border: 1px solid #555;

    border-radius: 5px;

    margin: 10px 0;

    overflow: hidden;

    position: relative;

    box-shadow: inset 0 0 5px rgba(0,0,0,0.8);

}



.upgrade-fill {

    height: 100%;

    background: linear-gradient(90deg, #00e5ff, #00ff41);

    width: 0%; /* Dynamic Width */

    transition: width 0.3s ease-in-out;

    box-shadow: 0 0 10px #00ff41;

}



/* Level Text (Lvl 1 / Max 7) */

.level-text {

    display: flex;

    justify-content: space-between;

    font-size: 12px;

    color: #889;

    font-family: 'Courier New', monospace;

    font-weight: bold;

    margin-bottom: 2px;

}



/* Battle FX Circle Preview (For Aura/Laser) */

.fx-preview {

    width: 60px;

    height: 60px;

    border-radius: 50%;

    margin: 0 auto 15px auto;

    background: black;

    border: 2px solid white;

    box-shadow: 0 0 20px currentColor; /* Glows based on item color */

    animation: pulseFX 2s infinite;

}



@keyframes pulseFX {

    0% { transform: scale(0.95); opacity: 0.8; }

    50% { transform: scale(1.05); opacity: 1; }

    100% { transform: scale(0.95); opacity: 0.8; }

}



/* Tab Active State Fix */

.shop-tabs .tab-btn.active {

    color: #ffd700;

    border-bottom: 2px solid #ffd700;

    text-shadow: 0 0 10px #ffd700;

}



/* =========================================

   ðŸ“– THE ANCIENT CODEX (FIXED & POLISHED)

   ========================================= */



.book-stage {

    display: flex;

    flex-direction: column;

    align-items: center;

    justify-content: center;

    perspective: 2000px; /* Deep 3D */

    height: 100vh;

    z-index: 2000;

}



.book {

    position: relative;

    width: 420px;  /* Width ng ISANG PAGE */

    height: 600px;

    transform-style: preserve-3d;

    transition: transform 0.6s;

}



/* Kapag bumukas, umusog pakanan para nasa gitna ang spread */

.book.opened {

    transform: translateX(210px); 

}



/* --- PAPER STYLING --- */

.paper {

    position: absolute;

    width: 100%;

    height: 100%;

    top: 0; left: 0;

    transform-origin: left center; /* Pivot sa Spine */

    transition: transform 1s cubic-bezier(0.645, 0.045, 0.355, 1), z-index 0.5s;

    transform-style: preserve-3d;

    border-radius: 5px 15px 15px 5px;

    box-shadow: 2px 2px 10px rgba(0,0,0,0.2);

}



/* FRONT & BACK FACES */

.front, .back {

    position: absolute;

    width: 100%;

    height: 100%;

    backface-visibility: hidden; /* IMPORTANTE: Para di magpatong ang text */

    top: 0; left: 0;

    

    /* Solid Background para di tumagos ang text */

    background-color: #f3e5ce; 

    background-image: url("https://www.transparenttextures.com/patterns/cream-paper.png");

    border: 1px solid #cbb;

    overflow: hidden;

}



/* Front Face */

.front {

    z-index: 2;

    /* Gradient Shadow sa Spine (Left) */

    background: linear-gradient(to right, #e3d0a6, #f3e5ce 15%); 

}



/* Back Face (Rotated) */

.back {

    transform: rotateY(180deg);

    z-index: 1;

    /* Gradient Shadow sa Spine (Right) */

    background: linear-gradient(to left, #e3d0a6, #f3e5ce 15%); 

}



/* Flipped State (Nasa Kaliwa na) */

.flipped .front, .flipped .back {

    pointer-events: none; /* Disable interaction pag lumipat na */

}

.paper.flipped {

    transform: rotateY(-180deg);

}



/* --- COVER DESIGN (LEATHER) --- */

.cover-front {

    background-color: #3e2723;

    background-image: url("https://www.transparenttextures.com/patterns/leather.png");

    border: 5px solid #aa8800;

    display: flex; justify-content: center; align-items: center; text-align: center;

}

.cover-front h1 {

    font-family: 'Cinzel', serif; font-size: 55px; color: #ffd700;

    text-shadow: 2px 4px 5px #000; margin: 0;

}

.cover-front p {

    font-family: 'Rajdhani'; color: #d4af37; font-size: 20px; letter-spacing: 5px;

}

.cover-back {

    background-color: #2a1a10; /* Inner cover color */

    background-image: none;

}



/* =========================================

   ðŸ“– JESSBOOK VISUAL FIX (READABILITY)

   ========================================= */



/* 1. Siguraduhing Dark Brown ang kulay ng papel (Fallback) */

.front, .back {

    color: #2c1e16 !important; 

}



/* 2. Page Content Container */

.page-content {

    padding: 35px;

    text-align: left; /* Gawing Left-align para mas madaling basahin kaysa center */

    color: #2c1e16 !important; /* Dark Ink Color */

    font-family: 'Georgia', 'Times New Roman', serif !important; /* Gawing Serif font para mukhang libro */

    overflow-y: auto; /* Lagyan ng scroll kung mahaba ang lesson */

    height: 85%; 

}



/* 3. Force Text Colors & Sizes for Paragraphs and Lists */

.page-content p, .page-content ul, .page-content ol, .page-content li {

    font-size: 14px;

    line-height: 1.6;

    margin-bottom: 12px;

    color: #2c1e16 !important; /* Dark brown ink */

    font-family: 'Georgia', 'Times New Roman', serif !important;

    text-shadow: none !important; /* TANGGALIN ANG NEON GLOW */

}



/* 4. Force Colors & Fonts for Headings (Titles) */

.page-content h1, .page-content h2, .page-content h3 {

    font-size: 22px;

    margin-bottom: 15px;

    margin-top: 0;

    color: #3e2723 !important; /* Darker heading color */

    font-family: 'Georgia', 'Times New Roman', serif !important;

    text-shadow: none !important;

    font-weight: bold;

    border-bottom: 2px solid #8d6e63; /* Guhit sa ilalim ng title */

    padding-bottom: 8px;

}



/* 5. Ayusin ang Tip Box readability */

.tip-box {

    background: rgba(212, 175, 55, 0.15) !important; /* Transparent Gold Background */

    border: 2px dashed #d4af37; /* Dashed Gold Border */

    color: #2c1e16 !important; /* Dark text inside box */

    padding: 15px;

    border-radius: 8px;

    font-family: 'Rajdhani', sans-serif !important; /* Iba ang font para sa tips */

    font-weight: bold;

    font-size: 13px;

    margin-top: 20px;

    text-shadow: none !important;

}



/* 6. Highlighted/Bold Text (Emphasis) */

.page-content b, .page-content strong {

    color: #bf360c !important; /* Reddish Brown para sa important words */

}



/* 7. Code/Math Examples */

.page-content code {

    background: rgba(0,0,0,0.05);

    padding: 2px 6px;

    border-radius: 4px;

    font-family: 'Courier New', monospace !important;

    color: #d84315 !important; /* Orange-Red para sa numbers */

    font-weight: bold;

    border: 1px solid rgba(0,0,0,0.1);

}

.tip-box {

    background: rgba(255, 215, 0, 0.2);

    border-left: 4px solid orange;

    padding: 10px; margin: 15px 0; font-style: italic; font-size: 18px;

}



/* Controls */

.book-controls { margin-top: 30px; display: flex; gap: 20px; z-index: 2001; }

.magic-btn {

    background: #000; border: 1px solid #ffd700; color: #ffd700;

    padding: 10px 25px; font-family: 'Cinzel'; cursor: pointer; transition: 0.3s;

}

.magic-btn:hover { background: #ffd700; color: #000; }

.magic-btn.close { border-color: red; color: red; }

.magic-btn.close:hover { background: red; color: white; }



/* --- ðŸŽ¨ BACK COVER (AUTHOR PAGE) --- */

.back-cover-content {

    width: 100%; height: 100%;

    /* Leather Texture (Pareho sa Front Cover) */

    background-color: #3e2723;

    background-image: url("https://www.transparenttextures.com/patterns/leather.png");

    

    display: flex; flex-direction: column;

    justify-content: center; align-items: center; text-align: center;

    border: 5px solid #aa8800;

    box-shadow: inset 10px 0 40px rgba(0,0,0,0.5); /* Depth */

    position: absolute; top: 0; left: 0;

}



.back-cover-content h1 {

    font-family: 'Cinzel', serif !important;

    font-size: 40px !important;

    color: #ffd700 !important;

    text-shadow: 2px 4px 5px #000 !important;

    border-bottom: none !important;

    margin: 10px 0 !important;

}



.back-cover-content h3 {

    font-family: 'Orbitron', sans-serif !important;

    font-size: 14px !important;

    letter-spacing: 4px;

    color: #d4af37 !important;

    opacity: 0.8;

    margin-bottom: 5px;

}



.back-cover-content p {

    font-family: 'Rajdhani', sans-serif !important;

    font-size: 16px !important;

    color: #f4e4bc !important;

    margin-top: 5px;

}



.gold-divider {

    width: 60%; height: 3px;

    background: linear-gradient(90deg, transparent, #ffd700, transparent);

    margin: 20px 0;

}



/* =========================================

   ðŸ“– JESSBOOK CROPPING FIX

   ========================================= */



/* 1. I-adjust natin ng konti ang height para hindi sumagad sa page number */

.page-content {

    height: 78% !important; /* Mula 85%, binawasan natin para may allowance sa ilalim */

    overflow-y: auto !important; 

    padding-right: 15px !important; 

    /* Tanggalin ang lumang padding-bottom dito, papalitan natin ng mas epektibong paraan */

}



/* 2. ðŸŸ¢ THE SECRET FIX: Maglalagay tayo ng "invisible space" sa pinakadulo ng bawat pahina */

.page-content::after {

    content: "";

    display: block;

    height: 40px; /* Ito ang pipilit sa scrollbar na bumaba pa lagpas sa Tip Box */

    width: 100%;

}



/* 3. Siguraduhin na may margin sa ilalim ang tip-box mismo */

.tip-box {

    padding: 12px;

    font-size: 15px; 

    margin-top: 15px !important;

    margin-bottom: 20px !important; /* Extra tulak pataas */

    line-height: 1.5;

    background: rgba(212, 175, 55, 0.2) !important;

    color: #2c1e16 !important; 

    border: 1px dashed #d4af37;

    text-shadow: none !important;

}



/* =========================================

   ðŸ“Š AGENT DASHBOARD STYLES (REDESIGNED)

   ========================================= */



/* Badge Styling */

.badge-icon {

    width: 50px; height: 50px;

    border-radius: 8px;

    background: #111;

    border: 2px solid #333;

    display: flex; justify-content: center; align-items: center;

    font-size: 26px;

    filter: grayscale(100%);

    opacity: 0.3;

    transition: 0.3s;

}

.badge-icon.unlocked {

    filter: none;

    opacity: 1;

    border-color: #ffd700;

    box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);

    background: rgba(255, 215, 0, 0.1);

}



/* Avatar Option Hover */

.avatar-option {

    cursor: pointer;

    border: 2px solid transparent;

    transition: 0.2s;

    width: 100%;

    height: auto;

}

.avatar-option:hover {

    border-color: #00e5ff;

    transform: scale(1.1);

    box-shadow: 0 0 15px rgba(0, 229, 255, 0.5);

}



/* Table Styling */

#match-history-body tr {

    border-bottom: 1px solid #222;

    transition: background 0.2s;

}

#match-history-body tr:nth-child(even) { 

    background: rgba(255, 255, 255, 0.02); 

}

#match-history-body tr:hover { 

    background: rgba(0, 229, 255, 0.1); 

}

#match-history-body td {

    padding: 12px;

}

/* =========================================

   ðŸ–¥ï¸ LANDSCAPE & HD SCALING OVERHAUL

   ========================================= */



/* 1. PALAKIHIN ANG JESSBOOK (CODEX) */

.book {

    width: 520px !important;  /* Mula 420px, mas malapad ang pahina */

    height: 740px !important; /* Mula 600px, mas matangkad */

}

.book.opened {

    transform: translateX(260px) !important; /* Half ng 520px para laging gitna */

}

.page-content p, .page-content ul, .page-content ol, .page-content li {

    font-size: 18px !important; /* Mas malaki at kumportableng basahin */

    line-height: 1.6 !important;

}



/* 2. PALAKIHIN ANG STORY / LIVE FEED PANEL */

.comm-panel {

    width: 950px !important; /* Wide screen dialogue box */

    max-width: 95vw !important;

    padding: 10px;

}

.avatar-box {

    width: 140px !important; /* Mas malaking Profile icon sa story */

    height: 140px !important;

}

#story-text {

    font-size: 22px !important; /* Mas malaking cinematic text */

    line-height: 1.8 !important;

}

.demo-meteor {

    font-size: 24px !important; /* Mas kitang-kita na examples */

    padding: 15px 30px !important;

}



/* 3. GAWING WIDE (LANDSCAPE) ANG MGA DASHBOARD MODALS */

.modal-content {

    max-width: 95vw !important; /* Payagan lumapad ang lahat ng modals */

}



/* Specific Widths para sa ibang dashboard */

#mission-config-modal .modal-content,

#classroom-setup-modal .modal-content {

    width: 900px !important; 

}

#leaderboard-modal .modal-content {

    width: 800px !important;

}

#mp-menu-modal .modal-content {

    width: 700px !important;

}



/* 4. SHOP GRID ENHANCEMENT (More items per row) */

#shop-grid {

    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)) !important;

}



/* =========================================

   ðŸ† FINAL RESULT DASHBOARD STYLES

   ========================================= */



/* Stat Cards (Glassmorphism) */

.stat-card {

    background: rgba(255, 255, 255, 0.03);

    border: 1px solid #333;

    border-radius: 8px;

    padding: 15px;

    text-align: center;

    transition: transform 0.2s;

}

.stat-card:hover {

    background: rgba(255, 255, 255, 0.05);

    border-color: #555;

    transform: translateY(-2px);

}

.stat-label {

    font-family: 'Rajdhani', sans-serif;

    font-size: 12px;

    color: #888;

    letter-spacing: 1px;

    margin-bottom: 5px;

    text-transform: uppercase;

}

.stat-value {

    font-family: 'Orbitron', sans-serif;

    font-size: 32px;

    font-weight: 900;

}



/* Podium Pillars */

.podium-column {

    display: flex;

    flex-direction: column;

    align-items: center;

    justify-content: flex-end;

    width: 80px;

    transition: height 1s ease-out;

}

.podium-avatar {

    width: 60px; height: 60px;

    border-radius: 50%;

    background: #000;

    border: 2px solid #555;

    margin-bottom: 10px;

    display: flex; align-items: center; justify-content: center;

    font-size: 24px;

    box-shadow: 0 5px 15px rgba(0,0,0,0.5);

    z-index: 2;

}

.podium-bar {

    width: 100%;

    background: linear-gradient(to bottom, rgba(255,255,255,0.1), rgba(0,0,0,0.8));

    border: 1px solid #444;

    border-bottom: none;

    border-radius: 8px 8px 0 0;

    display: flex; align-items: flex-end; justify-content: center;

    padding-bottom: 10px;

    font-family: 'Orbitron';

    font-weight: bold;

    color: rgba(255,255,255,0.3);

    font-size: 40px;

    position: relative;

}



/* Rank Specifics */

.rank-1 .podium-avatar { border-color: #ffd700; box-shadow: 0 0 20px #ffd700; }

.rank-1 .podium-bar { height: 180px; border-color: #ffd700; background: linear-gradient(to bottom, rgba(255, 215, 0, 0.2), rgba(0,0,0,0.8)); }

.rank-1 .rank-num { color: #ffd700; }



.rank-2 .podium-avatar { border-color: #c0c0c0; }

.rank-2 .podium-bar { height: 130px; border-color: #c0c0c0; }



.rank-3 .podium-avatar { border-color: #cd7f32; }

.rank-3 .podium-bar { height: 90px; border-color: #cd7f32; }



/* Winner Name */

.winner-name-tag {

    font-size: 12px; color: #fff; margin-top: 5px; font-family: 'Rajdhani';

    background: #111; padding: 2px 8px; border-radius: 4px; border: 1px solid #333;

}



/* =========================================

   ðŸŒ‘ CYBER CURTAIN STYLES

   ========================================= */

#class-curtain {

    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;

    background: #000510; /* Deep Space Blue-Black */

    z-index: 999999;

    display: flex; justify-content: center; align-items: center;

    flex-direction: column;

}



/* Moving Grid Effect */

.cyber-grid {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background-image: 

        linear-gradient(rgba(0, 229, 255, 0.1) 1px, transparent 1px),

        linear-gradient(90deg, rgba(0, 229, 255, 0.1) 1px, transparent 1px);

    background-size: 50px 50px;

    opacity: 0.3;

    animation: gridMove 20s linear infinite;

}

@keyframes gridMove { from { transform: translateY(0); } to { transform: translateY(50px); } }



.curtain-content { z-index: 2; text-align: center; }



/* Spinning Loader */

.loader-ring {

    width: 80px; height: 80px; margin: 0 auto 20px;

    border: 5px solid rgba(0, 229, 255, 0.2);

    border-top: 5px solid #00e5ff;

    border-radius: 50%;

    animation: spin 1s linear infinite;

}

@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }



/* Typography */

.glitch-text {

    font-family: 'Orbitron', sans-serif;

    font-size: 32px; color: #fff; letter-spacing: 5px;

    text-shadow: 0 0 10px #00e5ff;

    margin: 0;

}

.neon-number {

    font-family: 'Orbitron', sans-serif;

    font-size: 150px; font-weight: 900;

    color: #ffd700;

    text-shadow: 0 0 50px rgba(255, 215, 0, 0.8);

    margin: 10px 0;

    line-height: 1;

}

.blink-text {

    font-family: 'Rajdhani', sans-serif;

    font-size: 16px; color: #00ff41; letter-spacing: 3px;

    animation: blink 1s infinite;

}

@keyframes blink { 50% { opacity: 0.5; } }



/* =========================================

   ðŸ›¸ CLASS SELECTION TERMINAL DESIGN

   ========================================= */



/* 1. The Dark Overlay Background */

#class-selection-modal {

    background: rgba(0, 5, 16, 0.97) !important; /* Darker, deeper space background */

    backdrop-filter: blur(8px); /* Adds a futuristic blur effect to what's behind */

}



/* 2. The Main Terminal Box */

#class-selection-modal > div {

    background: linear-gradient(160deg, #050a15 0%, #001525 100%); /* Subtle dark gradient */

    border: 2px solid #00e5ff; /* Bright Neon Cyan border */

    box-shadow: 

        0 0 40px rgba(0, 229, 255, 0.3), /* Outer Cyan Glow */

        inset 0 0 20px rgba(0, 229, 255, 0.1); /* Inner Cyan Glow */

    border-radius: 12px;

    padding: 50px 40px !important; /* More breathing room */

    position: relative;

    overflow: hidden; /* Keeps decorative elements inside */

    max-width: 500px;

    width: 90%;

}



/* ðŸŒ Decorative "Tech Corners" (Gold Accents) */

#class-selection-modal > div::before,

#class-selection-modal > div::after {

    content: '';

    position: absolute;

    width: 25px; height: 25px;

    border: 3px solid #ffd700; /* Gold corners */

    z-index: 2;

    opacity: 0.8;

}

#class-selection-modal > div::before {

    top: -3px; left: -3px;

    border-bottom: none; border-right: none;

}

#class-selection-modal > div::after {

    bottom: -3px; right: -3px;

    border-top: none; border-left: none;

}



/* 3. Typography Upgrades */

#class-selection-modal h2 {

    font-family: 'Orbitron', sans-serif;

    color: #ffd700; /* Gold Title */

    font-size: 28px;

    letter-spacing: 4px;

    margin-bottom: 15px;

    text-shadow: 0 0 15px rgba(255, 215, 0, 0.5);

    position: relative;

}

/* Adding a small underline scanner effect to the title */

#class-selection-modal h2::after {

    content: ''; display: block; width: 60px; height: 3px;

    background: #ffd700; margin: 10px auto 0;

    box-shadow: 0 0 10px #ffd700;

}



#class-selection-modal p {

    font-family: 'Rajdhani', sans-serif;

    color: #00e5ff; /* Cyan Subtitle */

    font-size: 16px;

    letter-spacing: 2px;

    opacity: 0.8;

    margin-bottom: 40px;

}



/* 4. The Input Field (Data Entry) */

#class-code-direct {

    background: rgba(0, 0, 0, 0.6);

    border: 2px solid #333;

    color: #fff;

    font-family: 'Orbitron', sans-serif;

    font-size: 24px;

    letter-spacing: 6px;

    text-align: center;

    padding: 15px;

    border-radius: 8px;

    transition: all 0.3s ease;

    box-shadow: inset 0 0 10px rgba(0,0,0,0.8);

}



#class-code-direct:focus {

    border-color: #00e5ff; /* Glows cyan when typing */

    box-shadow: 

        0 0 25px rgba(0, 229, 255, 0.6),

        inset 0 0 10px rgba(0, 229, 255, 0.2);

    outline: none;

    transform: scale(1.02);

}



#class-selection-modal label {

    font-family: 'Rajdhani', sans-serif;

    color: #888;

    font-size: 14px;

    letter-spacing: 2px;

    margin-bottom: 10px;

    display: block;

}



/* 5. Buttons Overhaul */

#class-selection-modal .modal-actions {

    margin-top: 40px;

    gap: 20px;

}



/* Connect Button (Green/Cyan Gradient) */

#class-selection-modal button.btn.primary {

    background: linear-gradient(90deg, #00e5ff 0%, #00ffaa 100%);

    color: #000;

    font-family: 'Orbitron', sans-serif;

    font-weight: 900;

    letter-spacing: 3px;

    border: none;

    padding: 18px 35px;

    font-size: 18px;

    border-radius: 6px;

    box-shadow: 0 0 30px rgba(0, 229, 255, 0.5);

    position: relative;

    overflow: hidden;

    transition: all 0.3s ease;

}



#class-selection-modal button.btn.primary:hover {

    transform: translateY(-3px) scale(1.03);

    box-shadow: 0 0 50px rgba(0, 229, 255, 0.9);

}



/* Cancel Button (Red Text) */

#class-selection-modal button.btn.text-only {

    color: #ff4444;

    font-family: 'Rajdhani', sans-serif;

    font-size: 16px;

    letter-spacing: 3px;

    opacity: 0.6;

    transition: all 0.3s ease;

    background: transparent;

}

#class-selection-modal button.btn.text-only:hover {

    opacity: 1;

    text-shadow: 0 0 15px #ff0000;

}



/* =========================================

   ðŸŒŒ LIVE DEEP SPACE BACKGROUND (CSS ONLY)

   ========================================= */



body {

    margin: 0;

    padding: 0;

    background-color: #020205; /* Deepest Void Black */

    overflow: hidden; /* Iwas scrollbars */

    font-family: 'Rajdhani', sans-serif;

    color: white;

}



/* 1. MOVING STARS (Parallax Effect) */

#star-field {

    position: fixed;

    top: 0; left: 0; width: 100%; height: 100%;

    z-index: -3;

    background: transparent;

}



#star-field::after {

    content: " ";

    position: absolute;

    top: 0; left: 0; width: 2px; height: 2px;

    background: transparent;

    /* Gumagawa ng maraming stars gamit ang box-shadow trick */

    box-shadow: 

        10vw 10vh #fff, 20vw 80vh #fff, 30vw 20vh #fff, 40vw 50vh #fff, 

        50vw 90vh #fff, 60vw 30vh #fff, 70vw 70vh #fff, 80vw 10vh #fff, 

        90vw 60vh #fff, 95vw 40vh #fff, 5vw 50vh #fff, 15vw 90vh #fff,

        25vw 10vh #fff, 35vw 70vh #fff, 45vw 30vh #fff, 55vw 80vh #fff,

        65vw 20vh #fff, 75vw 60vh #fff, 85vw 40vh #fff, 50vw 50vh #fff;

    animation: starFly 50s linear infinite;

    opacity: 0.8;

}



#star-field::before {

    content: " ";

    position: absolute;

    top: 0; left: 0; width: 3px; height: 3px;

    background: transparent;

    /* Mas malalaking stars, mas mabagal (Parallax) */

    box-shadow: 

        15vw 15vh #88ccff, 35vw 85vh #88ccff, 55vw 35vh #88ccff, 

        75vw 65vh #88ccff, 95vw 25vh #88ccff, 10vw 60vh #88ccff;

    animation: starFly 80s linear infinite;

    opacity: 0.6;

}



@keyframes starFly {

    from { transform: translateY(0); }

    to { transform: translateY(100vh); }

}



/* 2. NEBULA FOG (Atmosphere) */

#nebula-layer {

    position: fixed;

    top: 0; left: 0; width: 100%; height: 100%;

    z-index: -2;

    background: 

        radial-gradient(circle at 20% 30%, rgba(0, 229, 255, 0.08), transparent 40%),

        radial-gradient(circle at 80% 70%, rgba(255, 0, 85, 0.05), transparent 40%);

    animation: pulseNebula 10s ease-in-out infinite alternate;

}



@keyframes pulseNebula {

    0% { opacity: 0.5; transform: scale(1); }

    100% { opacity: 1; transform: scale(1.05); }

}



/* 3. DIGITAL GRID FLOOR (Retro Arcade Feel) */

#grid-floor {

    position: fixed;

    bottom: 0; left: 0; width: 100%; height: 40vh; /* Nasa lower part lang */

    z-index: -1;

    background-image: 

        linear-gradient(0deg, transparent 24%, rgba(0, 229, 255, 0.3) 25%, rgba(0, 229, 255, 0.3) 26%, transparent 27%, transparent 74%, rgba(0, 229, 255, 0.3) 75%, rgba(0, 229, 255, 0.3) 76%, transparent 77%, transparent),

        linear-gradient(90deg, transparent 24%, rgba(0, 229, 255, 0.1) 25%, rgba(0, 229, 255, 0.1) 26%, transparent 27%, transparent 74%, rgba(0, 229, 255, 0.1) 75%, rgba(0, 229, 255, 0.1) 76%, transparent 77%, transparent);

    background-size: 50px 50px;

    transform: perspective(300px) rotateX(60deg) scale(2);

    transform-origin: bottom;

    animation: gridMove 5s linear infinite;

    mask-image: linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0)); /* Fade out sa horizon */

    -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0));

}



@keyframes gridMove {

    0% { background-position: 0 0; }

    100% { background-position: 0 50px; }

}



/* =========================================

   ðŸŒŒ BACKGROUND CANVAS (DEEP SPACE)

   ========================================= */

body {

    background-color: #020205; /* Fallback Black */

    overflow: hidden; 

}



#bgCanvas {

    position: fixed;

    top: 0;

    left: 0;

    width: 100%;

    height: 100%;

    z-index: -10; /* Siguradong nasa likod ng lahat */

    background: radial-gradient(circle at center, #0b1021 0%, #000000 100%); /* Subtle Gradient */

}



/* =========================================

   PHASE 1 & 2: COMMS SIDEBAR & DOSSIER

   ========================================= */



/* The Floating Toggle Button */

#comms-toggle-btn {

    position: fixed;

    right: 0;

    top: 50%;

    transform: translateY(-50%);

    background: rgba(0, 20, 40, 0.9);

    border: 1px solid #00e5ff;

    border-right: none;

    color: #00e5ff;

    padding: 15px 10px;

    border-radius: 10px 0 0 10px;

    cursor: pointer;

    font-family: 'Orbitron';

    writing-mode: vertical-rl;

    text-orientation: mixed;

    z-index: 9999;

    box-shadow: -5px 0 15px rgba(0, 229, 255, 0.2);

    transition: 0.3s;

}

#comms-toggle-btn:hover { background: #00e5ff; color: black; }



/* The Ping Dot (Notifications) */

.ping-dot {

    display: inline-block; width: 10px; height: 10px;

    background: #ff0055; border-radius: 50%;

    box-shadow: 0 0 10px #ff0055;

    animation: blink 1s infinite;

    margin-top: 5px;

}



/* The Slide-out Sidebar */

#comms-sidebar {

    position: fixed;

    top: 0; right: 0;

    width: 350px; height: 100vh;

    background: rgba(5, 10, 20, 0.98);

    border-left: 2px solid #00e5ff;

    box-shadow: -10px 0 40px rgba(0, 229, 255, 0.1);

    z-index: 10000;

    display: flex; flex-direction: column;

    transition: right 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);

    backdrop-filter: blur(10px);

}

#comms-sidebar.closed { right: -360px; }



.comms-header {

    padding: 20px; border-bottom: 1px solid #333;

    display: flex; justify-content: space-between; align-items: center;

}

.comms-tabs {

    display: flex; justify-content: space-around;

    background: rgba(255,255,255,0.02); border-bottom: 1px solid #333;

}

.comms-tabs .tab-btn {

    font-size: 12px; padding: 15px 0; width: 100%;

}

.comms-content {

    flex-grow: 1; padding: 20px; overflow-y: auto;

}



/* Stat Lines inside Dossier */

.stat-line {

    display: flex; justify-content: space-between;

    font-family: 'Rajdhani'; font-size: 14px;

    color: #ccc; border-bottom: 1px dashed #333; padding: 8px 0;

}



/* Agent Card Row (For Search/Friends) */

.agent-row {

    background: rgba(0,0,0,0.5); border: 1px solid #333;

    border-left: 3px solid #00ff41; padding: 10px;

    border-radius: 4px; margin-bottom: 10px;

    display: flex; justify-content: space-between; align-items: center;

    cursor: pointer; transition: 0.2s;

}

.agent-row:hover { background: rgba(0, 229, 255, 0.1); border-color: #00e5ff; }

.agent-row-name { font-family: 'Orbitron'; font-size: 14px; color: white; }

.agent-row-rank { font-size: 10px; color: #888; font-family: 'Rajdhani'; }



/* --- UI REFRESH FIXES --- */



/* Ayusin ang Hover effects ng Tertiary Buttons para mas cool tignan */

.btn.tertiary {

    background: rgba(0,0,0,0.4);

    border: 1px solid #334;

    color: #889;

    border-radius: 8px;

    transition: all 0.3s ease;

}



.btn.tertiary:hover {

    background: rgba(0, 243, 255, 0.05);

    border-color: var(--neon-cyan);

    color: white;

    transform: translateY(-3px);

    box-shadow: 0 5px 15px rgba(0, 243, 255, 0.2);

    letter-spacing: 2px;

}



/* Specific highlight for Jessbook */

.btn.tertiary[onclick="window.openCodex()"]:hover {

    background: rgba(0, 255, 65, 0.05);

    border-color: #00ff41;

    box-shadow: 0 5px 15px rgba(0, 255, 65, 0.2);

}



/* --- SECURE CHAT BUBBLES --- */

.chat-bubble {

    padding: 8px 12px;

    border-radius: 8px;

    font-size: 13px;

    font-family: 'Rajdhani', sans-serif;

    max-width: 80%;

    word-wrap: break-word;

}

.chat-mine {

    background: rgba(0, 229, 255, 0.2);

    border: 1px solid #00e5ff;

    color: white;

    align-self: flex-end;

    border-bottom-right-radius: 0;

}

.chat-theirs {

    background: rgba(255, 255, 255, 0.05);

    border: 1px solid #444;

    color: #ccc;

    align-self: flex-start;

    border-bottom-left-radius: 0;

}



/* =========================================

   ðŸŒŒ AAA CAMPAIGN MAP (CIRCUIT BOARD EDITION)

   ========================================= */



.campaign-master-container {

    width: 98vw; height: 95vh; margin: 2.5vh auto;

    background: #02040a;

    border: 1px solid rgba(0, 229, 255, 0.4);

    border-radius: 12px;

    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9), inset 0 0 50px rgba(0, 229, 255, 0.1);

    display: flex; flex-direction: column; overflow: hidden;

}



/* --- HEADER --- */

.landscape-header {

    display: flex; justify-content: space-between; align-items: center;

    padding: 15px 30px; background: rgba(5, 10, 20, 0.95);

    border-bottom: 2px solid #00e5ff; z-index: 5;

}

.map-title { font-family: 'Orbitron'; font-size: 28px; color: #fff; margin: 0; text-shadow: 0 0 10px rgba(0,229,255,0.8); }

.map-subtitle { font-family: 'Courier New'; font-size: 12px; color: #00e5ff; margin: 5px 0 0 0; }

.map-progress-box { width: 350px; background: rgba(0,0,0,0.6); padding: 10px 15px; border-radius: 8px; border: 1px solid #223; }

.map-progress-track { width: 100%; height: 6px; background: #111; border-radius: 3px; box-shadow: inset 0 0 5px #000; margin-top:5px; }

.map-progress-fill { height: 100%; width: 0%; background: linear-gradient(90deg, #00e5ff, #ffd700); box-shadow: 0 0 10px #ffd700; transition: width 1s; }



/* --- MAIN BODY SPLIT --- */

.campaign-body-layout {

    display: flex; 

    flex-grow: 1; 

    height: calc(100% - 80px);

    width: 100%;

    overflow: hidden; /* Pinipigilan ang pag-spill ng design sa labas */

}



/* --- LEFT: MAP VIEWPORT --- */

.circuit-viewport {

    flex-grow: 1; 

    position: relative;

    overflow-x: auto; 

    overflow-y: hidden;

    scrollbar-width: thin; 

    scrollbar-color: #00e5ff #050a15;

    cursor: grab; /* Cursor indicator na pwede i-drag */

    width: calc(100% - 300px); /* Nirereserba ang space para sa sidebar */

}

.circuit-viewport:active { cursor: grabbing; }



.circuit-scroll-area {

    position: relative; 

    height: 100%;

    background-color: #05070f;

}



/* The Blueprint Grid Background */

.blueprint-grid {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background-image: 

        linear-gradient(rgba(0, 229, 255, 0.1) 1px, transparent 1px),

        linear-gradient(90deg, rgba(0, 229, 255, 0.1) 1px, transparent 1px);

    background-size: 50px 50px; 

    pointer-events: none; z-index: 0;

}



.map-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }

#campaign-grid { pointer-events: auto; z-index: 5; }

#map-path-layer { z-index: 2; }



/* SVG PATHS (CIRCUIT LINES) */

.circuit-line { fill: none; stroke-linejoin: round; stroke-linecap: round; }

.circuit-line.cleared { stroke: #00e5ff; stroke-width: 5; filter: drop-shadow(0 0 8px #00e5ff); }

.circuit-line.locked { stroke: #1a2b3c; stroke-width: 3; stroke-dasharray: 5 10; }



/* --- RIGHT: MILESTONE SIDEBAR --- */

.milestone-sidebar {

    width: 300px; /* Fixed width */

    flex-shrink: 0; /* ðŸš¨ ITO ANG SECRET PARA HINDI MAIPIT ANG SIDEBAR ðŸš¨ */

    background: rgba(0, 0, 0, 0.8);

    border-left: 2px solid #00e5ff; 

    padding: 20px;

    display: flex; flex-direction: column; overflow-y: auto;

    z-index: 10;

    box-shadow: -10px 0 30px rgba(0, 0, 0, 0.8);

}



/* Ayusin ang kulay ng Close Button na naging puti */

.map-close-btn { 

    background: rgba(255,0,85,0.1); border: 1px solid #ff0055; color: #ff0055; 

    padding: 8px 25px; font-family: 'Orbitron'; cursor: pointer; border-radius: 4px; transition: 0.3s; 

}

.map-close-btn:hover { background: #ff0055; color: #fff; box-shadow: 0 0 20px #ff0055; }

/* --- THE NODES (BASES) --- */

.c-node {

    position: absolute; transform: translate(-50%, -50%);

    display: flex; justify-content: center; align-items: center;

    font-family: 'Orbitron'; font-weight: bold; color: #fff;

    cursor: pointer; transition: 0.3s ease; z-index: 10;

}



/* 1. Normal Node (Small Circle) */

.node-normal { width: 45px; height: 45px; border-radius: 50%; background: #111; border: 2px solid #555; font-size: 14px; }

.node-normal.cleared { border-color: #00e5ff; background: rgba(0, 229, 255, 0.1); box-shadow: inset 0 0 10px #00e5ff; }



/* 2. Supply Node (Diamond/Square) */

.node-supply { width: 55px; height: 55px; border-radius: 8px; transform: translate(-50%, -50%) rotate(45deg); background: #1a1a00; border: 2px solid #886600; }

.node-supply span { transform: rotate(-45deg); display: block; font-size: 18px; } /* Reset text rotation */

.node-supply.cleared { border-color: #ffd700; background: rgba(255, 215, 0, 0.15); box-shadow: 0 0 15px #ffd700; }



/* 3. Boss Node (Large Hexagon or Octagon) */

.node-boss { width: 75px; height: 75px; clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%); background: #220000; border: 3px solid #ff0055; font-size: 24px; box-shadow: inset 0 0 20px #ff0055; }

.node-boss.cleared { background: rgba(255, 0, 85, 0.3); box-shadow: 0 0 30px #ff0055; }



/* Active Pulse */

.c-node.unlocked { border-color: #fff !important; animation: nodePulse 1s infinite alternate; }

@keyframes nodePulse { from { filter: brightness(1); transform: translate(-50%, -50%) scale(1); } to { filter: brightness(1.5); transform: translate(-50%, -50%) scale(1.1); box-shadow: 0 0 30px white; } }



/* Player Marker */

.circuit-ship { position: absolute; top: -35px; left: 50%; transform: translateX(-50%) rotate(90deg); font-size: 28px; filter: drop-shadow(0 0 10px #00e5ff); pointer-events: none; }



/* Node Stars */

.node-stars { position: absolute; bottom: -20px; width: 60px; text-align: center; font-size: 10px; letter-spacing: 1px; left: 50%; transform: translateX(-50%); }

.node-supply .node-stars { bottom: -30px; transform: translate(-50%, 0) rotate(-45deg); }







.reward-card {

    display: flex; align-items: center; background: rgba(255, 215, 0, 0.1);

    border: 1px solid #ffd700; border-radius: 8px; padding: 15px; margin-bottom: 20px;

}

.reward-icon { font-size: 30px; margin-right: 15px; filter: drop-shadow(0 0 5px gold); }

.reward-info h4 { margin: 0 0 5px 0; color: #ffd700; font-family: 'Orbitron'; font-size: 12px; }

.reward-info p { margin: 0; color: #fff; font-family: 'Rajdhani'; font-size: 14px; }



.artifact-card {

    display: flex; align-items: center; background: rgba(255, 255, 255, 0.02);

    border: 1px solid #333; border-radius: 6px; padding: 10px; margin-bottom: 10px;

}

.artifact-card.locked { opacity: 0.5; filter: grayscale(100%); }

.artifact-card.unlocked { border-color: #00e5ff; background: rgba(0, 229, 255, 0.1); filter: none; opacity: 1; }



.art-img-box {

    width: 40px; height: 40px; background: #000; border: 1px solid #555; border-radius: 4px;

    display: flex; justify-content: center; align-items: center; font-family: 'Orbitron'; color: #555; margin-right: 15px;

}

.artifact-card.unlocked .art-img-box { color: #00e5ff; border-color: #00e5ff; box-shadow: inset 0 0 10px #00e5ff; }



.art-details { display: flex; flex-direction: column; }

.art-lvl { font-family: 'Orbitron'; font-size: 10px; color: #00e5ff; font-weight: bold; }

.art-name { font-family: 'Rajdhani'; font-size: 14px; color: #fff; letter-spacing: 1px; }



/* =========================================

   ðŸŽ REWARD MODAL & LOOT ANIMATIONS

   ========================================= */



#reward-modal .reward-content {

    position: relative;

    z-index: 10;

    text-align: center;

    background: rgba(5, 10, 20, 0.8);

    border: 2px solid #ffd700;

    padding: 50px;

    border-radius: 20px;

    box-shadow: 0 0 50px rgba(255, 215, 0, 0.2), inset 0 0 30px rgba(255, 215, 0, 0.1);

    animation: rewardPop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;

}



@keyframes rewardPop {

    0% { transform: scale(0.5); opacity: 0; }

    100% { transform: scale(1); opacity: 1; }

}



.reward-glow-box {

    width: 150px; height: 150px;

    margin: 0 auto 20px auto;

    background: radial-gradient(circle, rgba(255,215,0,0.4) 0%, transparent 70%);

    border: 3px solid #ffd700;

    border-radius: 15px;

    display: flex; justify-content: center; align-items: center;

    box-shadow: 0 0 30px #ffd700, inset 0 0 20px #ffd700;

    animation: floatItem 3s infinite ease-in-out;

}

.reward-glow-box.artifact-glow {

    border-color: #b000ff;

    background: radial-gradient(circle, rgba(176,0,255,0.4) 0%, transparent 70%);

    box-shadow: 0 0 40px #b000ff, inset 0 0 30px #b000ff;

}



#reward-icon { font-size: 80px; filter: drop-shadow(0 0 10px white); }



@keyframes floatItem {

    0%, 100% { transform: translateY(0); }

    50% { transform: translateY(-15px); }

}



.reward-subtitle { color: #888; font-family: 'Rajdhani'; letter-spacing: 4px; margin: 0; }



/* Spinning Sunburst Background */

.reward-sunburst {

    position: absolute; top: 50%; left: 50%;

    width: 200vw; height: 200vw;

    background: repeating-conic-gradient(

        from 0deg,

        transparent 0deg 15deg,

        rgba(255, 215, 0, 0.1) 15deg 30deg

    );

    transform: translate(-50%, -50%);

    animation: spinBurst 20s linear infinite;

    z-index: 1; pointer-events: none;

}

@keyframes spinBurst { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }



/* =========================================

   ðŸ›¸ TACTICAL TOOLTIP (HOLO-INTEL)

   ========================================= */



.map-tooltip {

    position: fixed;

    z-index: 9999999;

    pointer-events: none; /* Para hindi ma-block ang mouse clicks mo */

    background: rgba(5, 10, 20, 0.95);

    border: 1px solid #00e5ff;

    padding: 15px 20px;

    border-radius: 8px;

    width: 260px;

    box-shadow: 0 15px 35px rgba(0,0,0,0.9), inset 0 0 20px rgba(0,229,255,0.1);

    

    /* Animation positioning (Lalabas sa ibabaw ng planeta) */

    transform: translate(-50%, -110%) scale(0.9);

    opacity: 0;

    transition: opacity 0.2s ease-out, transform 0.2s ease-out;

    backdrop-filter: blur(10px);

}



/* Ang maliit na pointer/tatsulok sa ilalim ng tooltip */

.map-tooltip::after { 

    content: ''; position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%);

    border-width: 10px 10px 0; border-style: solid; border-color: inherit;

    border-left-color: transparent; border-right-color: transparent; border-bottom-color: transparent;

}



/* Kapag visible na siya */

.map-tooltip.visible {

    opacity: 1;

    transform: translate(-50%, -125%) scale(1); /* Umaangat nang konti */

}



/* Texts sa loob ng Tooltip */

.tt-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; }

.tt-lvl { font-family: 'Orbitron'; font-size: 16px; font-weight: bold; color: #fff; }

.tt-type { font-family: 'Courier New'; font-size: 10px; font-weight: bold; background: #222; padding: 2px 6px; border-radius: 3px; color: #ffd700; }



.tt-sector { margin: 0; font-family: 'Orbitron'; font-size: 12px; letter-spacing: 2px; color: #00e5ff; }

.tt-divider { height: 1px; background: linear-gradient(90deg, #00e5ff, transparent); margin: 8px 0; }

.tt-topic { font-family: 'Rajdhani'; font-size: 13px; color: #ccc; margin: 0 0 12px 0; }



.tt-stats-row { display: flex; justify-content: space-between; background: rgba(0,0,0,0.5); padding: 8px; border-radius: 5px; border: 1px solid #223; }

.tt-stat { display: flex; flex-direction: column; }

.tt-label { font-family: 'Rajdhani'; font-size: 10px; color: #888; letter-spacing: 1px; }

.tt-value { font-family: 'Orbitron'; font-size: 11px; font-weight: bold; margin-top: 2px; }



/* =========================================

   ðŸ¤– N.E.X.U.S. AI TERMINAL STYLES

   ========================================= */



#nexus-ai-button {

    position: fixed; bottom: 30px; right: 30px;

    background: rgba(0, 20, 30, 0.9);

    border: 2px solid #00e5ff; border-radius: 50px;

    padding: 15px 25px; color: #fff; font-family: 'Orbitron'; font-weight: bold;

    cursor: pointer; z-index: 99999; box-shadow: 0 0 20px rgba(0, 229, 255, 0.3);

    display: flex; align-items: center; justify-content: center; overflow: hidden;

    transition: all 0.3s ease;

}

#nexus-ai-button:hover { transform: scale(1.05); box-shadow: 0 0 30px #00e5ff; color: #00e5ff; }



.ai-core-glow {

    position: absolute; width: 100%; height: 100%;

    background: radial-gradient(circle, rgba(0, 229, 255, 0.4) 0%, transparent 70%);

    animation: pulseAI 2s infinite alternate; z-index: 1;

}

@keyframes pulseAI { 0% { opacity: 0.3; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1.2); } }



#nexus-terminal {

    position: fixed; bottom: 90px; right: 30px;

    width: 380px; height: 500px;

    background: rgba(5, 10, 15, 0.95);

    border: 1px solid #00e5ff; border-radius: 12px;

    box-shadow: 0 10px 40px rgba(0,0,0,0.9), inset 0 0 20px rgba(0, 229, 255, 0.1);

    display: flex; flex-direction: column; z-index: 99999;

    backdrop-filter: blur(10px);

    transform-origin: bottom right; transition: transform 0.3s, opacity 0.3s;

}

#nexus-terminal.hidden { transform: scale(0); opacity: 0; pointer-events: none; }



.nexus-header {

    display: flex; justify-content: space-between; align-items: center;

    padding: 15px; border-bottom: 1px solid rgba(0, 229, 255, 0.3); background: rgba(0,0,0,0.5);

}

.ai-eye {

    width: 15px; height: 15px; border-radius: 50%; background: #00e5ff;

    box-shadow: 0 0 10px #00e5ff; animation: blinkEye 4s infinite;

}

@keyframes blinkEye { 0%, 95%, 100% { transform: scaleY(1); } 97% { transform: scaleY(0.1); } }



#nexus-chat-history {

    flex-grow: 1; padding: 15px; overflow-y: auto;

    display: flex; flex-direction: column; gap: 12px;

    scrollbar-width: thin; scrollbar-color: #00e5ff #111;

}



/* Chat Bubbles */

.ai-msg, .user-msg {

    padding: 10px 15px; border-radius: 8px; font-family: 'Rajdhani'; font-size: 15px;

    max-width: 85%; word-wrap: break-word; line-height: 1.4;

}

.ai-msg { background: rgba(0, 229, 255, 0.1); border-left: 3px solid #00e5ff; color: #e0ffff; align-self: flex-start; border-bottom-left-radius: 0; }

.user-msg { background: rgba(255, 215, 0, 0.1); border-right: 3px solid #ffd700; color: #fff; align-self: flex-end; border-bottom-right-radius: 0; text-align: right; }



.ai-tag, .user-tag { font-family: 'Orbitron'; font-size: 10px; font-weight: bold; display: block; margin-bottom: 5px; }

.ai-tag { color: #00e5ff; } .user-tag { color: #ffd700; }



.nexus-input-area {

    display: flex; padding: 10px; background: rgba(0,0,0,0.8); border-top: 1px solid #333; gap: 10px;

}

#nexus-input {

    flex-grow: 1; background: #000; border: 1px solid #333; border-radius: 5px;

    color: #fff; font-family: 'Rajdhani'; font-size: 14px; padding: 10px; outline: none;

}

#nexus-input:focus { border-color: #00e5ff; box-shadow: inset 0 0 10px rgba(0,229,255,0.2); }



/* GACHA SHAKE ANIMATION */

.shake-core {

    font-size: 80px;

    display: inline-block;

    animation: gachaShake 0.1s infinite, gachaGlow 1s infinite alternate;

}



@keyframes gachaShake {

    0% { transform: translate(2px, 1px) rotate(0deg); }

    10% { transform: translate(-1px, -2px) rotate(-1deg); }

    20% { transform: translate(-3px, 0px) rotate(1deg); }

    30% { transform: translate(0px, 2px) rotate(0deg); }

    40% { transform: translate(1px, -1px) rotate(1deg); }

    50% { transform: translate(-1px, 2px) rotate(-1deg); }

    60% { transform: translate(-3px, 1px) rotate(0deg); }

    70% { transform: translate(2px, 1px) rotate(-1deg); }

    80% { transform: translate(-1px, -1px) rotate(1deg); }

    90% { transform: translate(2px, 2px) rotate(0deg); }

    100% { transform: translate(1px, -2px) rotate(-1deg); }

}



@keyframes gachaGlow {

    from { text-shadow: 0 0 10px cyan; filter: brightness(1); }

    to { text-shadow: 0 0 40px white; filter: brightness(1.5); }

}



.pet-reveal {

    animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;

}



@keyframes popIn {

    from { transform: scale(0); opacity: 0; }

    to { transform: scale(1); opacity: 1; }

}



/* ðŸ“¢ GLOBAL ANNOUNCER STYLES */

#global-announcer {

    position: fixed;

    top: 0; left: 0; width: 100%;

    background: rgba(10, 0, 20, 0.95);

    border-bottom: 2px solid #ff0055;

    color: white;

    font-family: 'Orbitron'; font-size: 15px; font-weight: bold; letter-spacing: 2px;

    padding: 8px 0;

    z-index: 9999999;

    overflow: hidden;

    box-shadow: 0 5px 20px rgba(255, 0, 85, 0.4);

}



.marquee {

    white-space: nowrap;

    animation: scrollText 12s linear infinite;

    text-shadow: 0 0 10px currentColor;

}



@keyframes scrollText {

    0% { transform: translateX(100vw); }

    100% { transform: translateX(-100%); }

}







/* 3. LAYER 2: Holographic Scanning Line (Umaandar pataas-pababa) */

#start-modal .modal-content::after {

    content: "";

    position: absolute;

    top: 0; left: 0; width: 100%; height: 100%;

    

    /* Gradient na may manipis na Cyan line sa gitna na nagfi-fade out */

    background: linear-gradient(

        to bottom, 

        transparent 0%, 

        rgba(0, 229, 255, 0.0) 45%, 

        rgba(0, 229, 255, 0.1) 50%, /* The scanning laser */

        rgba(0, 229, 255, 0.0) 55%, 

        transparent 100%

    );

    background-size: 100% 200%;

    

    /* Ang animation na nagpapababa sa scanner line */

    animation: scanPulse 6s ease-in-out infinite; 

    

    pointer-events: none;

    z-index: 0;

}



/* 4. SECURITY LOCK: Siguraduhing lahat ng Buttons at Text ay nasa Ibbaw (Z-index 1) */

#start-modal .modal-content > * {

    position: relative;

    z-index: 1; 

}



/* 5. THE LIVE ANIMATIONS */

@keyframes radarSpin {

    0% { transform: rotate(0deg); }

    100% { transform: rotate(360deg); }

}



@keyframes scanPulse {

    0% { background-position: 0 -100%; }

    50% { background-position: 0 100%; }

    100% { background-position: 0 -100%; }

}



/* =========================================

   ðŸŒŸ THE PANELIST-BAIT UI UPGRADE ðŸŒŸ

   ========================================= */



/* --- 1. DASHBOARD RESTRUCTURE --- */

.dashboard-container {

    display: flex; flex-direction: column; width: 100%; min-height: 500px;

}

.dash-global-bar {

    display: flex; justify-content: space-between; padding: 10px 20px;

    border-bottom: 1px solid rgba(0, 229, 255, 0.2); background: rgba(0,0,0,0.5);

}

.sys-status { font-family: 'Orbitron'; font-size: 12px; color: #00ff41; letter-spacing: 2px; }

.alert-text { color: #ff0055 !important; font-size: 12px; margin: 0; padding: 5px; }

.alert-text:hover { box-shadow: none !important; text-shadow: 0 0 10px #ff0055; }



.dashboard-body {

    display: flex; gap: 30px; padding: 30px;

}



/* Glassmorphism Panels */

.glass-panel {

    background: rgba(10, 15, 25, 0.6);

    backdrop-filter: blur(12px);

    -webkit-backdrop-filter: blur(12px);

    border: 1px solid rgba(0, 229, 255, 0.2);

    box-shadow: inset 0 0 20px rgba(0, 229, 255, 0.05);

}



.identity-panel {

    width: 35%; border-radius: 15px; padding: 30px;

    display: flex; flex-direction: column; align-items: center; text-align: center;

}



.mission-control-panel {

    width: 65%; display: flex; flex-direction: column; justify-content: center;

}



/* Avatar Hologram Effect */

.avatar-ring {

    position: relative; width: 100px; height: 100px; border-radius: 50%;

    border: 2px solid #00e5ff; box-shadow: 0 0 20px rgba(0, 229, 255, 0.3);

    margin-bottom: 15px; overflow: hidden; background: #000;

}

.avatar-ring img { width: 100%; height: 100%; object-fit: cover; }

.hologram-scanline {

    position: absolute; top: 0; left: 0; width: 100%; height: 5px;

    background: rgba(0, 229, 255, 0.8); box-shadow: 0 0 10px #00e5ff;

    animation: avatarScan 3s linear infinite; opacity: 0.5;

}

@keyframes avatarScan { 0% { top: -10%; } 100% { top: 110%; } }



/* Typography inside Dashboard */

.agent-name { margin: 0; font-family: 'Orbitron'; font-size: 26px; color: #fff; text-shadow: 0 0 10px rgba(255,255,255,0.3); }

.agent-rank { color: #ffd700; font-family: 'Rajdhani'; font-weight: bold; letter-spacing: 4px; font-size: 14px; margin-bottom: 20px; }

.resource-box { background: rgba(0,0,0,0.8); border: 1px solid #333; border-radius: 8px; padding: 10px 20px; margin-bottom: 20px; display: inline-flex; align-items: center; gap: 10px;}

.resource-box .coin-value { color: #ffd700; font-family: 'Orbitron'; font-size: 18px; font-weight: bold; }



/* Grid Layouts */

.sub-modes-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 20px; }

.terminals-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }



/* Buttons */

.action-btn { padding: 15px 5px !important; font-size: 12px !important; }

.class-btn { border-color: #ffd700 !important; color: #ffd700 !important; }

.campaign-btn { font-size: 22px !important; padding: 25px !important; margin-bottom: 15px !important; position: relative; overflow: hidden; }

.campaign-btn:hover { box-shadow: 0 0 40px #00e5ff !important; }



.terminal-btn {

    background: rgba(0,0,0,0.5); border: 1px solid #333; border-radius: 8px;

    display: flex; flex-direction: column; align-items: center; gap: 8px;

    padding: 15px 5px; cursor: pointer; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);

}

.terminal-btn:hover { background: rgba(0, 229, 255, 0.1); border-color: #00e5ff; transform: translateY(-5px); }

.terminal-btn .icon { font-size: 28px; filter: drop-shadow(0 0 5px rgba(255,255,255,0.2)); }

.terminal-btn .label { font-family: 'Orbitron'; font-size: 10px; color: #aaa; }

.terminal-btn:hover .label { color: #fff; }



.jessbook-btn { border-color: #00ff41; } .jessbook-btn:hover { border-color: #00ff41; background: rgba(0,255,65,0.1); box-shadow: 0 5px 15px rgba(0,255,65,0.3); }

.incubator-btn { border-color: #b000ff; } .incubator-btn:hover { border-color: #b000ff; background: rgba(176,0,255,0.1); box-shadow: 0 5px 15px rgba(176,0,255,0.3); }



/* --- 2. JESSBOT HOLOGRAPHIC CORE (BOTTOM-LEFT) --- */

#nexus-ai-wrapper {

    position: fixed; bottom: 30px; left: 30px; z-index: 99999;

    display: flex; flex-direction: column; align-items: flex-start;

}



#nexus-ai-button {

    display: flex; align-items: center; gap: 15px; cursor: pointer;

    background: transparent; border: none; box-shadow: none; padding: 0;

}

#nexus-ai-button:hover .orb-core { box-shadow: 0 0 30px #00e5ff, 0 0 60px #fff; background: #fff; }

#nexus-ai-button:hover .ai-label { color: #fff; text-shadow: 0 0 10px #00e5ff; }



.holographic-orb {

    position: relative; width: 60px; height: 60px;

    animation: orbFloat 4s ease-in-out infinite;

}

.orb-core {

    width: 24px; height: 24px; background: #00e5ff; border-radius: 50%;

    box-shadow: 0 0 20px #00e5ff, inset 0 0 10px #fff;

    position: absolute; top: 18px; left: 18px;

    animation: orbPulse 2s infinite alternate; transition: 0.3s;

}

.orb-ring {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    border: 2px solid rgba(0, 229, 255, 0.4); border-radius: 50%;

}

.ring-1 { border-top-color: transparent; border-bottom-color: transparent; animation: coreSpin 4s linear infinite; }

.ring-2 { border-left-color: transparent; border-right-color: transparent; animation: coreSpin 3s linear infinite reverse; scale: 1.2; opacity: 0.5; }



.ai-label { font-family: 'Orbitron'; font-weight: 900; color: #00e5ff; font-size: 14px; letter-spacing: 2px; transition: 0.3s; }



@keyframes orbFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

@keyframes orbPulse { 0% { opacity: 0.7; transform: scale(0.9); } 100% { opacity: 1; transform: scale(1.1); } }

@keyframes coreSpin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }



/* AI Chat Terminal */

#nexus-terminal {

    position: absolute; bottom: 80px; left: 0; /* Unfolds upwards from the orb */

    width: 400px; height: 500px; border-radius: 15px 15px 15px 0;

    transform-origin: bottom left; /* Important for pop-up animation */

    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s;

}

.nexus-header { border-radius: 15px 15px 0 0; }

.ai-titles h3 { font-size: 18px; color: #fff; text-shadow: 0 0 10px #00e5ff; }



/* AI Waveform (Thinking) */

#ai-waveform { display: flex; justify-content: center; gap: 5px; padding: 10px; background: rgba(0, 229, 255, 0.05); }

#ai-waveform .bar { width: 4px; height: 15px; background: #00e5ff; border-radius: 2px; animation: waveThink 0.5s infinite ease-in-out alternate; }

#ai-waveform .bar:nth-child(2) { animation-delay: 0.1s; }

#ai-waveform .bar:nth-child(3) { animation-delay: 0.2s; }

#ai-waveform .bar:nth-child(4) { animation-delay: 0.3s; }

@keyframes waveThink { 0% { height: 5px; } 100% { height: 25px; background: #fff; box-shadow: 0 0 10px #00e5ff; } }



/* --- 3. COMMS RADAR PING (RIGHT-EDGE) --- */

#comms-sidebar {

    backdrop-filter: blur(20px);

    -webkit-backdrop-filter: blur(20px);

    background: rgba(5, 10, 15, 0.75); /* More transparent to show blur */

}



/* The Radar Pulse effect on the toggle button */

#comms-toggle-btn { position: relative; overflow: visible; }

.radar-pulse {

    position: absolute; top: 50%; left: 0; transform: translate(-50%, -50%);

    width: 60px; height: 60px; border-radius: 50%;

    border: 2px solid #ff0055;

    animation: radarPingOut 2s ease-out infinite; pointer-events: none;

}

@keyframes radarPingOut {

    0% { width: 20px; height: 20px; opacity: 1; }

    100% { width: 100px; height: 100px; opacity: 0; border-width: 1px; }

}



/* --- FIXED TERMINALS GRID (Naging 5 columns para kasya ang COMMS) --- */

.terminals-grid { 

    display: grid; 

    grid-template-columns: repeat(5, 1fr); /* ðŸŸ¢ Inayos para sa 5 buttons */

    gap: 10px; 

}



/* COMMS Button Special Colors (Neon Pink/Red) */

.comms-btn { border-color: #ff0055; } 

.comms-btn:hover { 

    border-color: #ff0055; 

    background: rgba(255,0,85,0.1); 

    box-shadow: 0 5px 15px rgba(255,0,85,0.3); 

}



/* --- FORCE Z-INDEX PARA HINDI MATABUNAN ANG SIDEBAR --- */

#comms-sidebar {

    z-index: 9999999 !important; /* Siguradong nasa ibabaw ng lahat ng modals */

}



#comms-toggle-btn {

    z-index: 9999999 !important; /* Para sa floating button kung nasa loob ng laban */

}



/* --- GLOBAL MODAL OVERLAY --- */

#armory-modal, #teacher-mode-modal {

    position: fixed;

    top: 0;

    left: 0;

    width: 100%;

    height: 100%;

    background: rgba(0, 10, 20, 0.95); /* Darker, more immersive background */

    z-index: 2000;

    display: flex;

    justify-content: center;

    align-items: center;

    opacity: 0;

    pointer-events: none;

    transition: opacity 0.3s ease, transform 0.3s ease;

    transform: scale(0.95); /* Start slightly smaller */

    backdrop-filter: blur(8px); /* Add a modern blur effect */

}



#armory-modal.active, #teacher-mode-modal.active {

    opacity: 1;

    pointer-events: auto;

    transform: scale(1); /* Scale to full size on active */

}



/* --- LANDSCAPE MODAL CONTAINER --- */

.modal-content-landscape {

    background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), rgba(0, 100, 200, 0.05));

    border: 2px solid var(--neon-blue);

    box-shadow: 0 0 40px rgba(0, 255, 255, 0.2), inset 0 0 20px rgba(0, 255, 255, 0.1);

    border-radius: 15px;

    padding: 30px;

    width: 90%; /* Take up most of the screen width */

    max-width: 1200px; /* Max width for very large screens */

    height: 85%; /* Take up most of the screen height */

    display: flex;

    flex-direction: column;

    position: relative;

    overflow: hidden;

    animation: modal-pulse 4s infinite alternate; /* Subtle border pulse */

}



@keyframes modal-pulse {

    from { box-shadow: 0 0 40px rgba(0, 255, 255, 0.2), inset 0 0 20px rgba(0, 255, 255, 0.1); border-color: var(--neon-blue); }

    to { box-shadow: 0 0 60px rgba(0, 200, 255, 0.4), inset 0 0 30px rgba(0, 200, 255, 0.2); border-color: #00ccff; }

}



/* --- MODAL HEADER --- */

.modal-header-landscape {

    display: flex;

    justify-content: space-between;

    align-items: center;

    margin-bottom: 25px;

    border-bottom: 1px solid rgba(0, 255, 255, 0.3);

    padding-bottom: 15px;

}



.modal-title {

    font-family: 'Orbitron', sans-serif;

    font-size: 2.5em;

    color: var(--neon-blue);

    text-transform: uppercase;

    text-shadow: 0 0 15px var(--neon-blue);

    letter-spacing: 2px;

}



.modal-close-btn {

    background: none;

    border: 2px solid var(--neon-pink);

    color: var(--neon-pink);

    font-family: 'Orbitron', sans-serif;

    font-size: 1.2em;

    padding: 8px 20px;

    cursor: pointer;

    transition: all 0.3s ease;

    border-radius: 5px;

    text-transform: uppercase;

}



.modal-close-btn:hover {

    background: var(--neon-pink);

    color: #000;

    box-shadow: 0 0 20px var(--neon-pink);

}



/* --- ARMORY LAYOUT --- */

.armory-layout {

    display: flex;

    flex: 1;

    gap: 30px;

    overflow: hidden;

}



.armory-sidebar {

    width: 250px;

    display: flex;

    flex-direction: column;

    gap: 15px;

    border-right: 1px solid rgba(0, 255, 255, 0.2);

    padding-right: 20px;

}



.armory-tab {

    background: rgba(0, 20, 40, 0.6);

    border: 1px solid var(--neon-blue);

    color: var(--neon-blue);

    padding: 15px;

    text-align: left;

    font-family: 'Orbitron', sans-serif;

    font-size: 1.1em;

    cursor: pointer;

    transition: all 0.3s ease;

    border-radius: 8px;

    display: flex;

    align-items: center;

    gap: 10px;

}



.armory-tab:hover, .armory-tab.active {

    background: rgba(0, 255, 255, 0.2);

    box-shadow: 0 0 15px var(--neon-blue);

    transform: translateX(5px);

}



.armory-content-area {

    flex: 1;

    overflow-y: auto;

    padding-right: 10px;

}



/* Wider Item Cards for Landscape */

.item-grid {

    display: grid;

    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); /* Wider cards */

    gap: 25px;

}



.item-card {

    /* ... (Existing item-card styles, just ensure width is flexible) */

    width: 100%; /* Ensure it fills the grid cell */

    padding: 20px;

    border-radius: 12px;

    background: rgba(0, 15, 30, 0.8);

    border: 1px solid rgba(0, 255, 255, 0.4);

    transition: all 0.3s ease;

}



.item-card:hover {

    transform: translateY(-5px) scale(1.03);

    box-shadow: 0 10px 25px rgba(0, 255, 255, 0.3);

    border-color: var(--neon-blue);

}





/* --- TEACHER MODE LAYOUT --- */

.teacher-layout {

    display: flex;

    flex: 1;

    gap: 40px;

    overflow-y: auto;

    padding: 10px;

}



.teacher-column {

    flex: 1;

    display: flex;

    flex-direction: column;

    gap: 25px;

}



.teacher-section {

    background: rgba(0, 20, 40, 0.6);

    border: 1px solid rgba(0, 255, 255, 0.3);

    padding: 25px;

    border-radius: 12px;

    box-shadow: inset 0 0 15px rgba(0, 255, 255, 0.05);

}



.section-title {

    font-family: 'Orbitron', sans-serif;

    color: var(--neon-blue);

    font-size: 1.3em;

    margin-bottom: 20px;

    text-transform: uppercase;

    border-bottom: 1px solid rgba(0, 255, 255, 0.2);

    padding-bottom: 10px;

}



/* Form Inputs Redesign */

.teacher-input {

    width: 100%;

    padding: 12px 15px;

    background: rgba(0, 0, 0, 0.5);

    border: 1px solid var(--neon-blue);

    color: #fff;

    font-family: 'Orbitron', sans-serif;

    font-size: 1.1em;

    border-radius: 5px;

    outline: none;

    transition: all 0.3s ease;

}



.teacher-input:focus {

    box-shadow: 0 0 15px var(--neon-blue);

    background: rgba(0, 255, 255, 0.1);

}



/* Controls Container */

.control-group {

    display: flex;

    align-items: center;

    justify-content: space-between;

    background: rgba(0, 0, 0, 0.3);

    padding: 10px;

    border-radius: 8px;

    border: 1px solid rgba(0, 255, 255, 0.2);

}



/* Option Buttons (Threat, Mission Type) */

.option-btn {

    flex: 1;

    padding: 12px;

    background: rgba(0, 0, 0, 0.5);

    border: 1px solid rgba(0, 255, 255, 0.3);

    color: #aaa;

    font-family: 'Orbitron', sans-serif;

    font-size: 0.9em;

    cursor: pointer;

    transition: all 0.3s ease;

    text-transform: uppercase;

    margin: 0 5px;

    border-radius: 5px;

    text-align: center;

}



.option-btn:hover {

    background: rgba(0, 255, 255, 0.1);

    color: #fff;

}



.option-btn.active {

    background: var(--neon-blue);

    color: #000;

    box-shadow: 0 0 15px var(--neon-blue);

    border-color: var(--neon-blue);

    font-weight: bold;

}



/* Mission Summary Panel */

#mission-summary-panel {

    background: rgba(0, 20, 40, 0.8);

    border: 1px solid var(--neon-green);

    padding: 20px;

    border-radius: 12px;

    margin-top: auto; /* Push to bottom */

}



.summary-item {

    display: flex;

    justify-content: space-between;

    margin-bottom: 10px;

    font-family: 'Roboto Mono', monospace;

    color: #ccc;

}



.summary-value {

    color: var(--neon-green);

    font-weight: bold;

}



/* Initialize Button */

.init-btn-large {

    width: 100%;

    padding: 18px;

    background: linear-gradient(to right, var(--neon-blue), #0088ff);

    border: none;

    color: #fff;

    font-family: 'Orbitron', sans-serif;

    font-size: 1.5em;

    text-transform: uppercase;

    cursor: pointer;

    transition: all 0.4s ease;

    border-radius: 8px;

    margin-top: 20px;

    letter-spacing: 2px;

    position: relative;

    overflow: hidden;

}



.init-btn-large::before {

    content: '';

    position: absolute;

    top: 0;

    left: -100%;

    width: 100%;

    height: 100%;

    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);

    transition: 0.5s;

}



.init-btn-large:hover::before {

    left: 100%;

}



.init-btn-large:hover {

    box-shadow: 0 0 30px var(--neon-blue);

    transform: scale(1.02);

}



/* =========================================

   ðŸ‘¨â€ðŸ« CLASSROOM SETUP OVERHAUL

   ========================================= */



.setup-grid-layout {

    display: grid;

    grid-template-columns: 1fr 1fr;

    gap: 40px;

    padding: 10px 20px;

    overflow-y: auto;

    flex-grow: 1; /* Pushes footer down */

}



.setup-column {

    display: flex;

    flex-direction: column;

    gap: 25px;

}



.setup-section-title {

    font-family: 'Orbitron', sans-serif;

    color: #00e5ff;

    font-size: 16px;

    letter-spacing: 3px;

    margin: 0;

    padding-bottom: 10px;

    border-bottom: 1px solid rgba(0, 229, 255, 0.3);

}



.setup-item {

    background: rgba(0, 10, 20, 0.5);

    border: 1px solid #1a2b3c;

    border-radius: 8px;

    padding: 20px;

    display: flex;

    flex-direction: column;

    gap: 15px;

    transition: 0.3s;

}



.setup-item:hover {

    border-color: rgba(0, 229, 255, 0.4);

    background: rgba(0, 229, 255, 0.02);

}



.setup-item label {

    font-family: 'Rajdhani', sans-serif;

    font-weight: bold;

    font-size: 13px;

    color: #00e5ff;

    letter-spacing: 2px;

}



/* Custom Cyber Input */

.cyber-input {

    width: 100%;

    background: #000;

    border: 1px solid #333;

    color: #fff;

    font-family: 'Orbitron', sans-serif;

    font-size: 18px;

    padding: 12px;

    border-radius: 4px;

    outline: none;

    text-align: center;

    transition: 0.3s;

    box-sizing: border-box; /* Precents extending past container */

}



.cyber-input:focus {

    border-color: #00e5ff;

    box-shadow: 0 0 15px rgba(0, 229, 255, 0.3);

}



/* Custom Stepper Upgrade */

.stepper-group {

    display: flex;

    align-items: center;

    justify-content: center;

    background: #000;

    border: 1px solid #333;

    border-radius: 6px;

    overflow: hidden;

}



.step-btn {

    background: #0b1521;

    color: #00e5ff;

    border: none;

    padding: 10px 20px;

    font-size: 20px;

    cursor: pointer;

    transition: 0.2s;

}



.step-btn:hover {

    background: #00e5ff;

    color: #000;

}



.step-display {

    flex-grow: 1;

    text-align: center;

    font-family: 'Orbitron', sans-serif;

    font-size: 24px;

    color: #fff;

    font-weight: bold;

    border-left: 1px solid #333;

    border-right: 1px solid #333;

    padding: 5px 0;

}



/* Footer / Launch Button */

.setup-footer {

    margin-top: 20px;

    padding-top: 20px;

    border-top: 1px solid rgba(0, 229, 255, 0.2);

    display: flex;

    justify-content: center;

}



.launch-btn {

    width: 100% !important;

    font-size: 20px !important;

    padding: 18px !important;

    letter-spacing: 3px !important;

    margin: 0 !important;

    background: linear-gradient(90deg, #00e5ff, #00ffaa) !important;

    color: #000 !important;

}



.launch-btn:hover {

    box-shadow: 0 0 40px rgba(0, 255, 170, 0.6) !important;

    transform: translateY(-2px) !important;

}



/* Responsive tweaks for Chips */

.chip-container {

    justify-content: flex-start; /* Align left inside boxes */

}



/* =========================================

   ðŸ† LEADERBOARD STYLING UPGRADES

   ========================================= */



.lb-filter-btn {

    background: rgba(0, 0, 0, 0.6);

    border: 1px solid #333;

    color: #888;

    padding: 12px 15px;

    margin-bottom: 8px;

    border-radius: 6px;

    font-family: 'Orbitron', sans-serif;

    font-size: 12px;

    cursor: pointer;

    transition: all 0.2s ease;

}



.lb-filter-btn:hover {

    background: rgba(0, 229, 255, 0.1);

    color: #fff;

    border-color: rgba(0, 229, 255, 0.5);

    transform: translateX(5px);

}



.lb-filter-btn.active {

    background: rgba(0, 229, 255, 0.2);

    color: #00e5ff;

    border-color: #00e5ff;

    box-shadow: 0 0 15px rgba(0, 229, 255, 0.3);

    font-weight: bold;

}



#lb-table-body tr {

    border-bottom: 1px solid #222;

    transition: background 0.2s;

}



#lb-table-body tr:hover {

    background: rgba(0, 229, 255, 0.05);

}



#lb-table-body td {

    color: #fff;

}



/* =========================================

   ðŸ›¸ IN-GAME TACTICAL COCKPIT OVERHAUL

   ========================================= */



/* --- 1. THE TACTICAL VISOR (TOP HUD) --- */

.tactical-visor {

    position: absolute;

    top: 0; left: 0; width: 100%;

    display: flex;

    justify-content: space-between;

    align-items: flex-start;

    padding: 0 20px;

    pointer-events: none; /* Let clicks pass through */

    z-index: 50;

}



.visor-panel {

    background: rgba(5, 10, 20, 0.85);

    backdrop-filter: blur(10px);

    border: 1px solid rgba(0, 229, 255, 0.3);

    padding: 15px 25px;

    box-shadow: 0 5px 25px rgba(0, 229, 255, 0.15);

}



.left-visor {

    border-top: none; border-left: none;

    border-radius: 0 0 20px 0;

    clip-path: polygon(0 0, 100% 0, 100% 70%, 85% 100%, 0 100%);

    width: 250px;

}



.right-visor {

    border-top: none; border-right: none;

    border-radius: 0 0 0 20px;

    clip-path: polygon(0 0, 100% 0, 100% 100%, 15% 100%, 0 70%);

    width: 250px;

    display: flex; flex-direction: column; align-items: flex-end;

}



.center-visor {

    border-top: none;

    border-radius: 0 0 30px 30px;

    border-bottom: 3px solid #ff0055;

    clip-path: polygon(0 0, 100% 0, 90% 100%, 10% 100%);

    width: 350px;

    text-align: center;

    padding-bottom: 25px;

    box-shadow: 0 10px 30px rgba(255, 0, 85, 0.2);

}



.visor-data {

    display: flex; justify-content: space-between; align-items: center;

    width: 100%; margin-bottom: 5px;

}



.cyber-track {

    width: 100%; height: 6px; background: #111;

    border-radius: 3px; margin-top: 10px; overflow: hidden;

}

.cyber-fill {

    height: 100%; background: #00e5ff; box-shadow: 0 0 10px #00e5ff;

    transition: width 0.3s;

}



/* --- 2. AUTO-RETRACTING RADAR --- */

.radar-collapsed {

    position: absolute;

    top: 120px;

    right: 0;

    width: 280px;

    transform: translateX(280px); /* Hidden off-screen */

    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);

    z-index: 60;

    pointer-events: auto;

}



/* The magic hover effect! */

.radar-collapsed:hover {

    transform: translateX(0); /* Slides in when hovered */

}



.radar-handle {

    position: absolute;

    left: -35px; top: 20px;

    width: 35px; height: 120px;

    background: rgba(5, 10, 20, 0.9);

    border: 1px solid #00e5ff; border-right: none;

    border-radius: 10px 0 0 10px;

    writing-mode: vertical-rl;

    text-align: center;

    color: #00e5ff; font-family: 'Orbitron'; font-size: 12px; font-weight: bold;

    letter-spacing: 2px;

    cursor: pointer;

    box-shadow: -5px 0 15px rgba(0, 229, 255, 0.2);

    backdrop-filter: blur(5px);

}



/* --- 3. THE COMMAND CONSOLE (BOTTOM HUD) --- */

.command-console {

    position: absolute;

    bottom: 20px; left: 50%;

    transform: translateX(-50%);

    display: flex; align-items: flex-end; justify-content: center; gap: 20px;

    width: 100%; pointer-events: none; /* Allows clicking background */

    z-index: 60;

}



.console-wing {

    background: rgba(5, 10, 20, 0.85);

    backdrop-filter: blur(10px);

    border: 1px solid rgba(0, 229, 255, 0.3);

    border-radius: 12px;

    padding: 10px;

    display: flex; gap: 10px;

    pointer-events: auto; /* Buttons are clickable */

    box-shadow: 0 0 25px rgba(0, 229, 255, 0.1);

}



/* Left Utility Buttons */

.tactical-btn {

    background: rgba(255,255,255,0.05); border: 1px solid #334;

    color: #fff; border-radius: 8px; width: 45px; height: 45px;

    font-size: 18px; cursor: pointer; transition: 0.2s;

}

.tactical-btn:hover { background: #00e5ff; color: #000; border-color: #00e5ff; box-shadow: 0 0 15px #00e5ff; }

.alert-btn { border-color: #ffd700; color: #ffd700; }

.alert-btn:hover { background: #ffd700; color: #000; box-shadow: 0 0 15px #ffd700; }



/* Right Heavy Skill Triggers */

.trigger-btn {

    background: linear-gradient(145deg, rgba(20,20,30,0.9), rgba(0,0,0,0.9));

    border: 1px solid #445; border-radius: 8px;

    display: flex; align-items: center; gap: 10px;

    padding: 5px 15px; cursor: pointer; transition: 0.2s;

    color: white; text-align: left;

}

.trigger-btn:hover { transform: translateY(-3px); }

.trigger-btn:active { transform: translateY(2px); }



.emp-trigger { border-bottom: 3px solid #ffaa00; }

.emp-trigger:hover { box-shadow: 0 5px 20px rgba(255, 170, 0, 0.4); border-color: #ffaa00; }

.slow-trigger { border-bottom: 3px solid #00e5ff; }

.slow-trigger:hover { box-shadow: 0 5px 20px rgba(0, 229, 255, 0.4); border-color: #00e5ff; }



.trigger-icon { font-size: 24px; filter: drop-shadow(0 0 5px currentColor); }

.trigger-info { display: flex; flex-direction: column; }

.t-name { font-family: 'Orbitron'; font-size: 14px; font-weight: bold; }

.t-key { font-family: 'Rajdhani'; font-size: 10px; color: #888; }



/* Center Input Engine */

.console-core {

    pointer-events: auto;

    width: 400px;

    display: flex; flex-direction: column; align-items: center;

    margin-bottom: -10px; /* Pushes it slightly down into the bezel */

}



.core-hologram {

    width: 100%;

    background: rgba(0, 5, 10, 0.9);

    border: 2px solid #00e5ff;

    border-radius: 8px 8px 0 0;

    border-bottom: none;

    padding: 15px;

    box-shadow: 0 -10px 30px rgba(0, 229, 255, 0.2), inset 0 0 15px rgba(0, 229, 255, 0.1);

    clip-path: polygon(5% 0, 95% 0, 100% 100%, 0 100%);

}



/* OVERRIDE the old input box styling */

#player-input {

    width: 100%;

    background: transparent !important;

    border: none !important;

    border-bottom: 2px dashed rgba(0, 229, 255, 0.5) !important;

    border-radius: 0 !important;

    box-shadow: none !important;

    font-size: 32px !important;

    padding: 5px !important;

}



#player-input:focus {

    border-bottom: 2px solid #ffd700 !important;

    text-shadow: 0 0 20px #ffd700 !important;

}



.console-core .input-hint {

    background: #00e5ff;

    color: #000;

    width: 100%;

    text-align: center;

    padding: 5px;

    font-family: 'Orbitron';

    font-size: 10px;

    font-weight: bold;

    letter-spacing: 2px;

    border-radius: 0 0 8px 8px;

    box-shadow: 0 5px 15px rgba(0, 229, 255, 0.4);

}



/* =========================================

   ðŸ›¸ IN-GAME TACTICAL COCKPIT (HOTFIXES)

   ========================================= */



/* 1. Z-INDEX FIX: Force UI Layer to stay on top of the Canvas */

#ui-layer {

    z-index: 100 !important;

}

canvas {

    z-index: 1 !important;

}



/* 2. LOWER THE INPUT BOX */

#input-container {

    position: absolute;

    bottom: 5px; /* ðŸŸ¢ Ibinaba sagad sa edge ng screen */

    left: 50%;

    transform: translateX(-50%);

    width: 320px; 

    z-index: 50; 

    pointer-events: auto;

}



#player-input {

    font-size: 24px !important; /* ðŸŸ¢ Medyo pinaliit para mas sleek */

    padding: 8px !important;

    background: rgba(0, 5, 10, 0.95) !important;

}



/* 3. RELOCATE COMMS TO THE LEFT */

#comms-toggle-btn {

    position: fixed;

    left: 0; right: auto; /* ðŸŸ¢ Nilipat sa kaliwa */

    top: 50%;

    transform: translateY(-50%);

    border: 1px solid #00e5ff;

    border-left: none; /* Baliktad na ang border */

    border-radius: 0 10px 10px 0;

    box-shadow: 5px 0 15px rgba(0, 229, 255, 0.2);

    /* ðŸŸ¢ Binaliktad ang text direction para mabasa ng tama sa kaliwa */

    writing-mode: vertical-lr; 

    transform: translateY(-50%) rotate(180deg); 

}



#comms-sidebar {

    left: 0; right: auto; /* ðŸŸ¢ Nilipat sa kaliwa */

    border-right: 2px solid #00e5ff;

    border-left: none;

    box-shadow: 10px 0 40px rgba(0, 229, 255, 0.1);

    transition: left 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);

}



#comms-sidebar.closed { 

    left: -360px; right: auto; /* Slide palabas pa-kaliwa */

}



/* 4. JESSBOT CORE (BOTTOM LEFT) - Adjust para hindi matabunan */

#nexus-ai-wrapper {

    position: fixed; 

    bottom: 20px; 

    left: 20px; /* ðŸŸ¢ Nananatili sa kaliwa, pero inayos ang margin */

    z-index: 99999;

}



/* 5. TIGHTEN COMMAND CONSOLE (BOTTOM HUD) */

.command-console {

    bottom: 10px; /* Ibaba ang buong console */

    gap: 15px;

}



.console-wing {

    background: rgba(0, 5, 10, 0.8);

    border: 1px solid rgba(0, 229, 255, 0.2);

    padding: 8px;

}



/* Make utility buttons slightly smaller */

.tactical-btn {

    width: 40px; height: 40px; font-size: 16px;

}

.trigger-btn {

    padding: 5px 12px;

}



/* =========================================

   ðŸ•¹ï¸ FREEFORM UI & MAGNETIC DOCKING CSS

   ========================================= */



/* --- 1. COMMS MASTER WRAPPER --- */

#comms-wrapper {

    position: absolute;

    top: 50%;

    transform: translateY(-50%);

    display: flex;

    z-index: 9999999; /* Always on top */

    align-items: center;

}



/* --- 2. COMMS HANDLE (The Draggable Button) --- */

.comms-handle {

    background: rgba(0, 15, 25, 0.95);

    border: 2px solid #00e5ff;

    color: #00e5ff;

    padding: 20px 8px;

    cursor: grab; /* Shows it can be dragged */

    display: flex;

    align-items: center;

    justify-content: center;

    gap: 10px;

    box-shadow: 0 0 15px rgba(0, 229, 255, 0.3);

    transition: background 0.3s, color 0.3s;

}



.comms-handle:active { cursor: grabbing; }

.comms-handle:hover { background: #00e5ff; color: #000; }



.handle-lines {

    width: 4px; height: 30px;

    border-left: 1px solid currentColor;

    border-right: 1px solid currentColor;

    opacity: 0.5;

}



.comms-text {

    font-family: 'Orbitron'; font-weight: bold; font-size: 14px; letter-spacing: 2px;

    writing-mode: vertical-rl; /* Text flows top to bottom */

}



/* --- 3. MAGNETIC ORIENTATION LOGIC --- */

/* DOCKED LEFT */

.docked-left { left: 0; flex-direction: row-reverse; } /* Button is on the right of the sidebar */

.docked-left .comms-handle { 

    border-radius: 0 10px 10px 0; border-left: none; 

}

.docked-left .comms-text { transform: rotate(180deg); } /* Fix text readability */

.docked-left #comms-sidebar { 

    border-right: 2px solid #00e5ff; border-left: none;

    transform-origin: left center;

}



/* DOCKED RIGHT */

.docked-right { right: 0; flex-direction: row; } /* Button is on the left of the sidebar */

.docked-right .comms-handle { 

    border-radius: 10px 0 0 10px; border-right: none; 

}

.docked-right #comms-sidebar { 

    border-left: 2px solid #00e5ff; border-right: none;

    transform-origin: right center;

}



/* --- 4. MILITARY ACRYLIC PANELS (Sidebar & Terminal) --- */

.acrylic-panel {

    width: 350px; height: 80vh; max-height: 800px;

    background: linear-gradient(135deg, rgba(5, 10, 20, 0.7), rgba(0, 5, 10, 0.9));

    backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);

    box-shadow: 0 10px 40px rgba(0,0,0,0.8), inset 0 0 20px rgba(0, 229, 255, 0.05);

    display: flex; flex-direction: column;

    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s;

}



/* Open/Close states for sidebar inside wrapper */

#comms-sidebar.closed { transform: scaleX(0); opacity: 0; pointer-events: none; width: 0; }

#comms-sidebar:not(.closed) { transform: scaleX(1); opacity: 1; width: 350px; }



/* Internal Details */

.empty-state { color: #556; font-size: 12px; text-align: center; margin-top: 30px; font-family: 'Orbitron'; font-style: italic; }



/* Neon Tab Underlines */

.comms-tabs .tab-btn {

    border-bottom: 2px solid transparent; color: #667; transition: 0.3s;

}

.comms-tabs .tab-btn:hover { color: #fff; }

.comms-tabs .tab-btn.active {

    color: #00e5ff; border-bottom: 2px solid #00e5ff;

    background: linear-gradient(0deg, rgba(0,229,255,0.1), transparent);

}



/* --- 5. JESSBOT FREE-ROAM TERMINAL --- */

#nexus-ai-wrapper {

    position: absolute; /* Changed from fixed so JS top/left styles work */

    bottom: 30px; left: 30px; 

    z-index: 999999;

}



#nexus-ai-button { cursor: grab; }

#nexus-ai-button:active { cursor: grabbing; }



#nexus-terminal {

    position: absolute;

    bottom: 80px; /* Opens above the orb */

    left: 0;

    width: 380px; height: 500px;

    background: rgba(0, 5, 10, 0.85);

    backdrop-filter: blur(20px);

    border: 1px solid #00e5ff;

    border-radius: 12px;

    box-shadow: 0 15px 50px rgba(0,0,0,0.9), inset 0 0 15px rgba(0, 229, 255, 0.2);

    display: flex; flex-direction: column; overflow: hidden;

    transform-origin: bottom left;

    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.2s;

}



/* Scanline Effect inside Jessbot Chat */

#nexus-terminal::before {

    content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background: repeating-linear-gradient(0deg, rgba(0, 229, 255, 0.03), rgba(0, 229, 255, 0.03) 1px, transparent 1px, transparent 4px);

    pointer-events: none; z-index: 0;

}



#nexus-chat-history { z-index: 1; position: relative; } /* Sit above scanlines */



/* Sharp Data-Block Chat Bubbles */

.holo-msg {

    border-radius: 0 !important; /* Sharp edges */

    clip-path: polygon(0 0, 95% 0, 100% 10px, 100% 100%, 5% 100%, 0 calc(100% - 10px));

}



/* =========================================

   ðŸ›¡ï¸ SYMMETRICAL TACTICAL SIDEBARS (COMMS & JESSBOT)

   ========================================= */



.tactical-sidebar {

    position: fixed;

    top: 0;

    width: 380px;

    max-width: 90vw;

    height: 100vh;

    background: rgba(5, 10, 15, 0.85);

    backdrop-filter: blur(20px);

    -webkit-backdrop-filter: blur(20px);

    z-index: 100000;

    display: flex;

    flex-direction: column;

    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);

    overflow: hidden;

}



/* Symmetrical Positioning */

.left-side {

    left: 0;

    border-right: 2px solid #00e5ff;

    box-shadow: 10px 0 40px rgba(0, 229, 255, 0.15);

}

.left-side.closed { transform: translateX(-100%); }



.right-side {

    right: 0;

    border-left: 2px solid #ffd700;

    box-shadow: -10px 0 40px rgba(255, 215, 0, 0.15);

}

.right-side.closed { transform: translateX(100%); }



/* Subtle internal scanline */

.sidebar-scanline {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.03) 3px, rgba(255,255,255,0.03) 4px);

    pointer-events: none; z-index: 0;

}



/* Headers */

.ts-header {

    display: flex; justify-content: space-between; align-items: flex-start;

    padding: 25px 20px; border-bottom: 1px solid rgba(0, 229, 255, 0.3);

    background: rgba(0,0,0,0.4); z-index: 1;

}

.ts-title { margin: 0; font-family: 'Orbitron'; font-size: 20px; color: #fff; letter-spacing: 2px; }

.ts-sub { margin: 5px 0 0 0; font-family: 'Rajdhani'; font-size: 10px; color: #888; letter-spacing: 3px; }

.ts-close-btn { background: transparent; border: none; color: #00e5ff; font-size: 20px; cursor: pointer; transition: 0.2s; }

.ts-close-btn:hover { transform: scale(1.2); text-shadow: 0 0 10px currentColor; }



/* Tabs (Comms) */

.ts-tabs { display: flex; background: rgba(0,0,0,0.6); border-bottom: 1px solid #333; z-index: 1; }

.ts-tab { 

    flex: 1; padding: 15px 0; background: transparent; border: none; 

    color: #666; font-family: 'Orbitron'; font-size: 11px; cursor: pointer; 

    transition: 0.3s; border-bottom: 2px solid transparent;

}

.ts-tab:hover { color: #fff; background: rgba(255,255,255,0.05); }

.ts-tab.active { color: #00e5ff; border-bottom-color: #00e5ff; text-shadow: 0 0 10px #00e5ff; }



/* Content Area */

.ts-content { flex-grow: 1; padding: 20px; overflow-y: auto; z-index: 1; position: relative; }

.scanning-text { color: #555; font-family: 'Courier New'; text-align: center; margin-top: 50px; animation: blink 1.5s infinite; }



/* Tactical CLI Input Box */

.cli-input-box {

    display: flex; align-items: center; background: rgba(0,0,0,0.8);

    border: 1px solid #00e5ff; border-radius: 4px; padding: 5px 10px; z-index: 1;

}

.cli-prompt { font-family: 'Courier New'; color: #00e5ff; font-weight: bold; margin-right: 10px; }

.cli-input-box input {

    flex-grow: 1; background: transparent; border: none; color: #fff;

    font-family: 'Rajdhani'; font-size: 16px; outline: none; padding: 8px 0;

}

.cli-send-btn {

    background: transparent; border: none; color: #00e5ff; font-family: 'Orbitron';

    font-weight: bold; cursor: pointer; font-size: 12px; transition: 0.2s;

}

.cli-send-btn:hover { text-shadow: 0 0 10px currentColor; transform: scale(1.1); }



/* --- JESSBOT SPECIFIC (Data Blocks instead of Bubbles) --- */

.data-block {

    padding: 12px 15px; border-radius: 0; font-family: 'Rajdhani'; font-size: 15px;

    max-width: 90%; word-wrap: break-word; line-height: 1.5; position: relative;

    box-shadow: inset 0 0 10px rgba(0,0,0,0.5);

}

.block-label { 

    display: block; font-family: 'Orbitron'; font-size: 9px; font-weight: bold; 

    margin-bottom: 5px; opacity: 0.8; letter-spacing: 1px; 

}



.ai-block { 

    background: rgba(0, 229, 255, 0.05); border-left: 3px solid #ffd700; 

    color: #eee; align-self: flex-start; 

}

.ai-block .block-label { color: #ffd700; }



.user-block { 

    background: rgba(255, 255, 255, 0.05); border-right: 3px solid #00e5ff; 

    color: #fff; align-self: flex-end; text-align: right; 

}

.user-block .block-label { color: #00e5ff; }



/* AI Waveform */

.waveform-container { display: flex; justify-content: center; gap: 4px; padding: 15px; background: rgba(0,0,0,0.5); border-bottom: 1px solid #333; }

.wave-bar { width: 3px; height: 10px; background: #ffd700; animation: waveThink 0.5s infinite ease-in-out alternate; }

.wave-bar:nth-child(2) { animation-delay: 0.1s; }

.wave-bar:nth-child(3) { animation-delay: 0.2s; }

.wave-bar:nth-child(4) { animation-delay: 0.3s; }

.wave-bar:nth-child(5) { animation-delay: 0.4s; }



/* Comms Agent Cards */

.agent-card-mini {

    background: rgba(0,0,0,0.6); border: 1px solid #222; border-left: 3px solid #00ff41;

    padding: 12px; border-radius: 4px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center;

}

.agent-card-mini:hover { background: rgba(0, 229, 255, 0.1); border-color: #00e5ff; }

.chat-history { flex-grow: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; padding-right: 5px; }

.encryption-notice { text-align: center; color: #ff0055; font-size: 10px; font-family: 'Courier New'; margin-bottom: 15px; }



/* =========================================

   ðŸ§  JESSBOT RIGHT-SIDE & COMMAND BUTTONS

   ========================================= */



/* Ensure Right Side Positioning is Absolute */

.tactical-sidebar.right-side {

    right: 0;

    left: auto; /* Override any left positioning */

    border-left: 2px solid #ffd700;

    border-right: none;

    box-shadow: -10px 0 40px rgba(255, 215, 0, 0.15);

    transform: translateX(0); /* Default state when open */

}



/* Correct Slide-out Animation for Right Side */

.tactical-sidebar.right-side.closed {

    transform: translateX(100%); /* Slides completely out to the right */

}



/* Command Grid layout at the bottom of JessBot */

.ai-command-grid {

    display: grid;

    grid-template-columns: 1fr;

    gap: 8px;

    padding: 15px;

    background: rgba(0, 0, 0, 0.8);

    border-top: 1px solid #ffd700;

    z-index: 5;

}



.ai-cmd-btn {

    background: linear-gradient(90deg, rgba(255,215,0,0.05), transparent);

    border: 1px solid rgba(255, 215, 0, 0.3);

    color: #ffd700;

    font-family: 'Rajdhani', sans-serif;

    font-size: 13px;

    font-weight: bold;

    text-align: left;

    padding: 10px 15px;

    border-radius: 4px;

    cursor: pointer;

    transition: all 0.2s ease;

    display: flex;

    align-items: center;

    gap: 10px;

}



.ai-cmd-btn:hover {

    background: rgba(255, 215, 0, 0.2);

    border-color: #ffd700;

    box-shadow: inset 5px 0 0 #ffd700;

    transform: translateX(5px);

}



.cmd-icon {

    font-size: 16px;

    filter: drop-shadow(0 0 5px #ffd700);

}



/* AI Readout Formatting (For the generated reports) */

.ai-readout {

    font-family: 'Courier New', monospace;

    font-size: 12px;

    color: #ccc;

    background: rgba(0,0,0,0.5);

    padding: 10px;

    border-radius: 4px;

    border-left: 2px solid #00e5ff;

    margin-top: 10px;

}

.ai-readout b { color: #fff; }

.ai-readout .highlight-green { color: #00ff41; font-weight: bold; }

.ai-readout .highlight-red { color: #ff0055; font-weight: bold; }

.ai-readout .highlight-gold { color: #ffd700; font-weight: bold; }



/* =========================================

   ðŸ§  JESSBOT RIGHT-SIDE & COMMAND BUTTONS

   ========================================= */



/* The Right Edge Toggle Button */

#jessbot-toggle-btn {

    position: fixed;

    right: 0; left: auto;

    top: 50%;

    transform: translateY(-50%) rotate(180deg);

    background: rgba(20, 10, 0, 0.9);

    border: 1px solid #ffd700;

    border-right: none;

    color: #ffd700;

    padding: 15px 10px;

    border-radius: 10px 0 0 10px;

    cursor: pointer;

    font-family: 'Orbitron';

    writing-mode: vertical-rl;

    text-orientation: mixed;

    z-index: 9999;

    box-shadow: -5px 0 15px rgba(255, 215, 0, 0.2);

    transition: 0.3s;

}

#jessbot-toggle-btn:hover { background: #ffd700; color: black; }



/* Ensure Right Side Positioning is Absolute */

.tactical-sidebar.right-side {

    right: 0;

    left: auto; 

    border-left: 2px solid #ffd700;

    border-right: none;

    box-shadow: -10px 0 40px rgba(255, 215, 0, 0.15);

    transform: translateX(0); /* Default state when open */

}



.tactical-sidebar.right-side.closed {

    transform: translateX(100%); /* Slides completely out to the right */

}



/* Command Grid layout at the bottom of JessBot */

.ai-command-grid {

    display: grid;

    grid-template-columns: 1fr;

    gap: 8px;

    padding: 15px;

    background: rgba(0, 0, 0, 0.8);

    border-top: 1px solid #ffd700;

    z-index: 5;

}



.ai-cmd-btn {

    background: linear-gradient(90deg, rgba(255,215,0,0.05), transparent);

    border: 1px solid rgba(255, 215, 0, 0.3);

    color: #ffd700;

    font-family: 'Rajdhani', sans-serif;

    font-size: 13px;

    font-weight: bold;

    text-align: left;

    padding: 10px 15px;

    border-radius: 4px;

    cursor: pointer;

    transition: all 0.2s ease;

    display: flex;

    align-items: center;

    gap: 10px;

}



.ai-cmd-btn:hover {

    background: rgba(255, 215, 0, 0.2);

    border-color: #ffd700;

    box-shadow: inset 5px 0 0 #ffd700;

    transform: translateX(5px);

}



.cmd-icon {

    font-size: 16px;

    filter: drop-shadow(0 0 5px #ffd700);

}



/* AI Readout Formatting (For the generated reports) */

.ai-readout {

    font-family: 'Courier New', monospace;

    font-size: 12px;

    color: #ccc;

    background: rgba(0,0,0,0.5);

    padding: 10px;

    border-radius: 4px;

    border-left: 2px solid #00e5ff;

    margin-top: 10px;

}

.ai-readout b { color: #fff; }

.ai-readout .highlight-green { color: #00ff41; font-weight: bold; }

.ai-readout .highlight-red { color: #ff0055; font-weight: bold; }

.ai-readout .highlight-gold { color: #ffd700; font-weight: bold; }



/* =========================================

   ðŸ§  JESSBOT CHATHEAD TOGGLE (AAA UPGRADE)

   ========================================= */



/* The Wall Mount / Bracket */

#jessbot-toggle-btn {

    position: fixed;

    right: 0;

    top: 50%;

    transform: translateY(-50%);

    background: rgba(15, 10, 0, 0.85); /* Dark amber glass */

    border: 2px solid #ffd700;

    border-right: none;

    padding: 15px 10px 15px 15px;

    border-radius: 40px 0 0 40px; /* ðŸŸ¢ Makes it a sleek semi-circle bracket */

    cursor: pointer;

    z-index: 9999;

    box-shadow: -5px 0 20px rgba(255, 215, 0, 0.15), inset -5px 0 15px rgba(255, 215, 0, 0.1);

    backdrop-filter: blur(8px);

    -webkit-backdrop-filter: blur(8px);

    display: flex;

    flex-direction: column;

    align-items: center;

    gap: 12px;

    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);

}



/* Hovering pulls it out slightly and brightens it */

#jessbot-toggle-btn:hover {

    background: rgba(30, 20, 0, 0.95);

    box-shadow: -8px 0 30px rgba(255, 215, 0, 0.4), inset -5px 0 20px rgba(255, 215, 0, 0.3);

    transform: translateY(-50%) scale(1.05);

    padding-right: 15px;

}



/* ðŸŸ¢ The 3D Holographic Orb */

.chathead-orb {

    position: relative;

    width: 48px; 

    height: 48px;

    display: flex;

    justify-content: center;

    align-items: center;

}



/* The Breathing AI Core */

.chathead-orb .gold-core {

    width: 18px; 

    height: 18px; 

    background: #ffd700; 

    border-radius: 50%;

    box-shadow: 0 0 15px #ffd700, inset 0 0 8px #fff;

    animation: chatheadPulse 1.5s infinite alternate;

    transition: 0.3s ease;

}



/* The Spinning Orbit Rings */

.chathead-orb .gold-ring {

    position: absolute; 

    top: 0; left: 0; 

    width: 100%; height: 100%;

    border: 2px solid rgba(255, 215, 0, 0.5); 

    border-radius: 50%;

    box-sizing: border-box;

}



.chathead-orb .ring-1 { 

    border-top-color: transparent; 

    border-bottom-color: transparent; 

    animation: coreSpin 3s linear infinite; 

}



.chathead-orb .ring-2 { 

    border-left-color: transparent; 

    border-right-color: transparent; 

    animation: coreSpin 2s linear infinite reverse; 

    scale: 0.70; /* Inner ring size */

    border-width: 3px;

    opacity: 0.9; 

}



/* When hovered, the core goes full supernova */

#jessbot-toggle-btn:hover .gold-core {

    background: #fff;

    box-shadow: 0 0 30px #ffd700, 0 0 60px #fff;

    transform: scale(1.3);

}



/* Typography */

.chathead-label {

    writing-mode: vertical-rl;

    text-orientation: mixed;

    font-family: 'Orbitron', sans-serif;

    font-size: 11px;

    font-weight: 900;

    color: #ffd700;

    letter-spacing: 4px;

    text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);

    transition: 0.3s;

}



#jessbot-toggle-btn:hover .chathead-label {

    color: #fff;

    text-shadow: 0 0 15px #ffd700;

}



/* Keyframes for the heartbeat of the AI */

@keyframes chatheadPulse { 

    0% { opacity: 0.7; transform: scale(0.85); box-shadow: 0 0 10px #ffd700; } 

    100% { opacity: 1; transform: scale(1.1); box-shadow: 0 0 25px #ffd700, inset 0 0 10px #fff; } 

}



/* Reusing the spin keyframe if you don't already have it */

@keyframes coreSpin { 

    0% { transform: rotate(0deg); } 

    100% { transform: rotate(360deg); } 

}





/* =========================================

   ðŸ§® TACTICAL SOLVER UI/UX ENHANCEMENTS

   ========================================= */

.decryption-step {

    border-left: 3px solid #00e5ff;

    background: rgba(0, 229, 255, 0.05);

    padding: 8px 12px;

    margin-bottom: 10px;

    font-family: 'Courier New', monospace;

    font-size: 13px;

    color: #ddd;

    animation: slideInLeft 0.3s ease-out forwards;

    opacity: 0;

    transform: translateX(-20px);

}



.decryption-step.final-answer {

    border-left: 4px solid #ffd700;

    background: rgba(255, 215, 0, 0.1);

    color: #ffd700;

    font-weight: bold;

    font-size: 16px;

    box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);

}



.step-label {

    color: #00ff41;

    font-weight: bold;

    margin-right: 8px;

}



@keyframes slideInLeft {

    to {

        opacity: 1;

        transform: translateX(0);

    }

}



/* =========================================

   ðŸ“¡ N.E.X.U.S. MEETING O.S. STYLES

   ========================================= */

#nexus-meet-app {

    position: fixed;

    top: 0; left: 0;

    width: 100vw; height: 100vh;

    background: #05070a;

    z-index: 100000;

    display: flex;

    flex-direction: column;

    transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);

}



/* MINIMIZED (Picture-in-Picture Mode) */

#nexus-meet-app.pip-mode {

    top: 20px; left: auto; right: 20px;

    width: 320px; height: 200px;

    border: 2px solid #00e5ff;

    border-radius: 12px;

    box-shadow: 0 0 30px rgba(0, 229, 255, 0.3);

}



#nexus-meet-app.pip-mode .meet-sidebar, 

#nexus-meet-app.pip-mode .meet-footer {

    display: none; /* Hide chat and buttons when minimized */

}



/* Header */

.meet-header {

    display: flex; justify-content: space-between; align-items: center;

    padding: 10px 20px; background: rgba(0,0,0,0.8);

    border-bottom: 1px solid #333;

}

.meet-title { font-family: 'Orbitron'; color: #fff; font-size: 14px; }

.meet-window-controls button {

    background: transparent; border: none; color: #aaa;

    font-size: 16px; cursor: pointer; margin-left: 10px; transition: 0.2s;

}

.meet-window-controls button:hover { color: #fff; }

.btn-close-meet:hover { color: #ff0055 !important; }



/* Body Layout */

.meet-body {

    flex-grow: 1; display: flex; overflow: hidden;

}



/* Video Area */

.meet-video-area {

    flex-grow: 1; background: #010203;

    display: flex; justify-content: center; align-items: center;

    position: relative; padding: 20px;

}

#commander-video-wrapper {

    width: 100%; max-width: 900px; aspect-ratio: 16/9;

    background: #111; border: 2px solid #333; border-radius: 12px;

    position: relative; overflow: hidden;

    box-shadow: 0 0 50px rgba(0,0,0,0.8);

}

#commander-video {

    width: 100%; height: 100%; object-fit: cover;

    transform: scaleX(-1); /* Mirror effect */

}

#video-overlay-text {

    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);

    font-family: 'Orbitron'; color: #444; font-size: 24px; letter-spacing: 5px;

}



/* Sidebar */

.meet-sidebar {

    width: 350px; background: #0a0a0f; border-left: 1px solid #333;

    display: flex; flex-direction: column; transition: 0.3s;

}

.meet-sidebar.hidden { width: 0; border: none; overflow: hidden; }

.meet-tabs { display: flex; border-bottom: 1px solid #333; }

.meet-tabs button {

    flex: 1; padding: 15px; background: transparent; border: none;

    color: #888; font-family: 'Orbitron'; cursor: pointer;

}

.meet-tabs button.active { color: #00e5ff; border-bottom: 2px solid #00e5ff; }

.meet-tab-content { padding: 15px; flex-grow: 1; overflow-y: auto; }



/* Footer Controls (The GMeet Buttons) */

.meet-footer {

    height: 70px; background: rgba(0,0,0,0.9); border-top: 1px solid #333;

    display: flex; justify-content: space-between; align-items: center; padding: 0 30px;

}

.meet-ctrl-btn {

    width: 50px; height: 50px; border-radius: 50%;

    background: #222; border: 1px solid #444; color: white;

    font-size: 18px; cursor: pointer; transition: 0.2s; margin: 0 5px;

}

.meet-ctrl-btn:hover { background: #333; border-color: #888; }

.meet-ctrl-btn.active { background: rgba(0, 229, 255, 0.2); border-color: #00e5ff; color: #00e5ff; }

.meet-ctrl-btn.danger { background: #ff0055; border-color: #ff0055; }

.meet-ctrl-btn.danger:hover { background: #cc0044; }



/* =========================================

   ðŸ”¥ N.E.X.U.S. OVERDRIVE: STRIKE 1

   ========================================= */



/* --- 1. 3D PARALLAX HELMET EFFECT --- */

/* --- 1. 3D PARALLAX HELMET EFFECT --- */

#game-wrapper {

    position: absolute;

    top: 0; 

    left: 0;

    width: 100vw;

    height: 100vh;

    perspective: 1200px; /* Creates the 3D depth of field */

    overflow: hidden;

}



#ui-layer {

    transform-style: preserve-3d;

    transition: transform 0.1s linear; /* Fast, snappy follow */

    /* Z-index fix to ensure it stays above canvas but below modals */

    z-index: 50 !important;

}



/* --- 2. DIEGETIC CLOAKING (Hide the old input box) --- */

#input-container {

    /* We don't use display:none so the keyboard still works, 

       we just make it completely invisible! */

    opacity: 0.01; 

    pointer-events: none;

    transform: scale(0.1); /* Shrink it out of the way */

}



/* --- 3. DYNAMIC HUD GLOWS --- */

.visor-panel {

    background: rgba(2, 5, 10, 0.6) !important; /* Darker, less distracting */

    border: 1px solid rgba(0, 229, 255, 0.1) !important;

    box-shadow: 0 10px 30px rgba(0,0,0,0.8) !important;

}



/* Add a faint CRT Vignette to the whole screen */

body::after {

    content: "";

    position: fixed;

    top: 0; left: 0; width: 100vw; height: 100vh;

    background: radial-gradient(circle at center, transparent 50%, rgba(0, 5, 15, 0.8) 100%);

    pointer-events: none;

    z-index: 99990; /* Right below modals */

}



/* =========================================

   ðŸ’¥ OVERDRIVE STRIKE 2: COMBAT IMPACT VFX

   ========================================= */



/* 1. The Hit-Stop Flash (When destroying an enemy) */

@keyframes hitStopFlash {

    0% { filter: invert(1) brightness(2) contrast(2); }

    50% { filter: brightness(1.5) saturate(2); }

    100% { filter: none; }

}

body.hit-stop-active canvas {

    animation: hitStopFlash 0.1s ease-out;

}



/* 2. The Critical Damage Glitch (When player takes damage) */

@keyframes rgbSplitDamage {

    0% { transform: translate(0); }

    20% { transform: translate(-10px, 10px); box-shadow: -10px 0 0 rgba(255,0,85,0.8), 10px 0 0 rgba(0,229,255,0.8); filter: hue-rotate(90deg) contrast(2); }

    40% { transform: translate(-10px, -10px); box-shadow: 10px 0 0 rgba(255,0,85,0.8), -10px 0 0 rgba(0,229,255,0.8); filter: invert(0.2); }

    60% { transform: translate(10px, 10px); }

    80% { transform: translate(10px, -10px); }

    100% { transform: translate(0); box-shadow: none; filter: none; }

}

.damage-glitch {

    animation: rgbSplitDamage 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);

    /* Nagdadagdag ng pulang dugo sa paligid ng screen */

    box-shadow: inset 0 0 150px rgba(255, 0, 0, 0.8) !important; 

}



/* =========================================

   âš¡ OVERDRIVE STRIKE 3: "MATH GOD" MODE

   ========================================= */



/* The Golden Screen Vignette */

body.overdrive-active::after {

    background: radial-gradient(circle at center, transparent 40%, rgba(255, 215, 0, 0.3) 100%) !important;

    animation: overdrivePulse 1s infinite alternate;

}



@keyframes overdrivePulse {

    0% { box-shadow: inset 0 0 50px rgba(255, 215, 0, 0.2); }

    100% { box-shadow: inset 0 0 150px rgba(255, 215, 0, 0.6); }

}



/* Make the Input Box look like pure golden energy */

.overdrive-active #player-input {

    border-bottom: 4px solid #ffd700 !important;

    color: #ffd700 !important;

    text-shadow: 0 0 30px #ffd700, 0 0 10px #ffffff !important;

    transform: scale(1.1);

    animation: inputTremble 0.1s infinite;

}



@keyframes inputTremble {

    0% { transform: scale(1.1) translateX(0px); }

    50% { transform: scale(1.1) translateX(2px); }

    100% { transform: scale(1.1) translateX(-2px); }

}



/* Hyper-Glow for Combo Counter */

.overdrive-active #combo-value {

    color: #ffd700;

    text-shadow: 0 0 40px #ffd700, 0 0 20px #fff;

    transform: scale(1.2) skewX(-10deg);

}



/* =========================================

   â˜¢ï¸ ABSOLUTE DASHBOARD OVERRIDE 

   ========================================= */

.nuclear-show {

    display: flex !important;

    visibility: visible !important;

    opacity: 1 !important;

    position: fixed !important;

    top: 0 !important;

    left: 0 !important;

    width: 100vw !important;

    height: 100vh !important;

    z-index: 2147483647 !important; /* Pinakamataas na limit ng browser! */

    pointer-events: auto !important;

    background: #05070a !important; /* Para matakpan ang background stars */

}



/* =========================================

   ðŸš¨ EMERGENCY DASHBOARD RESCUE PATCH 

   ========================================= */



/* 1. Banatin ang Game Wrapper sa buong screen para hindi mag 0x0 pixels */

#game-wrapper {

    position: fixed !important;

    top: 0 !important;

    left: 0 !important;

    width: 100vw !important;

    height: 100vh !important;

    perspective: 1200px;

    overflow: visible !important; /* Tanggalin ang pagiging invisible */

    z-index: 10 !important;

}



/* 2. Piliting umibabaw at mag-full screen ang Main Dashboard at ibang Modals */

.modal {

    position: fixed !important; 

    top: 0 !important;

    left: 0 !important;

    width: 100vw !important;

    height: 100vh !important;

    z-index: 999999 !important; /* Pinakamataas sa buong system */

}



/* 3. Siguraduhing naitatago talaga ang hidden elements */

.hidden {

    display: none !important;

    opacity: 0 !important;

    pointer-events: none !important;

}



/* =========================================

   ðŸ”¥ GOD-LEVEL TEACHER COMMAND CENTER ðŸ”¥

   ========================================= */



/* 1. ðŸ“¡ LIVE ROSTER (The Fleet) */

#roster-grid {

    display: grid;

    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));

    gap: 20px;

    padding: 20px;

}



.roster-card-god {

    position: relative;

    background: linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(0, 10, 20, 0.9) 100%);

    border: 1px solid #00ff41;

    border-radius: 4px;

    padding: 20px;

    /* Angas factor: Beveled Corners (Hiwa ang gilid) */

    clip-path: polygon(15px 0, 100% 0, 100% calc(100% - 15px), calc(100% - 15px) 100%, 0 100%, 0 15px);

    box-shadow: 0 0 20px rgba(0, 255, 65, 0.1);

    transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);

    overflow: hidden;

}



.roster-card-god:hover {

    transform: translateY(-5px) scale(1.02);

    box-shadow: 0 10px 30px rgba(0, 255, 65, 0.4);

    background: linear-gradient(135deg, rgba(0, 255, 65, 0.2) 0%, rgba(0, 10, 20, 0.9) 100%);

}



/* Radar Sweep inside Roster */

.roster-card-god::before {

    content: ""; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;

    background: conic-gradient(transparent, rgba(0, 255, 65, 0.1), transparent 30%);

    animation: radarSpin 4s linear infinite;

    pointer-events: none;

}



/* 2. ðŸ•µï¸â€â™‚ï¸ SPY GRID (Live Telemetry) */

.spy-card-god {

    background: rgba(5, 10, 20, 0.85);

    border: 1px solid #334;

    border-left: 4px solid #00e5ff;

    padding: 15px;

    border-radius: 0 10px 10px 0;

    position: relative;

    overflow: hidden;

    transition: 0.3s;

}



.spy-card-god:hover {

    border-color: #00e5ff;

    box-shadow: 0 5px 25px rgba(0, 229, 255, 0.2);

}



/* Target Crosshair Pattern inside Spy Card */

.spy-card-god::after {

    content: ""; position: absolute; right: 10px; top: 10px;

    width: 40px; height: 40px;

    background-image: 

        linear-gradient(rgba(0, 229, 255, 0.3) 1px, transparent 1px),

        linear-gradient(90deg, rgba(0, 229, 255, 0.3) 1px, transparent 1px);

    background-size: 10px 10px;

    border: 1px solid rgba(0, 229, 255, 0.2);

    border-radius: 50%;

    opacity: 0.5;

    animation: pulseAI 2s infinite alternate;

}



/* Segmented Progress Bar (Hindi na solid line, putol-putol na parang sci-fi energy bar) */

.spy-bar-hitech {

    width: 100%; height: 6px; background: #111; margin-top: 10px;

    display: flex; gap: 2px;

}

.spy-fill-segment {

    height: 100%; background: #00e5ff;

    flex-grow: 1; opacity: 0.2; transition: 0.3s;

}

.spy-fill-segment.active { opacity: 1; box-shadow: 0 0 10px #00e5ff; }

.spy-fill-segment.jammed { background: #ff0055; opacity: 1; box-shadow: 0 0 10px #ff0055; animation: blink 0.2s infinite; }



/* 3. ðŸ† RANKINGS (The Holographic Podium) */

#podium-container {

    perspective: 1000px;

}

.podium-pillar {

    transform-style: preserve-3d;

    position: relative;

}

/* Holographic Base Plate (Glowing floor underneath) */

.podium-pillar::after {

    content: ""; position: absolute; bottom: -20px; left: -20px; right: -20px; height: 40px;

    background: radial-gradient(ellipse, rgba(255, 215, 0, 0.4) 0%, transparent 70%);

    transform: rotateX(75deg);

    z-index: -1;

}

.silver::after { background: radial-gradient(ellipse, rgba(192, 192, 192, 0.4) 0%, transparent 70%); }

.bronze::after { background: radial-gradient(ellipse, rgba(205, 127, 50, 0.4) 0%, transparent 70%); }



/* Animated Floating Avatars on Podium */

.podium-avatar-god {

    font-size: 50px;

    filter: drop-shadow(0 10px 10px rgba(0,0,0,0.8));

    animation: orbFloat 3s ease-in-out infinite;

}



/* 4. ðŸ“„ DATA REPORTS (Tactical List) */

.report-row-god {

    background: rgba(10, 15, 25, 0.6);

    border-left: 3px solid transparent;

    transition: 0.2s;

}

.report-row-god:hover {

    background: rgba(0, 229, 255, 0.1);

    border-left: 3px solid #00e5ff;

    transform: translateX(10px);

}

.report-row-god td { border-bottom: 1px solid rgba(0, 229, 255, 0.1); }



/* Warning Scanline for struggling students */

.on-fire-row {

    background: repeating-linear-gradient(45deg, rgba(255, 0, 85, 0.1), rgba(255, 0, 85, 0.1) 10px, rgba(0, 0, 0, 0.8) 10px, rgba(0, 0, 0, 0.8) 20px) !important;

    border-left: 4px solid #ff0055 !important;

    animation: slideBg 2s linear infinite;

}

@keyframes slideBg { from { background-position: 0 0; } to { background-position: 40px 0; } }



/* 5. ðŸŽ–ï¸ FINAL AWARDING MODAL (Cinematic End) */

#awarding-modal .modal-content {

    background: radial-gradient(circle at center, #0a0a1a 0%, #000000 100%) !important;

    border: 2px solid #ffd700;

    box-shadow: 0 0 100px rgba(255, 215, 0, 0.2), inset 0 0 50px rgba(255, 215, 0, 0.1);

}

.stat-card-god {

    background: rgba(255, 255, 255, 0.02);

    border: 1px solid rgba(255, 215, 0, 0.3);

    border-radius: 12px;

    padding: 25px;

    position: relative;

    overflow: hidden;

    backdrop-filter: blur(5px);

}

.stat-card-god::before {

    content: ""; position: absolute; top: 0; left: -100%; width: 50%; height: 100%;

    background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.1), transparent);

    animation: glassShine 3s infinite;

}

@keyframes glassShine { 0% { left: -100%; } 20%, 100% { left: 200%; } }



/* =========================================

   ðŸ‘‘ GOD-LEVEL DASHBOARD AESTHETICS ðŸ‘‘

   ========================================= */



/* --- 1. SPY GRID (CCTV PANOPTICON) --- */

#spy-grid-container {

    display: grid;

    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));

    gap: 20px;

    padding: 20px;

}



.spy-card-god {

    background: rgba(5, 10, 20, 0.9);

    border: 1px solid #223;

    border-radius: 8px;

    padding: 15px;

    box-shadow: 0 10px 30px rgba(0,0,0,0.8);

    transition: 0.3s;

    position: relative;

}



.spy-card-god:hover {

    transform: translateY(-5px);

    box-shadow: 0 15px 40px rgba(0, 229, 255, 0.2);

    border-color: #00e5ff;

}



.spy-header {

    display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;

}

.spy-name { font-family: 'Orbitron'; font-size: 16px; font-weight: bold; color: white; }

.spy-status { font-family: 'Rajdhani'; font-size: 10px; letter-spacing: 1px; font-weight: 900; }



/* The Live CCTV Monitor */

.spy-cctv-container {

    width: 100%; height: 160px;

    background: #000;

    border: 2px solid #334;

    border-radius: 4px;

    position: relative;

    overflow: hidden;

    margin-bottom: 10px;

}



.spy-cctv-screen {

    width: 100%; height: 100%; object-fit: cover;

    filter: contrast(1.2) saturation(1.5); /* Enhances the game colors */

}



/* CRT Scanline Overlay */

.cctv-overlay {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));

    background-size: 100% 4px, 6px 100%;

    pointer-events: none;

}



/* Camera Target UI */

.cctv-crosshair {

    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);

    width: 40px; height: 40px;

    border: 1px solid rgba(0, 229, 255, 0.3);

    border-radius: 50%;

    pointer-events: none;

}

.cctv-crosshair::before, .cctv-crosshair::after {

    content: ""; position: absolute; background: rgba(0, 229, 255, 0.5);

}

.cctv-crosshair::before { top: 50%; left: -10px; right: -10px; height: 1px; }

.cctv-crosshair::after { left: 50%; top: -10px; bottom: -10px; width: 1px; }



/* REC Blinker */

.cctv-rec {

    position: absolute; top: 10px; right: 10px;

    color: red; font-family: 'Rajdhani'; font-weight: bold; font-size: 12px;

    text-shadow: 0 0 5px red;

}



.spy-footer {

    display: flex; justify-content: space-between;

    background: rgba(0,0,0,0.5); padding: 8px; border-radius: 4px;

}

.spy-stat { font-family: 'Courier New', monospace; font-size: 11px; color: #888; font-weight: bold; }





/* =========================================

   ðŸ‘‘ N.E.X.U.S. GOD-TIER RANKINGS ðŸ‘‘

   ========================================= */



/* The Main Tab Area */

#view-podium {

    display: flex !important;

    flex-direction: column;

    align-items: center;

    padding-top: 50px;

    background: radial-gradient(circle at top, rgba(0, 229, 255, 0.05) 0%, transparent 60%);

    overflow-y: auto;

}



/* 3D Container for Pillars */

.nexus-podium-container {

    display: flex;

    justify-content: center;

    align-items: flex-end;

    gap: 50px;

    height: 380px;

    margin-bottom: 50px;

    perspective: 1200px; /* Gives the 3D depth */

    transform-style: preserve-3d;

}



/* Individual Holographic Pillar */

.nexus-holo-pillar {

    display: flex;

    flex-direction: column;

    align-items: center;

    position: relative;

    width: 150px;

    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);

}



.nexus-holo-pillar:hover {

    transform: translateY(-20px) scale(1.05); /* Pops out significantly on hover */

}



/* 1. THE HOLOGRAM PROJECTOR BASE (Sa Sahig) */

.nexus-projector-base {

    width: 150px;

    height: 45px;

    background: #02050a;

    border: 3px solid;

    border-radius: 50%;

    position: absolute;

    bottom: -22px;

    box-shadow: inset 0 0 25px currentColor, 0 20px 60px currentColor;

    transform: rotateX(65deg); /* Flattens it to look like a floor disc */

    z-index: 1;

}



/* 2. THE GLOWING ENERGY BEAM (The Pillar Itself) */

.nexus-energy-core {

    position: absolute;

    bottom: 0;

    width: 110px;

    border-radius: 10px 10px 0 0;

    background: linear-gradient(to top, currentColor 0%, transparent 100%);

    opacity: 0.3;

    z-index: 2;

    overflow: hidden;

}



/* Laser Scanning Animation inside the beam */

.nexus-energy-core::after {

    content: "";

    position: absolute;

    bottom: 0; left: 0; width: 100%; height: 25px;

    background: white;

    opacity: 0.6;

    filter: blur(8px);

    animation: beamScan 3s infinite linear;

}



@keyframes beamScan {

    0% { transform: translateY(0); opacity: 0; }

    50% { opacity: 0.8; }

    100% { transform: translateY(-350px); opacity: 0; }

}



/* 3. THE AGENT INFO CARD (Floating Glass) */

.nexus-agent-card {

    background: rgba(5, 10, 15, 0.7);

    backdrop-filter: blur(12px);

    -webkit-backdrop-filter: blur(12px);

    border: 1px solid rgba(255,255,255,0.2);

    padding: 15px 25px;

    border-radius: 8px;

    text-align: center;

    z-index: 10;

    margin-bottom: 25px;

    box-shadow: 0 15px 30px rgba(0,0,0,0.8);

    transition: 0.3s;

}



.nexus-name {

    font-family: 'Orbitron', sans-serif;

    font-weight: 900;

    font-size: 18px;

    color: white;

    letter-spacing: 2px;

    margin-bottom: 5px;

}



.nexus-score {

    font-family: 'Rajdhani', sans-serif;

    font-weight: 900;

    font-size: 26px;

}



.nexus-score span { font-size: 12px; opacity: 0.7; }



/* 4. THE AVATAR (Crown/Medal) */

.nexus-holo-avatar {

    font-size: 60px;

    margin-bottom: 10px;

    z-index: 10;

    filter: drop-shadow(0 15px 20px rgba(0,0,0,0.9));

}



/* ðŸ‘‘ SPECIFIC TIER COLOR SETTINGS ðŸ‘‘ */



/* GOLD (Top 1) */

.gold-tier { z-index: 3; transform: translateZ(50px); /* Brings Top 1 closer in 3D space */ }

.gold-tier .nexus-energy-core { height: 280px; color: #ffd700; box-shadow: 0 0 50px rgba(255, 215, 0, 0.4); }

.gold-tier .nexus-projector-base { color: #ffd700; border-color: #ffd700; }

.gold-tier .nexus-score { color: #ffd700; text-shadow: 0 0 15px #ffd700; }

.god-card { border: 2px solid #ffd700; background: rgba(30, 20, 0, 0.8); }

.god-float { animation: godFloat 3s ease-in-out infinite; font-size: 85px; filter: drop-shadow(0 0 30px #ffd700); }



/* SILVER (Top 2) */

.silver-tier { z-index: 2; }

.silver-tier .nexus-energy-core { height: 200px; color: #00e5ff; }

.silver-tier .nexus-projector-base { color: #00e5ff; border-color: #00e5ff; }

.silver-tier .nexus-score { color: #00e5ff; text-shadow: 0 0 10px #00e5ff; }

.silver-tier .nexus-agent-card { border-bottom: 3px solid #00e5ff; }



/* BRONZE (Top 3) */

.bronze-tier { z-index: 1; }

.bronze-tier .nexus-energy-core { height: 140px; color: #ff6600; }

.bronze-tier .nexus-projector-base { color: #ff6600; border-color: #ff6600; }

.bronze-tier .nexus-score { color: #ff6600; text-shadow: 0 0 10px #ff6600; }

.bronze-tier .nexus-agent-card { border-bottom: 3px solid #ff6600; }



/* Animation for the God Crown */

@keyframes godFloat {

    0%, 100% { transform: translateY(0); }

    50% { transform: translateY(-25px) scale(1.15); }

}



/* =========================================

   ðŸ“‹ THE RUNNER-UP AGENT DOSSIER LIST

   ========================================= */

.nexus-runner-up-list {

    width: 90%;

    max-width: 900px;

    background: rgba(5, 10, 15, 0.8);

    border: 1px solid #223;

    border-radius: 12px;

    padding: 25px;

    margin-top: 30px;

    box-shadow: 0 15px 40px rgba(0,0,0,0.9);

}



.nexus-list-title {

    color: #00e5ff;

    font-family: 'Orbitron';

    font-size: 16px;

    letter-spacing: 3px;

    border-bottom: 2px dashed #334;

    padding-bottom: 15px;

    margin-top: 0;

    margin-bottom: 20px;

    text-align: left;

}



.nexus-list-row {

    display: flex;

    justify-content: space-between;

    align-items: center;

    padding: 18px 25px;

    background: rgba(255, 255, 255, 0.02);

    margin-bottom: 10px;

    border-radius: 6px;

    border-left: 4px solid #445;

    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);

}



.nexus-list-row:hover {

    background: linear-gradient(90deg, rgba(0, 229, 255, 0.15), transparent);

    border-left-color: #00e5ff;

    transform: scale(1.02) translateX(15px);

    box-shadow: 0 5px 20px rgba(0, 229, 255, 0.2);

}



.nexus-row-rank {

    font-family: 'Orbitron';

    font-size: 26px;

    color: #556;

    font-weight: bold;

    width: 60px;

    transition: 0.3s;

}

.nexus-list-row:hover .nexus-row-rank { color: #00e5ff; text-shadow: 0 0 10px #00e5ff; }



.nexus-row-name {

    font-family: 'Rajdhani';

    font-size: 22px;

    color: white;

    font-weight: bold;

    flex-grow: 1;

    letter-spacing: 2px;

}



.nexus-row-score {

    font-family: 'Orbitron';

    font-size: 22px;

    color: #ffd700;

    font-weight: bold;

}



/* =========================================

   ðŸ‘ï¸â€ðŸ—¨ï¸ N.E.X.U.S. LIVE TELEMETRY & SPY GRID

   ========================================= */



#spy-grid-container {

    display: grid;

    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));

    gap: 25px;

    padding: 20px;

    align-items: start;

}



/* 1. THE MAIN TELEMETRY CARD */

.tel-card {

    background: linear-gradient(180deg, rgba(10, 15, 25, 0.95) 0%, rgba(2, 5, 10, 0.95) 100%);

    border: 1px solid #223;

    border-top: 4px solid var(--card-theme, #00e5ff);

    border-radius: 8px;

    position: relative;

    backdrop-filter: blur(10px);

    box-shadow: 0 15px 35px rgba(0,0,0,0.8), inset 0 0 20px rgba(0,0,0,0.5);

    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);

    display: flex;

    flex-direction: column;

}



.tel-card:hover {

    transform: translateY(-5px);

    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.9), 0 0 20px var(--card-theme-glow);

    border-color: var(--card-theme, #00e5ff);

}



/* Header Plate */

.tel-header {

    display: flex; justify-content: space-between; align-items: center;

    padding: 12px 15px;

    background: rgba(255,255,255,0.02);

    border-bottom: 1px solid rgba(255,255,255,0.05);

}



.tel-agent-info { display: flex; align-items: center; gap: 12px; }

.tel-avatar { width: 35px; height: 35px; border-radius: 50%; border: 2px solid var(--card-theme); box-shadow: 0 0 10px var(--card-theme-glow); }

.tel-name { font-family: 'Orbitron'; font-size: 16px; font-weight: bold; color: #fff; margin: 0; letter-spacing: 1px;}

.tel-status { font-family: 'Rajdhani'; font-size: 10px; font-weight: 900; color: var(--card-theme); letter-spacing: 2px; text-transform: uppercase; }



/* 2. THE BLACK BOX (Canvas Container for Graph) */

.tel-graph-container {

    width: 100%;

    height: 70px;

    background: #010204;

    position: relative;

    border-bottom: 1px solid #112;

    overflow: hidden;

}



/* CRT Scanline over the Graph */

.tel-graph-container::after {

    content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 229, 255, 0.05) 3px, rgba(0, 229, 255, 0.05) 4px);

    pointer-events: none;

}



/* Gridlines inside the graph */

.tel-graph-grid {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background-image: 

        linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),

        linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);

    background-size: 20px 20px;

    pointer-events: none;

}



/* 3. LIVE STATS STRIP */

.tel-stats-strip {

    display: flex; justify-content: space-between;

    padding: 10px 15px;

    background: #05080f;

    border-bottom: 1px dashed #223;

}



.tel-stat-block { display: flex; flex-direction: column; align-items: center; width: 33%; }

.tel-stat-label { font-family: 'Orbitron'; font-size: 9px; color: #667; margin-bottom: 2px; }

.tel-stat-val { font-family: 'Rajdhani'; font-size: 18px; font-weight: 900; color: #fff; }



/* 4. THE TACTICAL COMMAND BUTTONS (TEACHER INTERVENTION) */

.tel-action-bar {

    display: flex; justify-content: space-between; gap: 8px;

    padding: 15px;

    background: rgba(0,0,0,0.4);

}



.tel-cmd-btn {

    flex: 1;

    background: rgba(255,255,255,0.03);

    border: 1px solid #334;

    color: #889;

    padding: 8px 0;

    font-size: 14px;

    cursor: pointer;

    /* Sci-Fi Angular Corners (The God-Tier Look) */

    clip-path: polygon(8px 0, 100% 0, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0 100%, 0 8px);

    transition: all 0.2s ease-in-out;

    display: flex; justify-content: center; align-items: center; gap: 5px;

    font-family: 'Orbitron'; font-weight: bold;

}



/* Dynamic Button Hovers */

.cmd-freeze:hover { background: rgba(0, 229, 255, 0.1); border-color: #00e5ff; color: #00e5ff; box-shadow: inset 0 0 10px #00e5ff; }

.cmd-supply:hover { background: rgba(255, 215, 0, 0.1); border-color: #ffd700; color: #ffd700; box-shadow: inset 0 0 10px #ffd700; }

.cmd-dossier:hover { background: rgba(0, 255, 65, 0.1); border-color: #00ff41; color: #00ff41; box-shadow: inset 0 0 10px #00ff41; }



.tel-cmd-btn:active { transform: scale(0.95); }



/* Tiny Tooltip text for buttons */

.cmd-icon { font-size: 16px; }

.cmd-text { font-size: 9px; letter-spacing: 1px; }



/* 5. INPUT SENSOR LOG */

.tel-footer {

    padding: 8px 15px;

    background: #020305;

    font-family: 'Courier New', monospace;

    font-size: 11px;

    color: #556;

    display: flex; justify-content: space-between;

}

.tel-footer span { color: #fff; font-weight: bold; }



/* =========================================

   ðŸ‘ï¸â€ðŸ—¨ï¸ N.E.X.U.S. LIVE TELEMETRY MATRIX 

   ========================================= */



#spy-grid-container {

    display: grid !important;

    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)) !important;

    gap: 25px !important;

    padding: 20px !important;

    align-items: start;

}



/* 1. THE MAIN TELEMETRY CARD */

.tel-card {

    background: linear-gradient(180deg, rgba(10, 15, 25, 0.95) 0%, rgba(2, 5, 10, 0.95) 100%);

    border: 1px solid #223;

    border-top: 4px solid var(--card-theme, #00e5ff);

    border-radius: 8px;

    position: relative;

    backdrop-filter: blur(10px);

    box-shadow: 0 15px 35px rgba(0,0,0,0.8), inset 0 0 20px rgba(0,0,0,0.5);

    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);

    display: flex;

    flex-direction: column;

}



.tel-card:hover {

    transform: translateY(-5px);

    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.9), 0 0 20px var(--card-theme-glow);

    border-color: var(--card-theme, #00e5ff);

}



/* Glowing Top Accent */

.tel-card::before {

    content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 4px;

    background: var(--card-theme, #00e5ff);

    box-shadow: 0 0 15px var(--card-theme, #00e5ff);

}



/* Header Plate */

.tel-header {

    display: flex; justify-content: space-between; align-items: center;

    padding: 12px 15px;

    background: rgba(255,255,255,0.02);

    border-bottom: 1px solid rgba(255,255,255,0.05);

}



.tel-agent-info { display: flex; align-items: center; gap: 12px; }

.tel-avatar { width: 35px; height: 35px; border-radius: 50%; border: 2px solid var(--card-theme); box-shadow: 0 0 10px var(--card-theme-glow); }

.tel-name { font-family: 'Orbitron'; font-size: 16px; font-weight: bold; color: #fff; margin: 0; letter-spacing: 1px;}

.tel-status { font-family: 'Rajdhani'; font-size: 10px; font-weight: 900; color: var(--card-theme); letter-spacing: 2px; text-transform: uppercase; }



/* 2. THE BLACK BOX (Canvas Container for Custom Graph) */

.tel-graph-container {

    width: 100%;

    height: 70px;

    background: #010204;

    position: relative;

    border-bottom: 1px solid #112;

    overflow: hidden;

}



/* CRT Scanline over the Graph */

.tel-graph-container::after {

    content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 229, 255, 0.05) 3px, rgba(0, 229, 255, 0.05) 4px);

    pointer-events: none;

}



/* Gridlines inside the graph */

.tel-graph-grid {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background-image: 

        linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),

        linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);

    background-size: 20px 20px;

    pointer-events: none;

}



/* 3. LIVE STATS STRIP */

.tel-stats-strip {

    display: flex; justify-content: space-between;

    padding: 10px 15px;

    background: #05080f;

    border-bottom: 1px dashed #223;

}



.tel-stat-block { display: flex; flex-direction: column; align-items: center; width: 33%; }

.tel-stat-label { font-family: 'Orbitron'; font-size: 9px; color: #667; margin-bottom: 2px; }

.tel-stat-val { font-family: 'Rajdhani'; font-size: 18px; font-weight: 900; color: #fff; }



.tel-combo-pulse { animation: hypePulse 0.5s infinite alternate; }

@keyframes hypePulse {

    from { text-shadow: 0 0 10px #ffd700; transform: scale(1); }

    to { text-shadow: 0 0 20px #ff0055; transform: scale(1.1); color: #ff0055; }

}



/* 4. ðŸ”¥ THE GOD-TIER TACTICAL COMMAND BUTTONS ðŸ”¥ */

.tel-action-bar {

    display: flex; justify-content: space-between; gap: 8px;

    padding: 15px;

    background: rgba(0,0,0,0.4);

}



.tel-cmd-btn {

    position: relative;

    flex: 1;

    background: linear-gradient(180deg, rgba(25, 30, 40, 0.8), rgba(5, 10, 15, 0.9));

    border: 1px solid #334;

    color: #889;

    padding: 8px 0;

    font-size: 14px;

    cursor: pointer;

    /* Angled Sci-Fi Corners */

    clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);

    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);

    display: flex; justify-content: center; align-items: center; gap: 5px;

    font-family: 'Orbitron'; font-weight: bold;

    overflow: hidden;

}



/* Light Sweep Hover Effect */

.tel-cmd-btn::before {

    content: ""; position: absolute; top: 0; left: -100%; width: 50%; height: 100%;

    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);

    transition: 0.5s;

}

.tel-cmd-btn:hover::before { left: 100%; }



/* Dynamic Button Hovers */

.cmd-freeze:hover { border-color: #00e5ff; color: #00e5ff; box-shadow: 0 0 15px rgba(0, 229, 255, 0.4), inset 0 0 10px rgba(0, 229, 255, 0.2); }

.cmd-supply:hover { border-color: #ffd700; color: #ffd700; box-shadow: 0 0 15px rgba(255, 215, 0, 0.4), inset 0 0 10px rgba(255, 215, 0, 0.2); }

.cmd-dossier:hover { border-color: #00ff41; color: #00ff41; box-shadow: 0 0 15px rgba(0, 255, 65, 0.4), inset 0 0 10px rgba(0, 255, 65, 0.2); }



.tel-cmd-btn:active { transform: scale(0.9); }



.cmd-icon { font-size: 16px; }

.cmd-text { font-size: 9px; letter-spacing: 1px; }



/* 5. INPUT SENSOR LOG */

.tel-footer {

    padding: 8px 15px;

    background: #020305;

    font-family: 'Courier New', monospace;

    font-size: 11px;

    color: #556;

    display: flex; justify-content: space-between;

}

.tel-footer span { color: #fff; font-weight: bold; }



/* --- THE FIX FOR CUT-OFF SCREENS --- */



/* Ensures the viewport itself doesn't scroll, forcing children to handle it */

.dashboard-viewport {

    flex-grow: 1;

    display: flex;

    flex-direction: column;

    padding: 20px 30px 10px 30px; /* Reduced bottom padding */

    overflow: hidden !important; 

    height: 100%;

}



/* Make sure active tabs take exactly full height and allow internal scrolling */

.dash-view:not(.hidden) {

    display: flex !important;

    flex-direction: column;

    height: 100%;

    overflow: hidden; 

}



/* Responsive Podium Layout */

.nexus-podium-container {

    display: flex;

    justify-content: center;

    align-items: flex-end;

    gap: 50px;

    perspective: 1200px;

    transform-style: preserve-3d;

    padding-bottom: 30px; /* Space for the glowing bases */

}



/* Resize Pillars for smaller laptops */

.nexus-holo-pillar { width: 120px; }

.nexus-projector-base { width: 130px; height: 35px; bottom: -15px; }



/* Runner up list container fix */

.nexus-runner-up-list {

    width: 100%;

    max-width: 900px;

    background: transparent; /* Cleaned up background to blend */

    padding: 0 15px;

}



/* Custom Scrollbar specifically for the teacher dashboard lists */

.dash-view ::-webkit-scrollbar { width: 8px; }

.dash-view ::-webkit-scrollbar-track { background: rgba(0,0,0,0.5); border-radius: 4px; }

.dash-view ::-webkit-scrollbar-thumb { background: #00e5ff; border-radius: 4px; }

.dash-view ::-webkit-scrollbar-thumb:hover { background: #ffd700; }



/* =========================================

   ðŸŽ“ THE N.E.X.U.S. HOLODECK (CLASSROOM MODE)

   ========================================= */



/* 1. VR Grid Background (Hidden by default, shown in class mode) */

#vr-grid-bg {

    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;

    background-color: #010409;

    perspective: 1000px;

    z-index: 0;

    display: none;

    overflow: hidden;

}



body.classroom-mode #vr-grid-bg { display: block; }

body.classroom-mode #bgCanvas { opacity: 0; } /* Hide the outer space background */



/* The Moving 3D Floor */

#vr-grid-bg::after {

    content: ""; position: absolute;

    bottom: -50%; left: -50%; width: 200%; height: 200%;

    background-image: 

        linear-gradient(rgba(0, 229, 255, 0.4) 1px, transparent 1px),

        linear-gradient(90deg, rgba(0, 229, 255, 0.4) 1px, transparent 1px);

    background-size: 60px 60px;

    transform: rotateX(75deg);

    transform-origin: center top;

    animation: holodeckMove 3s linear infinite;

    box-shadow: inset 0 0 100px #010409;

}



@keyframes holodeckMove {

    0% { transform: rotateX(75deg) translateY(0); }

    100% { transform: rotateX(75deg) translateY(60px); }

}



/* 2. THE PANOPTICON ALERT (When Teacher is watching) */

#panopticon-alert {

    position: fixed; top: 20%; left: 50%; transform: translate(-50%, -50%);

    display: flex; flex-direction: column; align-items: center;

    pointer-events: none; z-index: 9999;

    opacity: 0; transition: opacity 0.3s ease;

}



#panopticon-alert.active {

    opacity: 1;

    animation: alertShake 0.5s infinite alternate;

}



.cyber-eye {

    font-size: 50px; filter: drop-shadow(0 0 20px #ff0055);

    animation: eyeScan 4s infinite ease-in-out;

}



.alert-text {

    font-family: 'Orbitron'; color: #ff0055; font-size: 24px; font-weight: 900;

    letter-spacing: 5px; background: rgba(0,0,0,0.8); padding: 5px 20px;

    border: 1px dashed #ff0055; margin-top: 10px;

    text-shadow: 0 0 15px #ff0055;

}



@keyframes eyeScan {

    0%, 100% { transform: translateX(-30px) scaleX(1); }

    50% { transform: translateX(30px) scaleX(0.8); }

}

@keyframes alertShake {

    0% { transform: translate(-50%, -50%) translateY(0); box-shadow: 0 0 50px rgba(255,0,85,0); }

    100% { transform: translate(-50%, -50%) translateY(5px); box-shadow: 0 0 100px rgba(255,0,85,0.2); }

}



/* 3. CLASSROOM HUD OVERRIDES */

/* Hide Coins and Maximize Timer/Accuracy Focus */

body.classroom-mode .right-visor .visor-data:nth-child(2) {

    display: none; /* Hides the coins */

}

body.classroom-mode .center-visor .label { color: #00e5ff !important; }

body.classroom-mode .center-visor .value { color: #fff !important; text-shadow: 0 0 15px #00e5ff; font-size: 40px; }



/* =========================================

   ðŸ›¡ï¸ CLASSROOM STUDENT HUD FAILSAFE

   ========================================= */



/* In Classroom mode, force the HTML input box to be visible and styled nicely

   just in case the Canvas Holo-Input fails to draw */

body.classroom-mode #input-container {

    opacity: 1 !important;

    transform: scale(1) translateX(-50%) !important;

    bottom: 30px !important;

}



body.classroom-mode #player-input {

    background: rgba(0, 229, 255, 0.1) !important;

    border: 2px solid #00e5ff !important;

    box-shadow: 0 0 20px rgba(0, 229, 255, 0.4) !important;

}



body.classroom-mode #player-input:focus {

    background: rgba(0, 229, 255, 0.2) !important;

    border-color: #fff !important;

}



/* Hide Coins in Classroom Mode */

body.classroom-mode .right-visor .visor-data:nth-child(2) {

    display: none !important;

}



/* Emphasize Timer */

body.classroom-mode .center-visor {

    border-bottom: 3px solid #00e5ff;

    box-shadow: 0 10px 30px rgba(0, 229, 255, 0.2);

}



/* ðŸš¨ THE IN-COMBAT CLEAN SCREEN PROTOCOL ðŸš¨ */

body.in-combat .menu-actions, 

body.in-combat .modal-actions, 

body.in-combat #start-modal,

body.in-combat #teacher-dashboard,

body.in-combat #guest-option {

    display: none !important;

    opacity: 0 !important;

    pointer-events: none !important;

    visibility: hidden !important;

}



/* =========================================

   ðŸš¨ TEACHER DASHBOARD ABSOLUTE LOCK (BUG FIX)

   ========================================= */



/* Piliting punuin ang buong screen, walang labis, walang kulang */

#teacher-dashboard {

    position: fixed !important;

    top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important;

    width: 100vw !important;

    height: 100vh !important;

    overflow: hidden !important; /* BAWAL MAG-SCROLL ANG BUONG SCREEN */

}



/* Header stays exactly at the top */

.dashboard-header {

    height: 80px;

    flex-shrink: 0;

}



/* Viewport takes exactly the remaining space below the header */

.dashboard-viewport {

    height: calc(100vh - 80px) !important;

    flex-grow: 1;

    display: flex;

    flex-direction: column;

    padding: 20px !important;

    overflow: hidden !important;

}



/* Tabs stay fixed at the top of the viewport */

.dash-tabs {

    flex-shrink: 0;

    margin-bottom: 20px;

}



/* The actual views (Roster, Spy Grid, Reports) */

.dash-view:not(.hidden) {

    display: flex !important;

    flex-direction: column;

    flex-grow: 1;

    height: 100%;

    overflow: hidden !important; /* Papasa natin ang scrolling sa mga container sa loob */

}



/* Fix Spy Grid Scrolling */

#spy-grid-container {

    overflow-y: auto !important;

    height: 100%;

    padding-bottom: 50px;

}



/* Fix Data Reports Scrolling */

#view-reports {

    display: flex;

    flex-direction: column;

    height: 100%;

}



/* The container that holds the table */

#view-reports > div:nth-child(2) {

    flex-grow: 1;

    overflow-y: auto !important;

    border-radius: 8px;

    margin-bottom: 20px;

}



/* Make Table Header Sticky */

#view-reports table th {

    position: sticky;

    top: 0;

    background: #0a0f1a;

    z-index: 100;

    box-shadow: 0 5px 10px rgba(0,0,0,0.5);

}

.pangalan-ng-container-mo {
    border: 5px solid red !important;
    background-color: rgba(255, 0, 0, 0.1) !important; /* Para makita ang loob */
}

/* =========================================
   ðŸš€ DASHBOARD ANTI-GRAVITY FIX (TOP ALIGN)
   ========================================= */

/* 1. Force the active tab to pull everything UP */
.dash-view.force-top-align:not(.hidden) {
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important; /* ðŸŸ¢ ANG MAGIC HATAK PATAAS! */
    align-items: stretch !important;
    flex-grow: 1 !important;
    height: 100% !important;
    margin-top: 0 !important;
    padding-top: 0 !important;
}

/* 2. Stats Header (Locks directly under the tabs) */
.stats-header-fixed {
    display: flex !important;
    justify-content: space-between !important;
    align-items: stretch !important;
    margin-bottom: 20px !important;
    flex-shrink: 0 !important; /* Wag liliit, wag lalaki */
}

/* 3. Table Wrapper (Fills remaining bottom space & handles scrolling) */
.table-scroll-container {
    flex-grow: 1 !important; 
    min-height: 0 !important; /* CRITICAL: Allows flex child to scroll */
    overflow-y: auto !important;
    overflow-x: hidden !important;
    background: rgba(0,0,0,0.6) !important;
    border: 1px solid #334 !important;
    border-radius: 8px !important;
    display: block !important;
}

/* 4. Spy Grid Specific Alignment */
.grid-layout-start {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)) !important;
    gap: 15px !important;
    align-content: flex-start !important; /* ðŸŸ¢ Pipigilan ang cards na bumagsak sa baba */
    flex-grow: 1 !important;
    overflow-y: auto !important;
    min-height: 0 !important;
    padding: 10px 5px 20px 0 !important;
}

/* Sleek Cyberpunk Scrollbar inside the containers */
.custom-scrollbar::-webkit-scrollbar { width: 6px; }
.custom-scrollbar::-webkit-scrollbar-track { background: rgba(0,0,0,0.4); border-radius: 4px; }
.custom-scrollbar::-webkit-scrollbar-thumb { background: #00e5ff; border-radius: 4px; }
.custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #ffd700; }

/* =========================================
   ðŸ”˜ FLOATING UI TOGGLES (COMMS & JESSBOT)
   ========================================= */

/* ðŸŸ¢ NETWORK (LEFT SIDE) */
#comms-toggle-btn {
    position: fixed;
    bottom: 30px;
    left: 30px;  /* NAKA-LOCK SA KALIWA */
    z-index: 99999;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: transform 0.3s ease, filter 0.3s;
}
#comms-toggle-btn:hover { transform: scale(1.1) translateY(-5px); filter: brightness(1.3); }

.comms-orb {
    width: 60px;
    height: 60px;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
}
.green-core {
    width: 30px;
    height: 30px;
    background: #00ff41;
    border-radius: 50%;
    box-shadow: 0 0 20px #00ff41, inset 0 0 10px #fff;
    z-index: 2;
}
.green-ring {
    position: absolute;
    border-radius: 50%;
    border: 2px solid rgba(0, 255, 65, 0.5);
    animation: radarSpin 4s linear infinite;
}

/* ðŸŸ¡ JESSBOT (RIGHT SIDE) */
#jessbot-toggle-btn {
    position: fixed;
    bottom: 30px;
    right: 30px; /* NAKA-LOCK SA KANAN */
    z-index: 99999;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: transform 0.3s ease, filter 0.3s;
}
#jessbot-toggle-btn:hover { transform: scale(1.1) translateY(-5px); filter: brightness(1.3); }

/* =========================================
   ðŸŒŒ N.E.X.U.S. HOLOGRAPHIC REACTOR ORBS
   ========================================= */

/* --- Wrapper & Placement --- */
.cyber-orb-wrapper {
    position: fixed;
    bottom: 40px;
    z-index: 99999;
    cursor: pointer;
    /* Tinanggal ang flex-direction column para pure circle */
    animation: levitate 4s ease-in-out infinite;
    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.cyber-orb-wrapper:hover {
    transform: scale(1.15) translateY(-5px); /* Binawasan ang Y axis jump */
}

.left-orb { left: 40px; }
.right-orb { right: 40px; }

/* Interactive Hover Scale */

/* --- The Main Orb Container --- */
.cyber-orb {
    width: 75px;
    height: 75px;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
}

/* --- The Glowing Core (Glassmorphism) --- */
.orb-core {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(5px);
    z-index: 10;
    transition: all 0.3s ease;
}

.orb-icon {
    font-size: 20px;
    text-shadow: 0 0 10px currentColor;
    z-index: 11;
}

/* --- Rotating Sci-Fi Rings --- */
.orb-ring {
    position: absolute;
    border-radius: 50%;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
}

/* Outer Ring (Slow, Dashed) */
.outer-ring {
    width: 100%; height: 100%;
    border: 2px dashed;
    opacity: 0.5;
    animation: spinClockwise 12s linear infinite;
}

/* Middle Ring (Medium, Solid with gap) */
.middle-ring {
    width: 80%; height: 80%;
    border: 2px solid;
    border-bottom-color: transparent !important;
    border-top-color: transparent !important;
    opacity: 0.8;
    animation: spinCounter 8s linear infinite;
}

/* Inner Ring (Fast, Dotted) */
.inner-ring {
    width: 60%; height: 60%;
    border: 3px dotted;
    opacity: 0.9;
    animation: spinClockwise 5s linear infinite;
}

/* --- Hover Overdrive: Rings Spin Faster & Core Glows Brighter --- */
.cyber-orb-wrapper:hover .outer-ring { animation-duration: 4s; opacity: 1; }
.cyber-orb-wrapper:hover .middle-ring { animation-duration: 2s; opacity: 1; }
.cyber-orb-wrapper:hover .inner-ring { animation-duration: 1s; opacity: 1; }
.cyber-orb-wrapper:hover .orb-core { background: rgba(255, 255, 255, 0.1); }

/* --- THEMES (Colors & Glows) --- */

/* GREEN THEME (Network) */
.green-theme .orb-core { box-shadow: inset 0 0 15px #00ff41, 0 0 20px rgba(0, 255, 65, 0.4); }
.cyber-orb-wrapper:hover .green-theme .orb-core { box-shadow: inset 0 0 25px #00ff41, 0 0 40px #00ff41; }
.green-theme .orb-ring { border-color: #00ff41; box-shadow: 0 0 10px rgba(0, 255, 65, 0.2); }

/* GOLD THEME (JessBot) */
.gold-theme .orb-core { box-shadow: inset 0 0 15px #ffd700, 0 0 20px rgba(255, 215, 0, 0.4); }
.cyber-orb-wrapper:hover .gold-theme .orb-core { box-shadow: inset 0 0 25px #ffd700, 0 0 40px #ffd700; }
.gold-theme .orb-ring { border-color: #ffd700; box-shadow: 0 0 10px rgba(255, 215, 0, 0.2); }

/* --- Labels --- */
.orb-label {
    margin-top: 15px;
    font-family: 'Orbitron', sans-serif;
    font-size: 11px;
    font-weight: 900;
    letter-spacing: 2px;
    background: rgba(0, 5, 10, 0.8);
    padding: 4px 12px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #fff;
    transition: all 0.3s ease;
}

.left-orb .orb-label { border-bottom: 2px solid #00ff41; text-shadow: 0 0 5px #00ff41; }
.right-orb .orb-label { border-bottom: 2px solid #ffd700; text-shadow: 0 0 5px #ffd700; }

.cyber-orb-wrapper:hover .orb-label {
    background: #fff;
    color: #000;
    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.4);
}

/* --- Alert Ping (For Invites) --- */
.orb-alert-ping {
    position: absolute;
    top: -5px; right: -5px;
    width: 20px; height: 20px;
    background: #ff0055;
    border-radius: 50%;
    box-shadow: 0 0 15px #ff0055;
    animation: alertPulse 1s infinite;
    z-index: 20;
    border: 2px solid #000;
}

/* --- ANIMATION KEYFRAMES --- */
@keyframes levitate {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
}

@keyframes spinClockwise {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
}

@keyframes spinCounter {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(-360deg); }
}

@keyframes alertPulse {
    0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 0, 85, 0.7); }
    70% { transform: scale(1.1); box-shadow: 0 0 0 15px rgba(255, 0, 85, 0); }
    100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 0, 85, 0); }
}

/* =========================================
   ðŸ‘¨â€ðŸ« MASTER TEACHER DASHBOARD LAYOUT (FIXED)
   ========================================= */

/* 1. The Main Container (Locked to Screen) */
body.dashboard-active #teacher-dashboard:not(.hidden) {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
}

#teacher-dashboard {
    position: fixed !important;
    top: 0 !important; 
    left: 0 !important; 
    width: 100vw !important;
    height: 100vh !important;
    background: #05070a !important;
    z-index: 999999 !important;
    flex-direction: column !important;
    justify-content: flex-start !important;
    align-items: stretch !important;
    overflow: hidden !important; /* ðŸš¨ BAWAL MAG-SCROLL ANG BUONG SCREEN */
    margin: 0 !important;
    padding: 0 !important;
}

/* 2. The Header (Fixed Height, Stays at Top) */
.dashboard-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 15px 30px !important;
    background: rgba(0, 20, 40, 0.9) !important;
    border-bottom: 2px solid #00e5ff !important;
    box-shadow: 0 5px 20px rgba(0, 229, 255, 0.2) !important;
    flex-shrink: 0 !important; /* ðŸš¨ WAG LILIIT */
    height: 80px !important;
    box-sizing: border-box !important;
}

/* 3. The Viewport (Takes all remaining space below header) */
.dashboard-viewport {
    display: flex !important;
    flex-direction: column !important;
    flex-grow: 1 !important; /* ðŸš¨ SAKUPIN ANG NATITIRANG SPACE */
    padding: 20px 30px !important;
    overflow: hidden !important; /* Ang loob lang ang mag-i-scroll, hindi ito */
    height: calc(100vh - 80px) !important;
    box-sizing: border-box !important;
}

/* 4. Tabs Container (Stays at the top of the viewport) */
.dash-tabs {
    display: flex !important;
    gap: 10px !important;
    border-bottom: 1px solid #333 !important;
    margin: 0 0 20px 0 !important;
    padding: 0 0 10px 0 !important;
    flex-shrink: 0 !important; /* ðŸš¨ WAG MATUTULAK O MAIIPIT */
}

/* 5. The Active View Container (Scrollable Area) */
.dash-view {
    display: none !important; /* Tago by default */
}

.dash-view:not(.hidden) {
    display: flex !important;
    flex-direction: column !important;
    flex-grow: 1 !important;
    justify-content: flex-start !important;
    height: 100% !important;
    overflow-y: auto !important; /* ðŸŸ¢ ANG SECRET: Dito lang pwedeng mag-scroll! */
    overflow-x: hidden !important;
    padding-bottom: 20px !important;
}

/* =========================================
   ðŸ“Š SPECIFIC VIEW FIXES (TABLES & GRIDS)
   ========================================= */

/* Fix Data Reports Table Squishing */
#view-reports {
    padding: 0 !important;
}

#view-reports > div:first-child {
    /* The Stats Header (Class Avg, Accuracy, Export) */
    flex-shrink: 0 !important;
    margin-bottom: 15px !important;
}

#view-reports > div:last-child {
    /* The Table Wrapper */
    flex-grow: 1 !important;
    overflow-y: auto !important;
    min-height: 0 !important; /* ðŸŸ¢ CRITICAL: Payagang mag-scroll ang table imbes na lumagpas sa screen */
    border: 1px solid #333;
    border-radius: 8px;
    background: rgba(0,0,0,0.6);
}

#view-reports table {
    width: 100%;
    border-collapse: collapse;
}

#view-reports th {
    position: sticky;
    top: 0;
    background: #0a0f1a;
    z-index: 10;
    box-shadow: 0 5px 10px rgba(0,0,0,0.5);
}

/* Fix Spy Grid Alignment (Dikit sa taas) */
#spy-grid-container {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)) !important;
    gap: 20px !important;
    align-content: flex-start !important; /* ðŸŸ¢ Pushes items to top instead of spacing them out */
    padding-bottom: 20px !important;
}

/* Custom Scrollbar for Dashboard Views */
.dashboard-viewport ::-webkit-scrollbar { width: 8px; }
.dashboard-viewport ::-webkit-scrollbar-track { background: rgba(0,0,0,0.3); border-radius: 4px; }
.dashboard-viewport ::-webkit-scrollbar-thumb { background: #00e5ff; border-radius: 4px; }
.dashboard-viewport ::-webkit-scrollbar-thumb:hover { background: #ffd700; }

/* =========================================
   ðŸŽ¯ DASHBOARD CENTER GRAVITY OVERRIDE 
   ========================================= */

/* 1. Piliting ilagay sa GITNA (vertically) ang lahat ng views */
.dash-view:not(.hidden) {
    justify-content: center !important; 
}

/* 2. Gitna para sa mga Grids (Live Roster & Spy Cam) */
#spy-grid-container, #roster-grid {
    align-content: center !important; /* Vertical center */
    justify-content: center !important; /* Horizontal center */
    min-height: 100% !important; /* Para sakupin ang buong screen bago mag-gitna */
}

/* 3. Gitna para sa Podium */
#view-podium {
    justify-content: center !important;
}

/* 4. Gitna para sa Data Reports Table */
#view-reports {
    justify-content: center !important;
}

/* =========================================

   ðŸŽ“ THE N.E.X.U.S. HOLODECK (CLASSROOM MODE)

   ========================================= */



/* 1. VR Grid Background (Hidden by default, shown in class mode) */

#vr-grid-bg {

    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;

    background-color: #010409;

    perspective: 1000px;

    z-index: 0;

    display: none;

    overflow: hidden;

}



body.classroom-mode #vr-grid-bg { display: block; }

body.classroom-mode #bgCanvas { opacity: 0; } /* Hide the outer space background */



/* The Moving 3D Floor */

#vr-grid-bg::after {

    content: ""; position: absolute;

    bottom: -50%; left: -50%; width: 200%; height: 200%;

    background-image: 

        linear-gradient(rgba(0, 229, 255, 0.4) 1px, transparent 1px),

        linear-gradient(90deg, rgba(0, 229, 255, 0.4) 1px, transparent 1px);

    background-size: 60px 60px;

    transform: rotateX(75deg);

    transform-origin: center top;

    animation: holodeckMove 3s linear infinite;

    box-shadow: inset 0 0 100px #010409;

}



@keyframes holodeckMove {

    0% { transform: rotateX(75deg) translateY(0); }

    100% { transform: rotateX(75deg) translateY(60px); }

}



/* 2. THE PANOPTICON ALERT (When Teacher is watching) */

#panopticon-alert {

    position: fixed; top: 20%; left: 50%; transform: translate(-50%, -50%);

    display: flex; flex-direction: column; align-items: center;

    pointer-events: none; z-index: 9999;

    opacity: 0; transition: opacity 0.3s ease;

}



#panopticon-alert.active {

    opacity: 1;

    animation: alertShake 0.5s infinite alternate;

}



.cyber-eye {

    font-size: 50px; filter: drop-shadow(0 0 20px #ff0055);

    animation: eyeScan 4s infinite ease-in-out;

}



.alert-text {

    font-family: 'Orbitron'; color: #ff0055; font-size: 24px; font-weight: 900;

    letter-spacing: 5px; background: rgba(0,0,0,0.8); padding: 5px 20px;

    border: 1px dashed #ff0055; margin-top: 10px;

    text-shadow: 0 0 15px #ff0055;

}



@keyframes eyeScan {

    0%, 100% { transform: translateX(-30px) scaleX(1); }

    50% { transform: translateX(30px) scaleX(0.8); }

}

@keyframes alertShake {

    0% { transform: translate(-50%, -50%) translateY(0); box-shadow: 0 0 50px rgba(255,0,85,0); }

    100% { transform: translate(-50%, -50%) translateY(5px); box-shadow: 0 0 100px rgba(255,0,85,0.2); }

}



/* 3. CLASSROOM HUD OVERRIDES */

/* Hide Coins and Maximize Timer/Accuracy Focus */

body.classroom-mode .right-visor .visor-data:nth-child(2) {

    display: none; /* Hides the coins */

}

body.classroom-mode .center-visor .label { color: #00e5ff !important; }

body.classroom-mode .center-visor .value { color: #fff !important; text-shadow: 0 0 15px #00e5ff; font-size: 40px; }



/* =========================================

   ðŸ›¡ï¸ CLASSROOM STUDENT HUD FAILSAFE

   ========================================= */



/* In Classroom mode, force the HTML input box to be visible and styled nicely

   just in case the Canvas Holo-Input fails to draw */

body.classroom-mode #input-container {

    opacity: 1 !important;

    transform: scale(1) translateX(-50%) !important;

    bottom: 30px !important;

}



body.classroom-mode #player-input {

    background: rgba(0, 229, 255, 0.1) !important;

    border: 2px solid #00e5ff !important;

    box-shadow: 0 0 20px rgba(0, 229, 255, 0.4) !important;

}



body.classroom-mode #player-input:focus {

    background: rgba(0, 229, 255, 0.2) !important;

    border-color: #fff !important;

}



/* Hide Coins in Classroom Mode */

body.classroom-mode .right-visor .visor-data:nth-child(2) {

    display: none !important;

}



/* Emphasize Timer */

body.classroom-mode .center-visor {

    border-bottom: 3px solid #00e5ff;

    box-shadow: 0 10px 30px rgba(0, 229, 255, 0.2);

}



/* ðŸš¨ THE IN-COMBAT CLEAN SCREEN PROTOCOL ðŸš¨ */

body.in-combat .menu-actions, 

body.in-combat .modal-actions, 

body.in-combat #start-modal,

body.in-combat #teacher-dashboard,

body.in-combat #guest-option {

    display: none !important;

    opacity: 0 !important;

    pointer-events: none !important;

    visibility: hidden !important;

}



/* =========================================

   ðŸš¨ TEACHER DASHBOARD ABSOLUTE LOCK (BUG FIX)

   ========================================= */



/* Piliting punuin ang buong screen, walang labis, walang kulang */

#teacher-dashboard {

    position: fixed !important;

    top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important;

    width: 100vw !important;

    height: 100vh !important;

    overflow: hidden !important; /* BAWAL MAG-SCROLL ANG BUONG SCREEN */

}



/* Header stays exactly at the top */

.dashboard-header {

    height: 80px;

    flex-shrink: 0;

}



/* Viewport takes exactly the remaining space below the header */

.dashboard-viewport {

    height: calc(100vh - 80px) !important;

    flex-grow: 1;

    display: flex;

    flex-direction: column;

    padding: 20px !important;

    overflow: hidden !important;

}



/* Tabs stay fixed at the top of the viewport */

.dash-tabs {

    flex-shrink: 0;

    margin-bottom: 20px;

}



/* The actual views (Roster, Spy Grid, Reports) */

.dash-view:not(.hidden) {

    display: flex !important;

    flex-direction: column;

    flex-grow: 1;

    height: 100%;

    overflow: hidden !important; /* Papasa natin ang scrolling sa mga container sa loob */

}



/* Fix Spy Grid Scrolling */

#spy-grid-container {

    overflow-y: auto !important;

    height: 100%;

    padding-bottom: 50px;

}



/* Fix Data Reports Scrolling */

#view-reports {

    display: flex;

    flex-direction: column;

    height: 100%;

}



/* The container that holds the table */

#view-reports > div:nth-child(2) {

    flex-grow: 1;

    overflow-y: auto !important;

    border-radius: 8px;

    margin-bottom: 20px;

}



#view-reports th {
    position: sticky !important;
    top: 0 !important;
    background: #0a0f1a !important;
    z-index: 100 !important;
    border-bottom: 2px solid #00e5ff !important;
    box-shadow: 0 5px 10px rgba(0,0,0,0.5) !important;
}

.pangalan-ng-container-mo {
    border: 5px solid red !important;
    background-color: rgba(255, 0, 0, 0.1) !important; /* Para makita ang loob */
}

/* =========================================
   ðŸš€ DASHBOARD ANTI-GRAVITY FIX (TOP ALIGN)
   ========================================= */

/* 1. Force the active tab to pull everything UP */
.dash-view.force-top-align:not(.hidden) {
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important; /* ðŸŸ¢ ANG MAGIC HATAK PATAAS! */
    align-items: stretch !important;
    flex-grow: 1 !important;
    height: 100% !important;
    margin-top: 0 !important;
    padding-top: 0 !important;
}

/* 2. Stats Header (Locks directly under the tabs) */
.stats-header-fixed {
    display: flex !important;
    justify-content: space-between !important;
    align-items: stretch !important;
    margin-bottom: 20px !important;
    flex-shrink: 0 !important; /* Wag liliit, wag lalaki */
}

/* 3. Table Wrapper (Fills remaining bottom space & handles scrolling) */
.table-scroll-container {
    flex-grow: 1 !important; 
    min-height: 0 !important; /* CRITICAL: Allows flex child to scroll */
    overflow-y: auto !important;
    overflow-x: hidden !important;
    background: rgba(0,0,0,0.6) !important;
    border: 1px solid #334 !important;
    border-radius: 8px !important;
    display: block !important;
}

/* 4. Spy Grid Specific Alignment */
.grid-layout-start {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)) !important;
    gap: 15px !important;
    align-content: flex-start !important; /* ðŸŸ¢ Pipigilan ang cards na bumagsak sa baba */
    flex-grow: 1 !important;
    overflow-y: auto !important;
    min-height: 0 !important;
    padding: 10px 5px 20px 0 !important;
}

/* Sleek Cyberpunk Scrollbar inside the containers */
.custom-scrollbar::-webkit-scrollbar { width: 6px; }
.custom-scrollbar::-webkit-scrollbar-track { background: rgba(0,0,0,0.4); border-radius: 4px; }
.custom-scrollbar::-webkit-scrollbar-thumb { background: #00e5ff; border-radius: 4px; }
.custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #ffd700; }

/* =========================================
   ðŸš€ DASHBOARD: MAXIMUM EXPANSION PROTOCOL
   ========================================= */

/* 1. FORCE VIEWPORT TO LOCK HEIGHT */
.dashboard-viewport {
    height: calc(100vh - 80px) !important; 
    max-height: calc(100vh - 80px) !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
}

/* 2. FORCE ACTIVE TAB TO FILL ALL SPACE */
.dash-view:not(.hidden) {
    flex-grow: 1 !important;
    height: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important;
    overflow: hidden !important; /* Pipigilan ang pag-scroll sa labas */
    padding-bottom: 0 !important;
    margin-bottom: 0 !important;
}

/* 3. DATA REPORTS FULL SCREEN FIX */
#view-reports {
    padding: 10px 0 0 0 !important;
}
#view-reports > div:first-child {
    flex-shrink: 0 !important; /* Lock Class Avg Score Header */
}
#view-reports > div:last-child {
    flex-grow: 1 !important;
    height: 100% !important; /* ðŸŸ¢ Banat hanggang sahig! */
    overflow-y: auto !important; /* Dito lang pwede mag-scroll ang table */
    display: block !important;
    margin-bottom: 0 !important;
    border-bottom: none !important;
    border-radius: 8px 8px 0 0 !important; /* Flatten ang ilalim para lapat sa sahig */
}

/* 4. SPY GRID & LIVE ROSTER FULL SCREEN FIX */
#view-grid, #view-roster {
    padding: 10px 0 0 0 !important; 
}
#spy-grid-container, #roster-grid {
    flex-grow: 1 !important;
    height: 100% !important; /* ðŸŸ¢ Banat hanggang sahig! */
    overflow-y: auto !important; /* Dito mag-s-scroll ang mga camera/cards */
    align-content: flex-start !important; /* Dikitin ang cards sa itaas */
    padding: 0 5px 30px 5px !important;
    margin-bottom: 0 !important;
}

/* 5. MAKE THE TABLE HEADER STICKY (Laging nakikita kahit mag-scroll) */
#view-reports th {
    position: sticky !important;
    top: 0 !important;
    background: #0a0f1a !important;
    z-index: 100 !important;
    box-shadow: 0 5px 10px rgba(0,0,0,0.5) !important;
}

/* =========================================
   ðŸ“„ DATA REPORTS: WIDE LANDSCAPE MODE
   ========================================= */

/* 1. Center the whole view */
#view-reports {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important; /* ðŸŸ¢ GIGITNA ANG BUONG CONTENT */
    justify-content: flex-start !important;
    width: 100% !important;
    padding: 20px 0 0 0 !important;
}

/* 2. Stats Header (Class Avg, Accuracy, Export) - Gawing Wide */
#view-reports > div:first-child {
    width: 95% !important; /* ðŸŸ¢ Sakop ang halos buong lapad */
    max-width: 1400px !important;
    flex-shrink: 0 !important;
    margin-bottom: 20px !important;
}

/* 3. Table Container - The Landscape Canvas */
#view-reports > div:last-child {
    width: 95% !important; /* ðŸŸ¢ Parehas ng lapad sa header */
    max-width: 1400px !important;
    flex-grow: 1 !important; /* Banat pababa hanggang sahig */
    overflow-y: auto !important; 
    min-height: 0 !important; 
    background: rgba(5, 10, 15, 0.8) !important;
    border: 2px solid #334 !important;
    border-bottom: none !important; /* Lapat sa sahig */
    border-radius: 12px 12px 0 0 !important;
    box-shadow: 0 15px 40px rgba(0,0,0,0.8), inset 0 0 20px rgba(0, 229, 255, 0.05) !important;
}

/* 4. The Table Itself - Force Wide Columns */
#view-reports table {
    width: 100% !important;
    table-layout: fixed !important; /* ðŸŸ¢ ITO ANG MAGIC: Pantay-pantay ang lapad ng columns! */
    border-collapse: collapse !important;
}

/* 5. Sticky Header & Spacing */
#view-reports th {
    position: sticky !important;
    top: 0 !important;
    background: #0a0f1a !important;
    z-index: 100 !important;
    border-bottom: 3px solid #00e5ff !important; /* Makapal na border sa header */
    padding: 20px 10px !important; /* Maluwag na space */
    font-size: 13px !important;
    color: #00e5ff !important;
}

#view-reports td {
    padding: 22px 10px !important; /* Maluwag na rows para sa 3-5 students (Hindi siksik) */
    border-bottom: 1px solid rgba(0, 229, 255, 0.1) !important;
    vertical-align: middle !important;
}

/* 6. I-left align ang Agent Name, i-center ang iba */
#view-reports th:first-child, 
#view-reports td:first-child {
    text-align: left !important;
    padding-left: 30px !important;
    width: 25% !important; /* Mas malaking space para sa mahabang pangalan */
}

/* =========================================
   ðŸ‘¨â€ðŸ« CLEAN DASHBOARD ARCHITECTURE
   ========================================= */

.dashboard-master-layout {
    position: fixed !important;
    top: 0 !important; left: 0 !important; width: 100vw !important; height: 100vh !important;
    background: #05070a !important;
    z-index: 999999 !important;
    display: flex !important;
    flex-direction: column !important;
}

.dashboard-header {
    flex-shrink: 0;
    height: 80px;
    padding: 0 30px;
}

.dash-tabs {
    flex-shrink: 0;
    display: flex;
    gap: 15px;
    padding: 15px 30px 0 30px;
    border-bottom: 2px solid #223;
}

/* ðŸŸ¢ THE MAGIC CONTENT AREA */
.dashboard-main-content {
    flex-grow: 1; /* Kumakain ng lahat ng natitirang space */
    position: relative; /* Lock para sa absolute tabs */
    overflow: hidden;
    padding: 20px 30px;
}

/* ðŸŸ¢ ABSOLUTE TAB SYSTEM (IMPOSIBLENG MAG-OVERLAP) */
.dash-view {
    display: none !important; /* Patay lahat by default */
    width: 100%;
    height: 100%;
    flex-direction: column;
    animation: fadeInTab 0.3s ease;
}

.dash-view.active-view {
    display: flex !important; /* Bubuhayin lang ang may .active-view */
}

@keyframes fadeInTab {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* --- SPECIFIC TAB FIXES --- */

/* Spy Grid & Roster (Start at Top) */
#view-roster, #view-grid {
    overflow-y: auto;
}
#roster-grid, #spy-grid-container {
    align-content: flex-start !important; /* Dikit sa taas */
}

/* Podium (Center vertically) */
#view-podium {
    justify-content: flex-start;
    align-items: center;
}
.nexus-runner-up-list {
    width: 100%; max-width: 1000px;
    flex-grow: 1; overflow-y: auto;
}

/* Data Reports (Landscape & Full Screen) */
#view-reports {
    align-items: center;
}
.report-stats-header {
    width: 95%; max-width: 1400px;
    display: flex; justify-content: space-between; align-items: stretch;
    flex-shrink: 0; margin-bottom: 20px;
}
.stat-box { background: rgba(0,0,0,0.6); padding: 10px 20px; border-radius: 8px; display: flex; flex-direction: column; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
.stat-box-label { color:#888; font-size:11px; }
.stat-box-val { font-size:24px; font-family:'Orbitron'; font-weight:bold; }
.export-btn { margin: 0; border-color: #00e5ff; color: #00e5ff; padding: 0 30px; font-weight: bold; }

/* Table Full Stretch */
.report-table-wrapper {
    width: 95%; max-width: 1400px;
    flex-grow: 1; /* Stretch down to floor */
    overflow-y: auto;
    background: rgba(10, 15, 25, 0.9);
    border: 2px solid #334; border-bottom: none;
    border-radius: 12px 12px 0 0;
}
.report-table { width: 100%; table-layout: fixed; border-collapse: collapse; font-family: 'Rajdhani'; font-size: 16px; }
.report-table th { position: sticky; top: 0; background: #0a0f1a; color: #00e5ff; font-family: 'Orbitron'; font-size: 13px; padding: 20px 15px; border-bottom: 3px solid #00e5ff; z-index: 10; }
.report-table td { padding: 20px 15px; border-bottom: 1px solid #223; vertical-align: middle; }
.report-table th:first-child, .report-table td:first-child { text-align: left; padding-left: 30px; width: 30%; }

/* =========================================
   ðŸ† PURE CSS GRAND CEREMONIAL RANKINGS
   ========================================= */

/* --- 1. Background Environment --- */
#view-podium {
    background: radial-gradient(ellipse at bottom, #0a1128 0%, #010205 100%) !important;
}

.grand-orbits {
    position: absolute; top: 50%; left: 50%; width: 100%; height: 100%;
    transform: translate(-50%, -50%); pointer-events: none; z-index: 0;
    perspective: 1000px; display: flex; justify-content: center; align-items: center;
}

.g-orbit {
    position: absolute; border-radius: 50%;
    border: 1px solid rgba(0, 229, 255, 0.1);
    border-top: 2px solid rgba(0, 229, 255, 0.4);
    transform: rotateX(75deg);
    animation: grandSpin linear infinite;
}

.g-orbit-1 { width: 600px; height: 600px; animation-duration: 20s; }
.g-orbit-2 { width: 1000px; height: 1000px; border-color: rgba(255, 215, 0, 0.05); border-left: 2px solid rgba(255, 215, 0, 0.3); animation-duration: 30s; animation-direction: reverse; }
.g-orbit-3 { width: 1400px; height: 1400px; border-top: 2px solid rgba(255, 0, 85, 0.2); animation-duration: 40s; }

@keyframes grandSpin { 100% { transform: rotateX(75deg) rotateZ(360deg); } }

/* --- 2. Title --- */
.grand-leaderboard-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 32px; font-weight: 900; letter-spacing: 10px;
    color: #fff; text-shadow: 0 0 20px #00e5ff, 0 0 40px #00e5ff;
    margin-top: 40px; margin-bottom: 20px; z-index: 10;
}

/* --- 3. Main Container --- */
.grand-podium-container {
    position: relative; display: flex; justify-content: center; align-items: flex-end;
    gap: 80px; height: 450px; width: 100%; max-width: 1200px; z-index: 5;
    padding-bottom: 50px;
}

.grand-pillar {
    display: flex; flex-direction: column; align-items: center;
    position: relative; width: 250px; z-index: 2;
}

/* --- 4. HARDCODED CSS MEDALS (NO PNGs!) --- */
.css-medal {
    position: relative; display: flex; flex-direction: column; align-items: center;
    margin-bottom: 30px; animation: medalFloat 4s ease-in-out infinite;
}

/* The Ribbon */
.medal-ribbon {
    width: 30px; height: 60px;
    position: relative; z-index: 1;
    clip-path: polygon(0 0, 100% 0, 100% 100%, 50% 80%, 0 100%);
}

/* The Coin/Medal Body */
.medal-coin {
    width: 110px; height: 110px; border-radius: 50%;
    position: relative; z-index: 2; margin-top: -15px;
    display: flex; justify-content: center; align-items: center;
    font-size: 50px; /* For the Emoji Star/Crown */
    font-family: 'Segoe UI Emoji', sans-serif;
}

/* Inner Carving Details (Pseudo-element) */
.medal-coin::before {
    content: ""; position: absolute; top: 8px; left: 8px; right: 8px; bottom: 8px;
    border-radius: 50%; border: 2px dashed rgba(255,255,255,0.4); pointer-events: none;
}

@keyframes medalFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

/* GOLD MEDAL STYLING */
.gold-pillar .medal-ribbon { background: linear-gradient(to right, #b8860b, #ffd700, #b8860b); }
.gold-pillar .medal-coin {
    background: radial-gradient(circle at 30% 30%, #fffacd, #ffd700 40%, #b8860b 80%, #553300);
    border: 6px solid #ffea00;
    box-shadow: 0 10px 30px rgba(255, 215, 0, 0.6), inset 0 0 20px rgba(255, 255, 255, 0.8);
    color: #fffacd; text-shadow: 0 2px 5px rgba(0,0,0,0.5);
    transform: scale(1.2); /* Make Gold bigger */
}

/* SILVER MEDAL STYLING */
.silver-pillar .medal-ribbon { background: linear-gradient(to right, #0088aa, #00e5ff, #0088aa); }
.silver-pillar .medal-coin {
    background: radial-gradient(circle at 30% 30%, #e0ffff, #00e5ff 40%, #0088aa 80%, #003344);
    border: 6px solid #bffffa;
    box-shadow: 0 10px 30px rgba(0, 229, 255, 0.5), inset 0 0 20px rgba(255, 255, 255, 0.8);
    color: #fff; text-shadow: 0 2px 5px rgba(0,0,0,0.5);
}

/* BRONZE MEDAL STYLING */
.bronze-pillar .medal-ribbon { background: linear-gradient(to right, #aa5500, #ff8800, #aa5500); }
.bronze-pillar .medal-coin {
    background: radial-gradient(circle at 30% 30%, #ffcc99, #ff8800 40%, #aa5500 80%, #441100);
    border: 6px solid #ffbb77;
    box-shadow: 0 10px 30px rgba(255, 136, 0, 0.5), inset 0 0 20px rgba(255, 255, 255, 0.8);
    color: #fff; text-shadow: 0 2px 5px rgba(0,0,0,0.5);
}

/* --- 5. Massive Player Typography --- */
.grand-name {
    font-family: 'Orbitron', sans-serif; font-weight: 900; font-size: 28px;
    letter-spacing: 2px; margin-bottom: 5px; text-transform: uppercase; z-index: 10;
}
.grand-score {
    font-family: 'Rajdhani', sans-serif; font-weight: 900; font-size: 24px;
    background: rgba(0,0,0,0.6); padding: 5px 20px; border-radius: 4px; border: 1px solid;
    z-index: 10;
}
.grand-score span { font-size: 14px; opacity: 0.8; }

.gold-pillar .grand-name { color: #ffd700; text-shadow: 0 0 20px #ffd700; font-size: 36px; }
.gold-pillar .grand-score { color: #ffd700; border-color: #ffd700; box-shadow: 0 0 15px rgba(255,215,0,0.3); }

.silver-pillar .grand-name { color: #00e5ff; text-shadow: 0 0 15px #00e5ff; }
.silver-pillar .grand-score { color: #00e5ff; border-color: #00e5ff; box-shadow: 0 0 15px rgba(0,229,255,0.3); }

.bronze-pillar .grand-name { color: #ff8800; text-shadow: 0 0 15px #ff8800; }
.bronze-pillar .grand-score { color: #ff8800; border-color: #ff8800; box-shadow: 0 0 15px rgba(255,136,0,0.3); }

/* --- 6. The Light Beams --- */
.grand-beam {
    position: absolute; bottom: -20px; width: 140px; height: 350px;
    z-index: 1; mask-image: linear-gradient(to top, black 20%, transparent 100%);
    -webkit-mask-image: linear-gradient(to top, black 20%, transparent 100%);
    opacity: 0.6;
}
.gold-pillar .grand-beam { background: linear-gradient(to top, rgba(255,215,0,0.8), transparent); width: 180px; height: 450px; }
.silver-pillar .grand-beam { background: linear-gradient(to top, rgba(0,229,255,0.8), transparent); }
.bronze-pillar .grand-beam { background: linear-gradient(to top, rgba(255,136,0,0.8), transparent); }

/* --- 7. The Glowing Ring Bases --- */
.grand-base-ring {
    position: absolute; bottom: -40px; width: 180px; height: 60px;
    border-radius: 50%; border: 4px solid; transform: rotateX(70deg);
    z-index: 1;
}
.gold-pillar .grand-base-ring { width: 220px; height: 80px; border-color: #ffd700; box-shadow: 0 0 40px #ffd700, inset 0 0 30px #ffd700; bottom: -50px; }
.silver-pillar .grand-base-ring { border-color: #00e5ff; box-shadow: 0 0 30px #00e5ff, inset 0 0 20px #00e5ff; }
.bronze-pillar .grand-base-ring { border-color: #ff8800; box-shadow: 0 0 30px #ff8800, inset 0 0 20px #ff8800; }

/* --- 8. The Main 3D Platform --- */
.grand-platform {
    position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);
    width: 900px; height: 120px;
    background: linear-gradient(to bottom, #111a22 0%, #050a10 100%);
    border-top: 3px solid #00e5ff;
    border-radius: 50px 50px 0 0;
    z-index: 0;
    box-shadow: 0 -10px 40px rgba(0, 229, 255, 0.2), inset 0 20px 20px rgba(255,255,255,0.05);
}
/* Platform Base Edge Details */
.grand-platform::before {
    content: ""; position: absolute; bottom: 0; left: 0; width: 100%; height: 30px;
    background: #02050a; border-top: 2px solid #334;
}
/* Platform Holographic Grid */
.grand-platform::after {
    content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background-image: linear-gradient(rgba(0, 229, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 229, 255, 0.1) 1px, transparent 1px);
    background-size: 30px 30px; transform: perspective(500px) rotateX(60deg); transform-origin: top; opacity: 0.5;
}

/* =========================================
   ðŸš€ MASTER TEACHER DASHBOARD (CORRECTED HIERARCHY)
   ========================================= */

/* The Main Dashboard Container */
#teacher-dashboard {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    z-index: 999999 !important;
    display: none !important;
    flex-direction: column !important;
    background: #05070a !important;
    overflow: hidden !important; /* Stop the entire screen from scrolling */
}

body.dashboard-active #teacher-dashboard:not(.hidden) {
    display: flex !important;
}

/* The Header */
.dashboard-header {
    height: 80px !important;
    flex-shrink: 0 !important; /* Never shrink */
}

/* The Viewport (Container for tabs and views) */
.dashboard-viewport {
    flex-grow: 1 !important; /* Fills remaining space */
    display: flex !important;
    flex-direction: column !important;
    padding: 15px 30px !important;
    overflow: hidden !important; /* Content inside should scroll, not this */
}

/* The Active Tab Content Area */
.dash-view:not(.hidden) {
    display: flex !important;
    flex-direction: column !important;
    flex-grow: 1 !important; /* Takes up all available space inside viewport */
    height: 100% !important;
    overflow: hidden !important;
}

/* Fix Podium View */
#view-podium {
    align-items: center !important;
    justify-content: flex-start !important;
}

/* Fix Data Reports Table & Fix Roster Scroll */
#view-reports > div:last-child,
#spy-grid-container, 
#roster-grid {
    flex-grow: 1 !important;
    overflow-y: auto !important; /* Allow internal scrolling here! */
    min-height: 0 !important; /* The magic property for nested flex scrolling */
}

/* Sticky Table Header */
#view-reports th {
    position: sticky !important;
    top: 0 !important;
    background: #0a0f1a !important;
    z-index: 10 !important;
    box-shadow: 0 5px 10px rgba(0,0,0,0.5) !important;
}

/* Adjust runner-up list to scroll properly */
.nexus-runner-up-list {
    flex-grow: 1 !important;
    overflow-y: auto !important;
    min-height: 0 !important;
}

/* =========================================
   ðŸ“„ DATA REPORTS WIDE LAYOUT FIX
   ========================================= */
#view-reports {
    align-items: center !important;
    padding-top: 10px !important;
}

#reports-header-bar {
    width: 95% !important;
    max-width: 1400px !important;
    flex-shrink: 0 !important;
    display: flex !important;
    justify-content: space-between !important;
    margin-bottom: 20px !important;
}

.reports-stats-group {
    display: flex; gap: 15px; height: 100%;
}

.stat-box { background: rgba(0,0,0,0.6); padding: 5px 20px; border-radius: 8px; display: flex; flex-direction: column; justify-content: center; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
.yellow-box { border-left: 4px solid #ffd700; }
.green-box { border-left: 4px solid #00ff41; }
.stat-label { color: #888; font-size: 11px; display: block; }
.stat-value { font-size: 22px; font-family: 'Orbitron'; font-weight: bold; line-height: 1; }
.yellow-text { color: #ffd700; } .green-text { color: #00ff41; }

.export-btn { margin: 0 !important; padding: 0 20px !important; border-color: #00e5ff !important; color: #00e5ff !important; font-weight: bold !important; }

#reports-table-container {
    width: 95% !important;
    max-width: 1400px !important;
    flex-grow: 1 !important; /* BANAT HANGGANG SAHIG */
    overflow-y: auto !important;
    background: rgba(5, 10, 15, 0.8) !important;
    border: 2px solid #334 !important;
    border-bottom: none !important;
    border-radius: 12px 12px 0 0 !important;
}

#reports-table-container table { width: 100% !important; border-collapse: collapse !important; table-layout: fixed !important; }
#reports-table-container th { position: sticky; top: 0; background: #0a0f1a; z-index: 100; border-bottom: 3px solid #00e5ff; padding: 20px 10px; color: #00e5ff; font-family: 'Orbitron'; font-size: 13px; }
#reports-table-container td { padding: 22px 10px; border-bottom: 1px solid rgba(0,229,255,0.1); }
.center-text { text-align: center !important; }

/* =========================================
   ðŸŒŒ GOD-LEVEL STORY & BRIEFING CINEMATICS
   ========================================= */

/* 1. The Holographic Backdrop */
#story-overlay {
    background: radial-gradient(circle at center, rgba(0, 15, 30, 0.85) 0%, rgba(0, 2, 5, 0.98) 100%) !important;
    backdrop-filter: blur(15px) !important; /* Blurs the game behind it */
    z-index: 9999999 !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    animation: hologram-fade-in 0.8s ease-out;
}

/* 2. The Main Comm Panel (Edgy Sci-Fi Look) */
.comm-panel {
    background: linear-gradient(135deg, rgba(0, 25, 50, 0.6) 0%, rgba(0, 0, 10, 0.9) 100%) !important;
    border: 1px solid rgba(0, 229, 255, 0.3) !important;
    box-shadow: 0 0 50px rgba(0, 229, 255, 0.1), inset 0 0 30px rgba(0, 229, 255, 0.05) !important;
    max-width: 900px !important;
    width: 90% !important;
    border-radius: 4px !important;
    clip-path: polygon(0 15px, 15px 0, calc(100% - 15px) 0, 100% 15px, 100% calc(100% - 15px), calc(100% - 15px) 100%, 15px 100%, 0 calc(100% - 15px)) !important;
    position: relative;
    overflow: visible !important;
    padding: 2px !important; /* Frame border trick */
}

/* HUD Targeting Corners */
.comm-panel::before, .comm-panel::after {
    content: ''; position: absolute; width: 40px; height: 40px;
    border: 3px solid #00e5ff; pointer-events: none; z-index: 10;
}
.comm-panel::before { top: 0; left: 0; border-right: none; border-bottom: none; }
.comm-panel::after { bottom: 0; right: 0; border-left: none; border-top: none; }

/* 3. Header Styling */
.comm-header {
    background: rgba(0, 229, 255, 0.15) !important;
    border-bottom: 2px solid #00e5ff !important;
    padding: 15px 30px !important;
    font-family: 'Orbitron', sans-serif !important;
    font-size: 16px !important;
    color: #fff !important;
    letter-spacing: 4px !important;
    display: flex !important;
    justify-content: space-between !important;
    text-shadow: 0 0 10px #00e5ff !important;
}

/* 4. Content Area & Typography */
.comm-content {
    display: grid !important;
    grid-template-columns: 200px 1fr !important;
    gap: 30px !important;
    padding: 40px !important;
    align-items: flex-start !important;
}

/* 5. Avatar Scanner Effect */
.avatar-box {
    width: 100%; height: 200px;
    background: url('https://img.icons8.com/color/200/000000/astronaut.png') center/cover no-repeat;
    border: 2px solid #00e5ff;
    position: relative;
    box-shadow: 0 0 20px rgba(0, 229, 255, 0.2);
    overflow: hidden;
}
/* Scanning Beam */
.avatar-box::after {
    content: ''; position: absolute; top: -50%; left: 0; width: 100%; height: 50%;
    background: linear-gradient(to bottom, transparent, rgba(0, 255, 65, 0.4), transparent);
    animation: radar-scan 2s linear infinite;
}

.commander-label {
    position: absolute; bottom: 0; left: 0; width: 100%;
    background: rgba(0, 0, 0, 0.8);
    color: #ffd700; text-align: center; padding: 5px 0;
    font-family: 'Orbitron', sans-serif; font-size: 12px; font-weight: bold;
    border-top: 1px solid #ffd700;
}

/* 6. The Typewriter Text Box */
.dialogue-box {
    font-family: 'Rajdhani', monospace !important;
    font-size: 24px !important;
    color: #ddd !important;
    line-height: 1.6 !important;
    text-shadow: 0 0 5px rgba(255, 255, 255, 0.3) !important;
    min-height: 150px;
}

#story-text { margin-top: 0; }

/* 7. Tutorial Visuals Box (Nag-g-glow at lumulutang) */
#tutorial-visual {
    margin-top: 20px !important;
    text-align: center !important;
    font-family: 'Orbitron', sans-serif !important;
    animation: slight-float 3s ease-in-out infinite;
}

/* 8. Footer Controls */
.comm-footer {
    padding: 20px 30px !important;
    background: rgba(0, 0, 0, 0.6) !important;
    border-top: 1px solid #334 !important;
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
}

.comm-footer button { margin: 0 !important; font-size: 16px !important; padding: 12px 30px !important; }

/* --- GOD-LEVEL ANIMATIONS --- */
@keyframes hologram-fade-in {
    0% { opacity: 0; transform: scale(1.1) perspective(500px) rotateX(10deg); filter: blur(10px); }
    100% { opacity: 1; transform: scale(1) perspective(500px) rotateX(0); filter: blur(0); }
}
@keyframes radar-scan {
    0% { top: -50%; }
    100% { top: 100%; }
}
@keyframes slight-float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

/* The Blinking Typing Cursor */
.terminal-cursor {
    display: inline-block;
    width: 12px; height: 24px;
    background-color: #00ff41;
    margin-left: 5px;
    vertical-align: middle;
    animation: cursor-blink 0.8s infinite;
    box-shadow: 0 0 10px #00ff41;
}
@keyframes cursor-blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

/* =========================================
   ðŸš€ MASTER TEACHER DASHBOARD CSS (STRICT)
   ========================================= */

/* 1. THE MAIN CONTAINER (Locks to Screen Size) */
#teacher-dashboard {
    position: fixed !important;
    top: 0 !important; left: 0 !important;
    width: 100vw !important; height: 100vh !important;
    background: #05070a !important;
    z-index: 999999 !important;
    display: none; /* Controlled by JS .hidden */
    flex-direction: column !important;
    overflow: hidden !important; /* Walang labis, walang kulang */
}

body.dashboard-active #teacher-dashboard:not(.hidden) {
    display: flex !important;
}

/* 2. THE TOP HEADER */
.dash-top-bar {
    flex: 0 0 80px !important; /* Laging 80px ang taas, bawal lumiit */
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 0 30px !important;
    background: rgba(0, 15, 30, 0.95) !important;
    border-bottom: 2px solid #00e5ff !important;
    box-shadow: 0 5px 20px rgba(0, 229, 255, 0.15) !important;
    z-index: 100;
}
.dash-branding h2 { margin: 0; font-size: 26px; font-family: 'Orbitron'; color: #00e5ff; text-shadow: 0 0 10px #00e5ff; }
.status-indicator { color: #ffd700; font-family: 'Courier New'; font-weight: bold; font-size: 14px; margin-top: 5px; }
.dash-controls { display: flex; gap: 15px; align-items: center; }
.dash-controls button { margin: 0; padding: 12px 30px; font-size: 14px; min-width: 180px; }
.control-divider { width: 2px; height: 30px; background: #334; margin: 0 10px; }

/* 3. TABS CONTAINER */
.dash-tabs-container {
    flex: 0 0 60px !important; /* Laging 60px ang taas */
    display: flex !important;
    gap: 10px !important;
    padding: 15px 30px 0 30px !important;
    background: #020408 !important;
    border-bottom: 1px solid #223 !important;
    z-index: 90;
}

/* 4. THE MAIN VIEWPORT (Ang sikreto para hindi mag-half screen) */
.dash-main-viewport {
    flex: 1 1 auto !important; /* Kukunin niya LAHAT ng natitirang espasyo pababa */
    position: relative !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important; /* Ang loob lang dapat ang mag-scroll! */
    padding: 15px 30px !important;
}

/* 5. INDIVIDUAL VIEWS (Roster, Spy, Podium, Reports) */
.dash-view {
    display: none !important; /* Default hidden */
    flex: 1 1 auto !important; /* Banat mula taas hanggang baba */
    flex-direction: column !important;
    width: 100% !important;
    height: 100% !important;
    overflow: hidden !important;
}
.dash-view:not(.hidden) {
    display: flex !important; /* Ipakita kapag active */
}

/* --- SPECIFIC VIEW TWEAKS --- */

/* Spy Grid & Roster Grid Scrolling */
#spy-grid-container, #roster-grid {
    flex: 1 1 auto !important;
    overflow-y: auto !important;
    align-content: flex-start !important;
    padding-bottom: 50px !important;
}

/* Podium View Strict Positioning */
#view-podium {
    align-items: center !important;
    justify-content: flex-start !important;
}
.nexus-runner-up-list {
    flex: 1 1 auto !important;
    width: 100% !important;
    max-width: 1200px !important;
    overflow-y: auto !important;
    margin-top: 30px !important;
    background: rgba(0,0,0,0.5);
    border-top: 1px solid rgba(0, 229, 255, 0.3);
    z-index: 10;
}

/* Reports Table Full Screen */
#view-reports { align-items: center !important; }
.reports-header-bar {
    flex: 0 0 auto !important; /* Wag liliit */
    width: 100% !important;
    max-width: 1400px !important;
    display: flex !important; justify-content: space-between !important;
    margin-bottom: 20px !important;
}
.reports-stats-group { display: flex; gap: 15px; }
.reports-table-container {
    flex: 1 1 auto !important; /* Banat pababa ang table */
    width: 100% !important;
    max-width: 1400px !important;
    overflow-y: auto !important; /* TABLE SCROLLING */
    background: rgba(5, 10, 15, 0.8) !important;
    border: 2px solid #334 !important; border-bottom: none !important;
    border-radius: 12px 12px 0 0 !important;
}
.reports-table-container table { width: 100%; border-collapse: collapse; }
.reports-table-container th { position: sticky; top: 0; background: #0a0f1a; z-index: 10; border-bottom: 3px solid #00e5ff; padding: 20px 15px; color: #00e5ff; font-family: 'Orbitron'; font-size: 13px; }
.reports-table-container td { padding: 22px 15px; border-bottom: 1px solid rgba(0,229,255,0.1); }

/* =========================================
   ðŸš€ ANTI-SPLIT ABSOLUTE DASHBOARD CSS
   ========================================= */

/* 1. Main Dashboard Body */
#teacher-dashboard {
    position: fixed !important;
    top: 0 !important; left: 0 !important;
    width: 100vw !important; height: 100vh !important;
    background: #05070a !important;
    z-index: 999999 !important;
    display: none; 
    flex-direction: column !important;
    overflow: hidden !important;
}
body.dashboard-active #teacher-dashboard:not(.hidden) {
    display: flex !important;
}

/* 2. Top Bar & Tabs (Naka-Lock ang Taas) */
#dash-header-bar {
    height: 80px !important; flex-shrink: 0 !important;
    display: flex !important; justify-content: space-between !important; align-items: center !important;
    padding: 0 30px !important; background: rgba(0, 15, 30, 0.95) !important;
    border-bottom: 2px solid #00e5ff !important;
}
#dash-tabs-bar {
    height: 60px !important; flex-shrink: 0 !important;
    display: flex !important; gap: 10px !important;
    padding: 15px 30px 0 30px !important; background: #020408 !important;
    border-bottom: 1px solid #223 !important;
}

/* 3. THE MAGIC CONTAINER: Absolute Viewport */
#dash-absolute-viewport {
    position: relative !important; /* Ito ang Anchor! */
    flex-grow: 1 !important; /* Sakupin ang natitirang height */
    width: 100% !important;
    overflow: hidden !important;
}

/* 4. THE ABSOLUTE CARDS (Hinding-hindi na maghahati!) */
.absolute-card {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    padding: 20px 30px !important;
    box-sizing: border-box !important;
    display: flex !important;
    flex-direction: column !important;
    background: #05070a !important; /* Solid background para takpan ang nasa ilalim */
    z-index: 1 !important;
    opacity: 0 !important;
    pointer-events: none !important;
    transition: opacity 0.2s ease-in-out !important;
}

/* Pag tinawag ng JS, lilitaw sa pinakataas */
.absolute-card:not(.hidden) {
    z-index: 10 !important;
    opacity: 1 !important;
    pointer-events: auto !important;
}

/* --- Internal Formatting --- */
#view-podium { align-items: center !important; justify-content: flex-start !important; }
.nexus-runner-up-list { flex-grow: 1 !important; width: 100%; max-width: 1200px; overflow-y: auto; margin-top: 30px; }
#spy-grid-container, #roster-grid { flex-grow: 1 !important; overflow-y: auto !important; align-content: flex-start !important; }

#view-reports { align-items: center !important; }
.reports-header-bar { width: 100%; max-width: 1400px; display: flex; justify-content: space-between; margin-bottom: 20px; flex-shrink: 0; }
.reports-stats-group { display: flex; gap: 15px; }
.reports-table-container { 
    width: 100%; max-width: 1400px; flex-grow: 1 !important; 
    overflow-y: auto !important; border: 2px solid #334; 
    border-radius: 12px 12px 0 0; background: rgba(5,10,15,0.8);
}
.reports-table-container table { width: 100%; border-collapse: collapse; }
.reports-table-container th { position: sticky; top: 0; background: #0a0f1a; z-index: 10; border-bottom: 3px solid #00e5ff; padding: 20px 15px; color: #00e5ff; }
.reports-table-container td { padding: 22px 15px; border-bottom: 1px solid rgba(0,229,255,0.1); }
