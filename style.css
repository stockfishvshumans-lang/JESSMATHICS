@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700;800&display=swap');

@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');

@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Cormorant+Garamond:ital,wght@0,600;1,600&display=swap');

:root {

    

    --neon-cyan: #00f3ff;

    --cyan-glow: rgba(0, 243, 255, 0.6);

    --neon-red: #ff0055;

    --neon-gold: #ffd700;

    --neon-green: #00ff41;

    

    --bg-void: #020205;

    --glass-panel: rgba(10, 15, 25, 0.85); 

    

    --text-white: #ffffff;

    --text-dim: #8b9bb4;

}





body {

    margin: 0; overflow: hidden; background-color: var(--bg-void);

    font-family: 'Rajdhani', sans-serif; color: var(--text-white);

    user-select: none;

}





body::before {

    content: ""; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;

    background-image: 

        linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),

        linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);

    background-size: 50px 50px;

    transform: perspective(1000px) rotateX(60deg);

    animation: gridFlow 60s linear infinite; z-index: 0; pointer-events: none;

}

@keyframes gridFlow { 0% { transform: perspective(1000px) rotateX(60deg) translateY(0); } 100% { transform: perspective(1000px) rotateX(60deg) translateY(50px); } }



canvas { display: block; position: absolute; top: 0; left: 0; z-index: 1; }

.hidden { display: none !important; }





#ui-layer {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    pointer-events: none; 

    display: flex; flex-direction: column; justify-content: space-between;

    z-index: 10; 

}



#hud-top {

    display: flex; justify-content: space-between; align-items: flex-start; 

    padding: 20px;

    background: linear-gradient(180deg, rgba(0,0,0,0.9) 0%, transparent 100%);

    pointer-events: none;

}



.hud-group { display: flex; gap: 15px; }





.hud-box {
    background: rgba(10, 15, 30, 0.6); /* More transparent */
    border: 1px solid rgba(0, 243, 255, 0.3);
    border-top: 3px solid var(--neon-cyan); /* Heavy top border */
    padding: 10px 25px;
    border-radius: 0px 0px 15px 15px; /* Tech shape */
    display: flex; 
    flex-direction: column; 
    align-items: center;
    
    /* Hologram Glow */
    box-shadow: 0 5px 20px rgba(0, 243, 255, 0.1), inset 0 0 20px rgba(0, 243, 255, 0.05);
    backdrop-filter: blur(5px);
    
    /* Floating Animation */
    animation: hudFloat 4s ease-in-out infinite;
}

@keyframes hudFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-3px); }
}

/* --- UI FIX: INPUT BOX --- */
#input-container {
    position: absolute;
    bottom: 30px; /* Nasa baba na */
    left: 50%;
    transform: translateX(-50%);
    width: 300px;
    z-index: 50;
}

#player-input {
    width: 100%;
    background: rgba(0, 0, 0, 0.5); /* Transparent Black */
    border: 2px solid #00f3ff;
    border-radius: 5px;
    color: #00f3ff;
    font-family: 'Orbitron', sans-serif;
    font-size: 24px; /* Tamang laki lang */
    text-align: center;
    padding: 10px;
    outline: none;
    letter-spacing: 3px;
    text-shadow: 0 0 10px #00f3ff;
}

#player-input::placeholder {
    color: rgba(0, 243, 255, 0.3);
    font-size: 16px;
}

#player-input:focus {
    border-color: var(--neon-cyan);
    background: rgba(0, 15, 30, 0.95);
    box-shadow: 0 0 50px rgba(0, 243, 255, 0.2);
}

.label { font-size: 11px; color: var(--neon-cyan); letter-spacing: 2px; margin-bottom: 2px; font-weight: 700; }

.value { font-family: 'Orbitron', sans-serif; font-size: 26px; font-weight: 700; line-height: 1; }





.neon-blue { color: var(--neon-cyan); text-shadow: 0 0 10px var(--neon-cyan); }

.neon-red { color: var(--neon-red); text-shadow: 0 0 10px var(--neon-red); }

.neon-green { color: var(--neon-green); text-shadow: 0 0 10px var(--neon-green); }

.neon-gold { color: var(--neon-gold); text-shadow: 0 0 10px var(--neon-gold); }





#boss-hud { position: absolute; top: 110px; left: 50%; transform: translateX(-50%); text-align: center; width: 400px; }

#boss-name { display: block; color: var(--neon-red); font-family: 'Orbitron'; font-weight: 900; letter-spacing: 4px; text-shadow: 0 0 20px var(--neon-red); margin-bottom: 8px; font-size: 18px; }

#boss-hp-bar { width: 100%; height: 12px; background: #200; border: 1px solid var(--neon-red); border-radius: 6px; overflow: hidden; box-shadow: 0 0 10px var(--neon-red); }

#boss-hp-fill { width: 100%; height: 100%; background: var(--neon-red); box-shadow: 0 0 20px var(--neon-red); transition: width 0.2s; }





#xp-bar-container { width: 180px; height: 8px; background: #222; border: 1px solid #444; margin-top: 8px; transform: skewX(-15deg); border-radius: 2px; }

#xp-bar-fill { height: 100%; background: var(--neon-cyan); box-shadow: 0 0 15px var(--neon-cyan); width: 0%; transition: width 0.3s; }





#side-feed {

    position: absolute;

    top: 120px; 

    right: 20px; 

    left: auto; 

    width: 250px; 

    pointer-events: auto; 

    z-index: 15;

}



#live-leaderboard {

    background: var(--glass-panel);

    border-right: 3px solid var(--neon-gold); 

    border-left: none; 

    padding: 15px;

    border-radius: 10px 0 0 10px; 

    box-shadow: -5px 5px 20px rgba(0,0,0,0.5); 

    backdrop-filter: blur(5px);

}



#live-leaderboard h4 {

    margin: 0 0 10px 0;

    color: var(--neon-gold);

    font-family: 'Orbitron', sans-serif;

    font-size: 14px; 

    letter-spacing: 2px;

    border-bottom: 1px solid rgba(255, 255, 255, 0.1);

    padding-bottom: 5px;

    text-shadow: 0 0 10px var(--neon-gold);

    text-align: right; 

}



#leaderboard-list {

    list-style: none; padding: 0; margin: 0;

    font-size: 15px; font-weight: 600;

}



#leaderboard-list li {

    padding: 6px 0;

    display: flex; justify-content: space-between;

    border-bottom: 1px solid rgba(255, 255, 255, 0.05);

    color: var(--text-dim);

}

#leaderboard-list li span:last-child {

    color: var(--neon-cyan);

}





#hud-bottom {

    display: flex; justify-content: space-between; align-items: flex-end; padding: 30px;

    background: linear-gradient(0deg, rgba(0,0,0,0.95) 0%, transparent 100%);

    pointer-events: auto; 

}

/* --- ðŸ›¸ TURRET CONSOLE UI (CSS) --- */

/* Container: Nakapwesto sa ibabaw ng ship */
#input-container {
    position: absolute;
    bottom: 85px; /* Naka-angat para nasa "dibdib" ng ship */
    left: 50%;
    transform: translateX(-50%);
    width: 280px; 
    z-index: 50; /* Siguraduhing nasa ibabaw ng canvas */
    pointer-events: auto;
}

/* The Input Box: Mukhang Holographic Screen */
#player-input {
    width: 100%;
    background: rgba(0, 10, 20, 0.85); /* Dark Glass */
    border: 2px solid #00f3ff; /* Neon Cyan Border */
    border-radius: 6px;
    
    font-family: 'Orbitron', sans-serif;
    font-weight: 700;
    font-size: 28px;
    color: #fff;
    text-align: center;
    letter-spacing: 4px;
    
    padding: 12px;
    outline: none;
    box-shadow: 0 0 25px rgba(0, 243, 255, 0.15), inset 0 0 10px rgba(0, 243, 255, 0.1);
    
    transition: all 0.2s ease-in-out;
}

/* Effect kapag nagta-type ka (Active) */
#player-input:focus {
    background: rgba(0, 20, 40, 0.95);
    border-color: #ffd700; /* Nagiging Gold pag active */
    box-shadow: 0 0 40px rgba(255, 215, 0, 0.3), inset 0 0 15px rgba(255, 215, 0, 0.1);
    transform: scale(1.05); /* Lumalaki konti */
}

/* Alisin ang placeholder text pag nagta-type para malinis */
#player-input:not(:placeholder-shown)::placeholder {
    color: transparent;
}

/* Maliit na label sa ilalim (optional) */
.input-hint {
    margin-top: 5px;
    font-size: 10px;
    color: #00f3ff;
    opacity: 0.7;
    text-shadow: 0 0 5px #00f3ff;
    background: black; /* Para mabasa sa likod */
    display: inline-block;
    padding: 2px 8px;
    border-radius: 4px;
}




.icon-btn {

    width: 50px; height: 50px; background: rgba(255,255,255,0.05);

    border: 1px solid #445; color: #fff; border-radius: 12px;

    font-size: 22px; cursor: pointer; margin-right: 15px;

    display: flex; justify-content: center; align-items: center; transition: 0.3s;

}

.icon-btn:hover { background: var(--neon-cyan); color: black; box-shadow: 0 0 20px var(--neon-cyan); border-color: transparent; }



.skill-icon {

    font-size: 12px; color: #889; background: rgba(0,0,0,0.8);

    padding: 10px 15px; border: 1px solid #445; border-radius: 6px;

    margin-top: 8px; text-align: right; cursor: pointer; font-family: 'Orbitron'; letter-spacing: 1px;

}

.skill-icon:hover { border-color: var(--neon-cyan); color: var(--neon-cyan); box-shadow: 0 0 10px var(--neon-cyan); }





.modal {

    position: absolute; top: 0; left: 0; width: 100%; height: 100%;

    background-color: #020205; 

    background-image: linear-gradient(rgba(0, 243, 255, 0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 243, 255, 0.02) 1px, transparent 1px);

    background-size: 40px 40px;

    display: flex; justify-content: center; align-items: center;

    z-index: 100; pointer-events: auto;

}



.modal-content {

    background: var(--glass-panel);

    width: 520px; max-width: 90%;

    padding: 45px;

    border-radius: 20px;

    text-align: center;

    border: 2px solid var(--neon-cyan);

    box-shadow: 0 0 50px rgba(0, 243, 255, 0.15), inset 0 0 30px rgba(0, 243, 255, 0.05);

    position: relative;

    display: flex; flex-direction: column; align-items: center;

}



.modal-content::after {

    content: ""; position: absolute; top: 0; left: 20%; width: 60%; height: 3px;

    background: var(--neon-cyan); box-shadow: 0 0 20px var(--neon-cyan);

    border-radius: 0 0 10px 10px;

}





.game-title {

    font-family: 'Orbitron', sans-serif;

    font-size: 60px; margin: 0; color: white;

    letter-spacing: -2px; line-height: 1;

    text-shadow: 0 0 10px rgba(255,255,255,0.2);

}

.highlight { color: var(--neon-cyan); text-shadow: 0 0 30px var(--neon-cyan); }

.subtitle { color: var(--text-dim); letter-spacing: 5px; margin-bottom: 35px; font-size: 14px; text-transform: uppercase; font-weight: 700; }





.main-input, input[type="text"], input[type="tel"] {

    width: 90%; padding: 18px;

    font-family: 'Orbitron', sans-serif; font-size: 22px; font-weight: 700;

    text-align: center; text-transform: uppercase; letter-spacing: 3px;

    background: rgba(0, 0, 0, 0.6);

    border: 2px solid #334;

    border-radius: 12px; color: #fff;

    margin-bottom: 25px; transition: 0.3s; outline: none;

}

.main-input:focus, input[type="text"]:focus {

    border-color: var(--neon-cyan);

    background: rgba(0, 243, 255, 0.05);

    box-shadow: 0 0 30px rgba(0, 243, 255, 0.3);

}





#join-code-input {

    border: 2px dashed var(--neon-gold) !important;

    color: var(--neon-gold) !important;

    background: rgba(255, 215, 0, 0.05) !important;

    letter-spacing: 5px;

}

#join-code-input:focus {

    background: rgba(255, 215, 0, 0.1) !important;

    box-shadow: 0 0 30px rgba(255, 215, 0, 0.4) !important;

}

#join-code-input::placeholder { color: #654; }





.settings-group { width: 100%; border-top: 1px solid #223; padding-top: 20px; margin-bottom: 20px; }

.settings-group h3 { font-size: 12px; color: #667; margin-bottom: 12px; font-family: 'Rajdhani'; letter-spacing: 3px; text-transform: uppercase; font-weight: 700; }



.radio-group, .check-group { display: flex; justify-content: center; gap: 12px; flex-wrap: wrap; }

.radio-btn input, .check-group input { display: none; }



.radio-btn span {

    padding: 10px 25px; background: rgba(255,255,255,0.03);

    border: 1px solid #334; border-radius: 50px;

    color: #667; font-weight: 700; font-size: 14px;

    cursor: pointer; transition: 0.3s;

}

.radio-btn span:hover { border-color: white; color: white; }

.radio-btn input:checked + span {

    background: var(--neon-cyan); border-color: var(--neon-cyan); color: black;

    box-shadow: 0 0 20px var(--neon-cyan);

}



.check-group span {

    display: flex; justify-content: center; align-items: center;

    width: 60px; height: 60px;

    background: rgba(255,255,255,0.03);

    border: 2px solid #334; border-radius: 12px;

    color: #556; font-size: 26px; font-weight: 900;

    cursor: pointer; transition: 0.3s;

}

.check-group span:hover { border-color: white; color: white; transform: translateY(-3px); }

.check-group input:checked + span {

    border-color: var(--neon-cyan); color: var(--neon-cyan);

    background: rgba(0, 243, 255, 0.1);

    box-shadow: 0 0 25px rgba(0, 243, 255, 0.4), inset 0 0 10px rgba(0, 243, 255, 0.1);

    text-shadow: 0 0 10px var(--neon-cyan);

}





.btn {

    display: block; width: 100%; padding: 20px; margin: 12px 0;

    font-family: 'Orbitron', sans-serif; font-size: 20px; letter-spacing: 2px;

    border: none; cursor: pointer; border-radius: 10px; transition: 0.3s;

}



.btn.primary {

    background: linear-gradient(90deg, var(--neon-cyan), #00a8ff);

    color: #020408; font-weight: 900;

    box-shadow: 0 0 25px rgba(0, 243, 255, 0.3);

}

.btn.primary:hover {

    box-shadow: 0 0 50px var(--neon-cyan);

    transform: scale(1.02); color: black;

}



.btn.secondary {

    background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); color: white;

}

.btn.secondary:hover {

    border-color: var(--neon-cyan); background: rgba(0, 243, 255, 0.1);

    box-shadow: 0 0 25px rgba(0, 243, 255, 0.2);

}



.btn.tertiary { background: transparent; border: 1px solid #222; color: #667; font-size: 14px; padding: 15px; }

.btn.tertiary:hover { border-color: var(--neon-gold); color: var(--neon-gold); letter-spacing: 4px; }



.btn.text-only { 

    background: transparent; color: #555; font-size: 12px; padding: 15px; 

    border: 1px solid transparent; transition: 0.3s;

}

.btn.text-only:hover { 

    color: var(--neon-red); border-color: var(--neon-red);

    box-shadow: 0 0 15px rgba(255, 42, 85, 0.3);

    letter-spacing: 2px; text-decoration: none;

}





#report-modal .modal-content { border-color: var(--neon-red); box-shadow: 0 0 40px rgba(255, 42, 85, 0.2); }

#report-modal .modal-content::after { background: var(--neon-red); box-shadow: 0 0 15px var(--neon-red); }

#report-modal h1 { color: var(--neon-red); text-shadow: 0 0 20px var(--neon-red); }



#win-modal .modal-content { border-color: var(--neon-green); box-shadow: 0 0 40px rgba(0, 255, 65, 0.2); }

#win-modal .modal-content::after { background: var(--neon-green); box-shadow: 0 0 15px var(--neon-green); }

#win-modal h1 { color: var(--neon-green); text-shadow: 0 0 20px var(--neon-green); }





.scrollable-list, .player-list {

    width: 100%; max-height: 220px; overflow-y: auto; margin-bottom: 20px;

    background: rgba(0,0,0,0.3); border: 1px solid #334; border-radius: 8px;

}

.player-row, .lb-row, .log-item {

    padding: 12px 20px; border-bottom: 1px solid rgba(255,255,255,0.05);

    display: flex; justify-content: space-between; font-weight: 600; color: #ccc;

    font-size: 16px; transition: 0.2s;

}

.player-row:hover { background: rgba(255,255,255,0.05); color: white; }



.code-display h1 {

    font-family: 'Orbitron'; font-size: 52px; color: var(--neon-gold);

    text-shadow: 0 0 20px var(--neon-gold); margin: 15px 0;

    border: 1px dashed rgba(255, 215, 0, 0.3); padding: 15px; border-radius: 10px;

    background: rgba(255, 215, 0, 0.05);

}



#boss-warning {

    position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%);

    font-family: 'Orbitron'; font-size: 80px; color: var(--neon-red); font-weight: 900;

    text-shadow: 0 0 50px var(--neon-red); z-index: 50; white-space: nowrap; animation: flash 0.3s infinite;

}

@keyframes flash { 0%, 100% { opacity: 1; } 50% { opacity: 0.2; } }



::-webkit-scrollbar { width: 6px; }

::-webkit-scrollbar-track { background: #111; }

::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }

::-webkit-scrollbar-thumb:hover { background: var(--neon-cyan); }

/* --- NEW VIRTUAL NUMPAD STYLES --- */
#virtual-numpad {
    display: none; /* Hidden by default on PC */
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    width: 300px;
    gap: 8px;
    z-index: 100;
    pointer-events: auto;
}

.numpad-row {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-bottom: 8px;
}

.num-btn {
    width: 80px;
    height: 50px;
    background: rgba(5, 10, 20, 0.9);
    border: 1px solid var(--neon-cyan);
    color: var(--neon-cyan);
    font-family: 'Orbitron', sans-serif;
    font-size: 24px;
    font-weight: bold;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(0, 243, 255, 0.1);
    transition: 0.1s;
    /* Prevent double-tap zoom on mobile */
    touch-action: manipulation;
}

.num-btn:active {
    background: var(--neon-cyan);
    color: black;
    transform: scale(0.95);
}

.num-btn.clear-btn {
    border-color: var(--neon-red);
    color: var(--neon-red);
}

.num-btn.clear-btn:active {
    background: var(--neon-red);
    color: white;
}

.num-btn.fire-btn {
    border-color: var(--neon-gold);
    background: rgba(255, 215, 0, 0.1);
    font-size: 28px;
}

.num-btn.fire-btn:active {
    background: var(--neon-gold);
    box-shadow: 0 0 30px var(--neon-gold);
}

/* MEDIA QUERY: Only show on screens smaller than 768px (Tablets/Phones) */
@media (max-width: 768px) {
    #virtual-numpad {
        display: block;
    }
    
    /* Adjust Input Position to make room for Numpad */
    #hud-bottom {
        padding-bottom: 250px; /* Pushes the original HUD up */
        align-items: flex-start;
    }

    #player-input {
        pointer-events: none; /* Prevents keyboard from popping up if they tap the box by mistake */
        background: rgba(0,0,0,0.8);
    }
}

/* --- COMBO & HYPE UPDATE --- */
#combo-container {
    position: absolute;
    top: 150px;
    left: 20px;
    text-align: center;
    transform: skewX(-10deg);
    pointer-events: none;
    z-index: 20;
    transition: transform 0.1s;
}

#combo-label {
    font-family: 'Rajdhani', sans-serif;
    font-weight: 900;
    font-size: 14px;
    color: var(--neon-gold);
    letter-spacing: 4px;
}

#combo-value {
    font-family: 'Orbitron', sans-serif;
    font-weight: 900;
    font-size: 48px;
    color: #fff;
    text-shadow: 0 0 20px var(--neon-cyan);
    line-height: 1;
}

/* Animations for Hype */
.combo-pulse {
    animation: comboPulse 0.2s ease-out;
}

@keyframes comboPulse {
    0% { transform: skewX(-10deg) scale(1); }
    50% { transform: skewX(-10deg) scale(1.5); color: var(--neon-gold); }
    100% { transform: skewX(-10deg) scale(1); }
}

.shake-screen {
    animation: shakeAnim 0.3s ease-in-out;
}

@keyframes shakeAnim {
    0% { transform: translate(0, 0); }
    25% { transform: translate(5px, -5px); }
    50% { transform: translate(-5px, 5px); }
    75% { transform: translate(5px, 5px); }
    100% { transform: translate(0, 0); }
}

/* --- VISUAL OVERHAUL UPDATE --- */

/* 1. Background Canvas (Behind everything) */
canvas { 
    display: block; 
    position: absolute; 
    top: 0; 
    left: 0; 
    width: 100vw; 
    height: 100vh; /* Force full screen size */
    z-index: 1; 
}

/* 2. RGB Split / Chromatic Aberration on UI */
#ui-layer {
    text-shadow: 2px 0 rgba(255,0,0,0.3), -2px 0 rgba(0,255,255,0.3);
}

/* 3. Glitch Effect Overlay */
#glitch-overlay {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(255, 0, 80, 0.1);
    z-index: 900;
    pointer-events: none;
    mix-blend-mode: color-dodge;
    animation: glitchAnim 0.2s infinite;
}

@keyframes glitchAnim {
    0% { transform: translate(0); }
    20% { transform: translate(-5px, 5px); background: rgba(0, 255, 255, 0.1); }
    40% { transform: translate(-5px, -5px); }
    60% { transform: translate(5px, 5px); background: rgba(255, 0, 80, 0.1); }
    80% { transform: translate(5px, -5px); }
    100% { transform: translate(0); }
}

/* Fever Mode Glow (Add this class to body via JS later) */
.fever-mode #gameCanvas {
    box-shadow: inset 0 0 100px rgba(255, 215, 0, 0.3);
    filter: drop-shadow(0 0 10px gold);
}

/* --- AUTH & RANK STYLES --- */
.auth-tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
.tab-btn { background: transparent; border: none; color: #666; font-family: 'Orbitron'; font-size: 14px; cursor: pointer; padding-bottom: 5px; }
.tab-btn.active { color: var(--neon-cyan); border-bottom: 2px solid var(--neon-cyan); }

.auth-input {
    width: 90%; padding: 12px; margin-bottom: 10px;
    background: rgba(0,0,0,0.5); border: 1px solid #334; color: white;
    font-family: 'Rajdhani'; font-size: 16px; text-align: center;
}
.auth-input:focus { border-color: var(--neon-cyan); outline: none; }

.rank-display { display: flex; align-items: center; justify-content: center; gap: 15px; text-align: left; }
#rank-icon { font-size: 40px; }

/* MISSION CONFIG STYLES */
.checkbox-container, .radio-label {
    cursor: pointer; font-family: 'Rajdhani'; font-size: 18px; color: white;
    display: flex; align-items: center; gap: 5px;
}
.checkbox-container input, .radio-label input {
    accent-color: #00e5ff; /* Neon color checkboxes */
    width: 18px; height: 18px;
}
.checkbox-container:hover, .radio-label:hover {
    color: #00e5ff; text-shadow: 0 0 5px #00e5ff;
}

/* --- CUSTOM NEON CHECKBOXES & RADIO BUTTONS --- */

/* Itago ang default na browser inputs */
.config-options input[type="checkbox"],
.config-options input[type="radio"] {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

/* Style para sa label container */
.op-label, .diff-label {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    position: relative;
    padding-left: 35px; /* Space para sa custom indicator */
    margin-right: 20px;
    font-family: 'Rajdhani', sans-serif;
    font-size: 1.1rem;
    color: #aaa;
    transition: all 0.3s ease;
    user-select: none;
}

/* Hover effect sa label */
.op-label:hover, .diff-label:hover {
    color: #fff;
    text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
}

/* --- CUSTOM CHECKBOX INDICATOR (Operations) --- */
.checkmark {
    position: absolute;
    top: 50%;
    left: 0;
    transform: translateY(-50%);
    height: 22px;
    width: 22px;
    background-color: rgba(0, 0, 0, 0.5);
    border: 2px solid #555;
    border-radius: 4px;
    transition: all 0.3s ease;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.8);
}

/* Kapag na-check ang checkbox */
.op-label input:checked ~ .checkmark {
    background-color: rgba(0, 229, 255, 0.2);
    border-color: #00e5ff;
    box-shadow: 0 0 15px #00e5ff, inset 0 0 10px rgba(0, 229, 255, 0.3);
}

/* Checkmark icon (gamit ang CSS pseudo-element) */
.checkmark:after {
    content: "";
    position: absolute;
    display: none;
    left: 7px;
    top: 3px;
    width: 6px;
    height: 12px;
    border: solid #00e5ff;
    border-width: 0 3px 3px 0;
    transform: rotate(45deg);
    filter: drop-shadow(0 0 5px #00e5ff);
}

/* Ipakita ang icon kapag checked */
.op-label input:checked ~ .checkmark:after {
    display: block;
}

/* Paliwanagin ang text kapag checked */
.op-label input:checked {
    color: #00e5ff;
    text-shadow: 0 0 10px #00e5ff;
}

/* --- CUSTOM RADIO INDICATOR (Difficulty) --- */
.radiomark {
    position: absolute;
    top: 50%;
    left: 0;
    transform: translateY(-50%);
    height: 22px;
    width: 22px;
    background-color: rgba(0, 0, 0, 0.5);
    border: 2px solid #555;
    border-radius: 50%; /* Gawing bilog */
    transition: all 0.3s ease;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.8);
}

/* Inner circle para sa radio button */
.radiomark:after {
    content: "";
    position: absolute;
    display: none;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    height: 12px;
    width: 12px;
    border-radius: 50%;
    background-color: #fff;
    box-shadow: 0 0 10px #fff;
}

/* Ipakita ang inner circle kapag checked */
.diff-label input:checked ~ .radiomark:after {
    display: block;
}

/* --- DIFFICULTY SPECIFIC COLORS & GLOWS --- */

/* EASY (Green) */
.diff-label:nth-child(1) input:checked ~ .radiomark {
    border-color: #00ff41;
    box-shadow: 0 0 15px #00ff41, inset 0 0 10px rgba(0, 255, 65, 0.3);
}
.diff-label:nth-child(1) input:checked ~ .radiomark:after {
    background-color: #00ff41;
    box-shadow: 0 0 10px #00ff41;
}
.diff-label:nth-child(1) input:checked {
    color: #00ff41;
    text-shadow: 0 0 10px #00ff41;
}

/* MEDIUM (Yellow) */
.diff-label:nth-child(2) input:checked ~ .radiomark {
    border-color: #ffd700;
    box-shadow: 0 0 15px #ffd700, inset 0 0 10px rgba(255, 215, 0, 0.3);
}
.diff-label:nth-child(2) input:checked ~ .radiomark:after {
    background-color: #ffd700;
    box-shadow: 0 0 10px #ffd700;
}
.diff-label:nth-child(2) input:checked {
    color: #ffd700;
    text-shadow: 0 0 10px #ffd700;
}

/* HARD (Red) */
.diff-label:nth-child(3) input:checked ~ .radiomark {
    border-color: #ff0055;
    box-shadow: 0 0 15px #ff0055, inset 0 0 10px rgba(255, 0, 85, 0.3);
}
.diff-label:nth-child(3) input:checked ~ .radiomark:after {
    background-color: #ff0055;
    box-shadow: 0 0 10px #ff0055;
}
.diff-label:nth-child(3) input:checked {
    color: #ff0055;
    text-shadow: 0 0 10px #ff0055;
}

/* --- INITIATE & ABORT BUTTONS --- */
/* Siguraduhin na ang mga ito ay gamit na ang tamang classes sa HTML */
/* Example: <button class="btn primary">INITIATE LAUNCH</button> */
/* Example: <button class="btn text-only">ABORT</button> */

/* Kung kailangan mo i-adjust ang spacing nila sa modal */
#mission-config-modal .modal-actions {
    margin-top: 40px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
}

#ui-layer {
    pointer-events: none; /* Para lumusot ang click sa canvas */
    /* ... ibang styles ... */
}

/* PERO dapat buhayin ulit ang click para sa buttons */
#hud-bottom, .modal, .menu-actions, .controls-left, .controls-right {
    pointer-events: auto; /* Para mapindot ang buttons */
}

/* =========================================
   TEACHER & CLASSROOM MODE STYLES
   ========================================= */

/* --- DASHBOARD LAYOUT --- */
.dash-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid #333;
    padding-bottom: 20px;
    margin-bottom: 20px;
}

.table-container {
    width: 100%;
    height: 60vh;
    overflow-y: auto;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid #333;
}

/* --- STUDENT TABLE --- */
#student-table {
    width: 100%;
    border-collapse: collapse;
    color: white;
    font-family: 'Rajdhani', sans-serif;
}

#student-table th {
    background: #111;
    color: #00e5ff;
    padding: 15px;
    text-align: left;
    position: sticky;
    top: 0;
    border-bottom: 2px solid #00e5ff;
    z-index: 2; /* Ensure header stays on top */
}

#student-table td {
    padding: 12px;
    border-bottom: 1px solid #222;
    font-size: 18px;
}

/* --- STATUS DOTS --- */
.status-dot {
    height: 10px;
    width: 10px;
    border-radius: 50%;
    display: inline-block;
    margin-right: 5px;
}
.status-online { background-color: #00ff41; box-shadow: 0 0 5px #00ff41; }
.status-playing { background-color: #ffd700; box-shadow: 0 0 5px #ffd700; }
.status-offline { background-color: #555; }

.top-performer { color: #ffd700; font-weight: bold; }

/* =========================================
   SETUP & CONFIGURATION MODAL
   ========================================= */

/* 1. Grid Layout for Config (Label Left, Input Right) */
.config-grid {
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    gap: 20px;
    align-items: center;
    margin-bottom: 30px;
    width: 100%;
}

/* 2. Label Styling */
.config-grid label {
    font-family: 'Rajdhani', sans-serif;
    font-weight: bold;
    font-size: 18px;
    color: #00e5ff;
    text-align: right;
    padding-right: 15px;
}

/* 3. DROPDOWN FIXES (Black Background) */
.config-grid select.main-input {
    background-color: rgba(0, 0, 0, 0.8);
    color: #fff;
    cursor: pointer;
}

.config-grid select.main-input option, select option {
    background-color: #000000 !important;
    color: #ffffff !important;
    padding: 10px;
    font-size: 16px;
}

/* 4. Radio/Difficulty Alignment */
.diff-select-container {
    display: flex;
    gap: 20px;
    justify-content: flex-start;
    align-items: center;
}

.diff-select-container label {
    color: white !important;
    text-align: left !important;
    font-weight: normal !important;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 5px;
}

.diff-select-container input[type="radio"] {
    accent-color: #00e5ff;
    transform: scale(1.2);
}

/* 5. Button Actions Spacing */
.menu-actions {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #333;
}

/* =========================================
   MAIN MENU GRID (2x2 Layout)
   ========================================= */
.main-menu-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
}

@media (max-width: 768px) {
    .main-menu-grid {
        grid-template-columns: 1fr;
    }
}

/* --- NEW VISUAL EFFECTS (ADD TO BOTTOM OF CSS) --- */

/* HIDE THE NOISE EFFECTS */
.scanline-overlay {
    display: none !important; /* Tanggalin ang guhit sa screen */
}

#glitch-overlay {
    display: none !important; /* Tanggalin ang kurap-kurap */
}

/* Optional: Gawing mas clean ang UI Layer */
#ui-layer::after {
    /* Bawasan ang dilim sa gilid (Vignette) para mas maliwanag */
    background: radial-gradient(circle, transparent 70%, rgba(0,0,0,0.6) 100%);
}

/* 2. Vignette (Darker Corners for immersion) */
#ui-layer::after {
    content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: radial-gradient(circle, transparent 60%, black 100%);
    pointer-events: none; z-index: -1;
}

/* 3. Red Alert Pulse (Triggered by JS when health < 30%) */
.critical-health #ui-layer {
    box-shadow: inset 0 0 100px rgba(255, 0, 0, 0.5);
    animation: heartbeat 1s infinite;
}

@keyframes heartbeat {
    0% { box-shadow: inset 0 0 50px rgba(255, 0, 0, 0.2); }
    50% { box-shadow: inset 0 0 150px rgba(255, 0, 0, 0.6); }
    100% { box-shadow: inset 0 0 50px rgba(255, 0, 0, 0.2); }
}

/* ADD TO style.css */

/* The Jammed State (Striped Red Pattern) */
.input-jammed {
    background: repeating-linear-gradient(
        45deg,
        rgba(50, 0, 0, 0.9),
        rgba(50, 0, 0, 0.9) 10px,
        rgba(100, 0, 0, 0.9) 10px,
        rgba(100, 0, 0, 0.9) 20px
    ) !important;
    border: 2px solid #ff0055 !important;
    color: #ff0055 !important;
    font-weight: 900 !important;
    text-shadow: 0 0 10px #ff0055;
    pointer-events: none; /* Block clicking */
    animation: shake 0.1s infinite;
}

/* Golden Drone Text Style */
.golden-text {
    color: #ffd700 !important;
    text-shadow: 0 0 15px #ffd700, 0 0 30px orange !important;
    font-size: 36px !important;
}

/* ADD TO style.css */

/* Dashboard Tabs */
.dash-tabs { display: flex; gap: 15px; }
.dash-view { width: 100%; height: 100%; overflow-y: auto; padding-top: 20px; }

/* Podium Layout */
#podium-container {
    display: flex; justify-content: center; align-items: flex-end;
    height: 250px; margin-bottom: 30px; gap: 10px;
}

.podium-box {
    width: 120px; text-align: center;
    border: 2px solid #444; border-radius: 10px 10px 0 0;
    background: rgba(0,0,0,0.5);
    display: flex; flex-direction: column; justify-content: flex-end; padding-bottom: 10px;
    transition: all 0.5s ease;
}

.podium-box .crown { font-size: 40px; margin-bottom: 10px; }
.podium-box .p-name { font-family: 'Orbitron'; font-weight: bold; font-size: 14px; color: white; }
.podium-box .p-score { font-family: 'Rajdhani'; font-size: 24px; font-weight: bold; color: #ffd700; }

/* Rank Specifics */
.rank-1 { height: 100%; border-color: #ffd700; box-shadow: 0 0 30px rgba(255, 215, 0, 0.2); }
.rank-2 { height: 80%; border-color: #c0c0c0; }
.rank-3 { height: 65%; border-color: #cd7f32; }

/* Spy Card */
.spy-card {
    background: #111; border: 1px solid #333; padding: 10px; border-radius: 8px;
    text-align: left; position: relative;
}
.spy-card:hover { border-color: #00e5ff; cursor: pointer; }
.spy-card h4 { margin: 0; color: white; font-size: 16px; }
.spy-bar { height: 4px; background: #333; margin-top: 5px; width: 100%; }
.spy-fill { height: 100%; background: #00e5ff; width: 0%; transition: width 0.5s; }
.status-badge { position: absolute; top: 10px; right: 10px; font-size: 10px; color: #888; }

/* =========================================
   ðŸ‘¨â€ðŸ« TEACHER DASHBOARD (COMMAND CENTER)
========================================= */

/* The main container - fills the screen, no centered box */
.dashboard-layout {
    display: flex !important; /* Override 'hidden' display */
    flex-direction: column;
    width: 100vw !important;
    height: 100vh !important;
    background: #05070a !important;
    padding: 0 !important;
    border: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    max-width: none !important;
}

/* 1. COMMAND HEADER BAR */
.dashboard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 30px;
    background: rgba(0, 20, 40, 0.9);
    border-bottom: 2px solid #00e5ff;
    box-shadow: 0 5px 20px rgba(0, 229, 255, 0.2);
    flex-shrink: 0; /* Don't shrink */
}

.header-status {
    text-align: left;
}

.header-controls {
    display: flex;
    align-items: center;
}

/* 2. MAIN VIEWPORT AREA */
.dashboard-viewport {
    flex-grow: 1; /* Fill remaining height */
    display: flex;
    flex-direction: column;
    padding: 20px 30px;
    overflow-y: auto; /* Scroll if content is long */
}

/* TABS */
.dash-tabs {
    display: flex;
    border-bottom: 1px solid #333;
    margin-bottom: 20px;
    flex-shrink: 0;
}

.tab-btn {
    background: none;
    border: none;
    color: #888;
    padding: 10px 20px;
    font-family: 'Orbitron', sans-serif;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s;
    border-bottom: 3px solid transparent;
}

.tab-btn:hover { color: #fff; }
.tab-btn.active {
    color: #00e5ff;
    border-bottom: 3px solid #00e5ff;
    text-shadow: 0 0 10px rgba(0, 229, 255, 0.5);
}

/* VIEW CONTAINERS */
.dash-view {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

/* --- PODIUM STYLING --- */
.podium-stage {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    margin-bottom: 40px;
    padding-top: 20px;
    flex-shrink: 0;
}

.podium-pillar {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0 15px;
    text-align: center;
}

.crown { font-size: 40px; margin-bottom: 5px; filter: drop-shadow(0 0 10px currentColor); }
.p-name { font-weight: bold; margin-bottom: 2px; font-size: 18px; }
.p-score { color: #ffd700; font-family: 'Courier New', monospace; margin-bottom: 10px; }

.pillar-block {
    width: 100px;
    background: linear-gradient(to bottom, rgba(255,255,255,0.1), rgba(0,0,0,0.5));
    border: 2px solid;
    border-bottom: none;
    border-radius: 8px 8px 0 0;
    display: flex;
    justify-content: center;
    align-items: flex-end;
    padding-bottom: 10px;
    font-size: 30px;
    font-weight: 900;
    color: rgba(255,255,255,0.2);
}

.gold .crown { color: #ffd700; } .gold .pillar-block { border-color: #ffd700; box-shadow: 0 -5px 20px rgba(255, 215, 0, 0.3); }
.silver .crown { color: #c0c0c0; } .silver .pillar-block { border-color: #c0c0c0; box-shadow: 0 -5px 20px rgba(192, 192, 192, 0.3); }
.bronze .crown { color: #cd7f32; } .bronze .pillar-block { border-color: #cd7f32; box-shadow: 0 -5px 20px rgba(205, 127, 50, 0.3); }

/* RUNNER UPS */
.runner-ups-container {
    flex-grow: 1;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 20px;
    overflow-y: auto;
    border: 1px solid #333;
}

.runner-ups-list .player-row:hover {
    background: rgba(0, 229, 255, 0.1);
}

/* STAT BOXES (For Reports View) */
.stat-box {
    background: rgba(0,0,0,0.5);
    border: 1px solid #333;
    padding: 15px 25px;
    border-radius: 8px;
    font-family: 'Orbitron';
}

#teacher-dashboard:not(.hidden) {
    display: flex !important;
    flex-direction: column;
    width: 100vw;
    height: 100vh;
    background: #05070a;
    padding: 0;
    border: none;
    border-radius: 0;
    box-shadow: none;
    max-width: none;
    position: fixed; /* Ensures it stays on top */
    top: 0;
    left: 0;
    z-index: 2000; /* Higher than everything else */
}

/* PHASE 3: ALERT ANIMATIONS */
@keyframes blink {
    0% { opacity: 1; }
    50% { opacity: 0.5; }
    100% { opacity: 1; }
}

/* --- PHASE 3.5: COMMANDER UI UPDATES --- */

/* Digital Stepper (Time) */
.stepper-control {
    display: flex;
    align-items: center;
    background: black;
    border: 2px solid #00e5ff;
    border-radius: 8px;
    width: fit-content;
}
.step-btn {
    background: #002233;
    color: #00e5ff;
    border: none;
    font-size: 24px;
    width: 50px;
    height: 50px;
    cursor: pointer;
    font-family: 'Orbitron';
}
.step-btn:hover { background: #00e5ff; color: black; }
#time-display {
    font-family: 'Orbitron';
    font-size: 28px;
    color: white;
    width: 120px;
    text-align: center;
    border-left: 1px solid #333;
    border-right: 1px solid #333;
}

/* Neon Chips (Operations) */
.chip-container { display: flex; flex-wrap: wrap; gap: 10px; }
.neon-chip input { display: none; }
.neon-chip span {
    display: inline-block;
    padding: 10px 20px;
    background: rgba(255,255,255,0.05);
    border: 1px solid #444;
    border-radius: 20px;
    color: #888;
    font-family: 'Rajdhani';
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
    font-size: 14px;
}
.neon-chip span:hover { border-color: white; color: white; }
.neon-chip input:checked + span {
    background: rgba(0, 229, 255, 0.2);
    border-color: #00e5ff;
    color: #00e5ff;
    box-shadow: 0 0 15px rgba(0, 229, 255, 0.3);
}

/* Fire Streak Animation */
.on-fire-row {
    background: linear-gradient(90deg, rgba(255, 69, 0, 0.2), transparent) !important;
    border-left: 4px solid #ff4500 !important;
}
.fire-icon { font-size: 20px; text-shadow: 0 0 10px orange; animation: flicker 0.5s infinite alternate; }
@keyframes flicker { from { opacity: 0.8; } to { opacity: 1; text-shadow: 0 0 20px red; } }

/* Class Summary Line */
.summary-line {
    background: rgba(0, 20, 40, 0.9);
    padding: 10px 20px;
    border-bottom: 1px solid #333;
    color: #aaa;
    font-size: 14px;
    display: flex;
    justify-content: space-between;
}

/* ðŸš¨ REFINED DASHBOARD VISIBILITY LOGIC ðŸš¨ */

/* 1. Default State: Dashboard is HIDDEN */
#teacher-dashboard {
    display: none !important; /* Force hide by default */
    background-color: #05070a;
    z-index: 99999;
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    width: 100vw;
    height: 100vh;
    overflow-y: auto;
}

/* 2. Active State: Only show if BODY has class AND dashboard lacks 'hidden' class */
body.dashboard-active #teacher-dashboard:not(.hidden) {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* 3. Hide other layers when Dashboard is active */
body.dashboard-active canvas,
body.dashboard-active #ui-layer {
    display: none !important;
}

/* ROSTER CARD STYLES */
#roster-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 15px;
    padding: 20px;
    width: 100%;
}

.roster-card {
    background: rgba(0, 255, 65, 0.05);
    border: 1px solid #00ff41;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    animation: popIn 0.3s ease-out;
}
.roster-card h4 {
    margin: 0;
    color: white;
    font-family: 'Orbitron', sans-serif;
    letter-spacing: 1px;
}
.roster-card .status {
    font-size: 10px;
    color: #00ff41;
    margin-top: 5px;
    display: block;
}
@keyframes popIn {
    from { transform: scale(0.8); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

/* AWARDING STYLES */
.winner-card {
    background: linear-gradient(180deg, rgba(255, 215, 0, 0.1), rgba(0,0,0,0.5));
    border: 2px solid #ffd700;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    width: 150px;
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
    transform: translateY(0);
    animation: float 3s ease-in-out infinite;
}

.winner-card.rank-1 { border-color: #ffd700; transform: scale(1.1); z-index: 10; }
.winner-card.rank-2 { border-color: #c0c0c0; background: linear-gradient(180deg, rgba(192, 192, 192, 0.1), rgba(0,0,0,0.5)); }
.winner-card.rank-3 { border-color: #cd7f32; background: linear-gradient(180deg, rgba(205, 127, 50, 0.1), rgba(0,0,0,0.5)); }

.winner-medal { font-size: 40px; display: block; margin-bottom: 10px; }
.winner-name { font-family: 'Orbitron'; font-weight: bold; color: white; font-size: 18px; }
.winner-score { font-family: 'Rajdhani'; color: #ffd700; font-size: 24px; font-weight: bold; }

@keyframes float {
    0% { transform: translateY(0px) scale(1); }
    50% { transform: translateY(-10px) scale(1); }
    100% { transform: translateY(0px) scale(1); }
}

/* =========================================
   ðŸ›¸ GALACTIC WAR INTRO STYLES
   ========================================= */

#cinematic-intro {
    position: fixed;
    top: 0; left: 0; width: 100vw; height: 100vh;
    background-color: #050510;
    z-index: 999999;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    perspective: 1000px;
}

/* --- 1. DEEP SPACE & STARS --- */
.space-bg {
    position: absolute; width: 100%; height: 100%;
    background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
}

.stars-1, .stars-2 {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background-image: 
        radial-gradient(2px 2px at 20px 30px, #eee, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 40px 70px, #fff, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 50px 160px, #ddd, rgba(0,0,0,0)),
        radial-gradient(2px 2px at 90px 40px, #fff, rgba(0,0,0,0));
    background-repeat: repeat;
    background-size: 200px 200px;
    opacity: 0;
    animation: zoomStars 4s linear infinite;
}
.stars-2 { background-size: 300px 300px; animation-duration: 6s; }

@keyframes zoomStars {
    0% { opacity: 0; transform: scale(1); }
    50% { opacity: 0.8; }
    100% { opacity: 0; transform: scale(2); }
}

/* --- 2. NEBULA CLOUDS (Ang "Ulap-ulap") --- */
.nebula-layer {
    position: absolute; width: 200%; height: 200%;
    top: -50%; left: -50%;
    background-image: 
        radial-gradient(circle at 50% 50%, rgba(76, 29, 149, 0.2), transparent 40%),
        radial-gradient(circle at 20% 80%, rgba(255, 0, 85, 0.15), transparent 30%),
        radial-gradient(circle at 80% 20%, rgba(0, 229, 255, 0.15), transparent 30%);
    filter: blur(30px);
    animation: nebulaMove 10s ease-in-out infinite alternate;
}

@keyframes nebulaMove {
    0% { transform: rotate(0deg) scale(1); }
    100% { transform: rotate(10deg) scale(1.1); }
}

/* --- 3. BATTLE ELEMENTS (Lasers & Ships) --- */
.laser-beam {
    position: absolute;
    height: 4px;
    background: linear-gradient(90deg, transparent, #ff0055, #ffcc00, transparent);
    box-shadow: 0 0 15px #ff0055;
    opacity: 0.8;
    transform: rotate(-10deg);
    border-radius: 50%;
}

.ally-laser {
    background: linear-gradient(90deg, transparent, #00f3ff, #fff, transparent);
    box-shadow: 0 0 15px #00f3ff;
}

.space-ship {
    position: absolute;
    width: 0; height: 0;
    border-top: 10px solid transparent;
    border-bottom: 10px solid transparent;
    border-left: 30px solid #333;
    filter: drop-shadow(0 0 5px #000);
    z-index: 5;
}

/* --- 4. THE LOGO (MATH DEFENDER) --- */
.intro-ui {
    position: relative; z-index: 50; text-align: center;
}

.defender-logo {
    font-family: 'Orbitron', sans-serif;
    font-size: 90px;
    font-weight: 900;
    color: #fff;
    letter-spacing: 5px;
    text-transform: uppercase;
    position: relative;
    /* Metallic/Gradient Text */
    background: linear-gradient(to bottom, #ffffff 40%, #a0a0a0 50%, #555 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 0 20px rgba(0, 229, 255, 0.5));
    
    transform: scale(3); opacity: 0; /* Start State */
    animation: logoSlam 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 1s forwards;
}

/* Glitch Effect on Text */
.defender-logo::before {
    content: attr(data-text);
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: none;
    -webkit-text-fill-color: #00f3ff;
    z-index: -1;
    opacity: 0.5;
    transform: translate(-3px, 0);
    animation: glitchText 2s infinite linear alternate-reverse;
}

.defender-logo::after {
    content: attr(data-text);
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: none;
    -webkit-text-fill-color: #ff0055;
    z-index: -1;
    opacity: 0.5;
    transform: translate(3px, 0);
    animation: glitchText 3s infinite linear alternate-reverse;
}

.subtitle-text {
    font-family: 'Rajdhani';
    font-size: 20px;
    color: #ffd700;
    letter-spacing: 12px;
    margin-top: 10px;
    opacity: 0;
    animation: fadeIn 1s ease-out 1.8s forwards;
    text-shadow: 0 0 10px #ffd700;
}

/* --- 5. LOADING SYSTEM --- */
.loading-system {
    margin-top: 50px;
    opacity: 0;
    animation: fadeIn 0.5s ease-out 2s forwards;
}

.tech-bar {
    width: 400px; height: 6px;
    background: rgba(255,255,255,0.1);
    border: 1px solid #444;
    border-radius: 10px;
    margin: 0 auto;
    overflow: hidden;
    position: relative;
}

.tech-fill {
    width: 0%; height: 100%;
    background: #00ff41;
    box-shadow: 0 0 15px #00ff41;
    animation: loadTech 3s cubic-bezier(0.65, 0, 0.35, 1) 2s forwards;
}

.loading-status {
    font-family: 'Courier New', monospace;
    font-size: 12px; color: #00ff41;
    margin-top: 8px;
    animation: blink 0.2s infinite;
}

/* --- 6. FX LAYERS --- */
.screen-flash {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: white;
    opacity: 0;
    pointer-events: none;
    z-index: 100;
    animation: flashBang 0.2s ease-out 1s; /* Timed with Logo Slam */
}

.vignette-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: radial-gradient(circle, transparent 50%, black 100%);
    pointer-events: none; z-index: 20;
}

/* --- ANIMATIONS --- */
@keyframes logoSlam {
    0% { transform: scale(3); opacity: 0; }
    70% { transform: scale(1); opacity: 1; }
    85% { transform: scale(1.1); }
    100% { transform: scale(1); opacity: 1; }
}

@keyframes glitchText {
    0% { clip-path: inset(10% 0 80% 0); }
    20% { clip-path: inset(80% 0 10% 0); }
    40% { clip-path: inset(40% 0 40% 0); }
    60% { clip-path: inset(10% 0 60% 0); }
    80% { clip-path: inset(70% 0 20% 0); }
    100% { clip-path: inset(30% 0 50% 0); }
}

@keyframes loadTech { 0% { width: 0%; } 100% { width: 100%; } }
@keyframes flashBang { 0% { opacity: 0; } 50% { opacity: 0.8; } 100% { opacity: 0; } }
@keyframes fadeIn { to { opacity: 1; } }
@keyframes blink { 0%,100% { opacity: 1; } 50% { opacity: 0.5; } }

/* --- EXIT ANIMATION (Added by JS) --- */
#cinematic-intro.warp-out {
    animation: warpSpeed 1s ease-in forwards;
}

@keyframes warpSpeed {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.5) rotate(5deg); opacity: 0.5; filter: blur(10px); }
    100% { transform: scale(5); opacity: 0; }
}

@media (max-width: 768px) {
    .defender-logo { font-size: 50px; }
    .tech-bar { width: 80%; }
}

/* =========================================
   ðŸ“¡ STORY & TUTORIAL STYLES
   ========================================= */

#story-overlay {
    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
    background: rgba(0, 5, 10, 0.95);
    z-index: 99990; /* Lower than intro, higher than game */
    display: flex; justify-content: center; align-items: center;
    backdrop-filter: blur(10px);
}

.comm-panel {
    width: 700px; max-width: 90%;
    border: 2px solid #00f3ff;
    background: rgba(0, 20, 30, 0.9);
    box-shadow: 0 0 50px rgba(0, 243, 255, 0.2);
    border-radius: 5px;
    overflow: hidden;
    animation: panelSlideUp 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards;
}

@keyframes panelSlideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.comm-header {
    background: #002233;
    padding: 10px 20px;
    border-bottom: 1px solid #00f3ff;
    display: flex; justify-content: space-between;
    font-family: 'Rajdhani'; font-weight: bold; color: #00f3ff; letter-spacing: 2px;
}

.comm-content {
    padding: 30px;
    display: flex; gap: 20px;
    align-items: flex-start;
}

/* AVATAR (Sound Wave Effect) */
.avatar-box {
    width: 100px; height: 100px;
    border: 1px solid #334;
    background: black;
    display: flex; flex-direction: column;
    justify-content: center; align-items: center;
    border-radius: 4px;
}

.sound-wave {
    display: flex; gap: 3px; align-items: center; height: 40px;
}

.sound-wave .bar {
    width: 4px; background: #00ff41;
    animation: wave 0.5s infinite ease-in-out;
}
.sound-wave .bar:nth-child(1) { height: 20%; animation-delay: 0.1s; }
.sound-wave .bar:nth-child(2) { height: 50%; animation-delay: 0.2s; }
.sound-wave .bar:nth-child(3) { height: 80%; animation-delay: 0.3s; }
.sound-wave .bar:nth-child(4) { height: 40%; animation-delay: 0.4s; }

@keyframes wave { 0%, 100% { height: 20%; } 50% { height: 100%; } }

.commander-label {
    margin-top: 10px; font-size: 10px; color: #888; font-family: 'Orbitron';
}

/* DIALOGUE TEXT */
.dialogue-box { flex-grow: 1; }

#story-text {
    font-family: 'Courier New', monospace;
    font-size: 16px; color: #fff;
    line-height: 1.6; margin: 0;
    min-height: 80px;
    text-shadow: 0 0 5px rgba(255,255,255,0.5);
}

/* VISUAL DEMO BOX */
#tutorial-visual {
    margin-top: 20px;
    border: 1px dashed #445;
    background: rgba(0,0,0,0.5);
    padding: 15px;
    border-radius: 4px;
    text-align: center;
    color: #ffd700;
    font-family: 'Rajdhani';
}

.demo-meteor {
    display: inline-block; padding: 10px 20px;
    border: 2px solid #ff0055; border-radius: 50%;
    color: #fff; font-weight: bold; font-family: 'Orbitron';
    margin-bottom: 10px;
    box-shadow: 0 0 10px #ff0055;
}

.comm-footer {
    padding: 15px 30px;
    border-top: 1px solid #333;
    display: flex; justify-content: flex-end; gap: 15px;
}

/* BLINK ANIMATION */
.blink { animation: blink 1s infinite; }

.pulse-btn {
    animation: pulseRed 1s infinite;
    border-color: #ffd700 !important;
    color: #ffd700 !important;
}
@keyframes pulseRed {
    0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(255, 215, 0, 0); }
    100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
}

/* MISSION DEBRIEF STYLES */
#mission-debrief-container {
    background: rgba(0, 20, 40, 0.6);
    border-radius: 5px;
    animation: fadeIn 0.5s ease-in-out;
}

#debrief-rank {
    text-shadow: 0 0 10px currentColor; /* Glowing text */
}

/* Rank Colors */
.rank-s { color: #ffd700 !important; text-shadow: 0 0 20px #ffd700 !important; } /* Gold */
.rank-a { color: #00ff41 !important; text-shadow: 0 0 15px #00ff41 !important; } /* Green */
.rank-b { color: #00e5ff !important; text-shadow: 0 0 15px #00e5ff !important; } /* Blue */
.rank-c { color: #ff9900 !important; } /* Orange */
.rank-d { color: #ff0055 !important; } /* Red */

/* OUTRO OVERLAY */
#cinematic-outro {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: black;
    z-index: 99999; /* Highest priority */
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    animation: fadeIn 0.5s forwards;
}

.outro-content h1 {
    font-family: 'Orbitron', sans-serif;
    font-size: 60px;
    letter-spacing: 5px;
    margin: 0;
    color: white;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
}

.outro-content p {
    font-family: 'Courier New', monospace;
    color: #00e5ff;
    margin-top: 20px;
    font-size: 18px;
    animation: blink 1s infinite;
}

.loader-line {
    width: 0%;
    height: 4px;
    background: #00ff41;
    margin: 20px auto;
    box-shadow: 0 0 10px #00ff41;
    animation: loadLine 2.5s ease-in-out forwards;
}

@keyframes loadLine {
    0% { width: 0%; }
    100% { width: 100%; }
}

/* Glitch Effect for Text */
.glitch-text {
    animation: glitch-anim 0.3s infinite;
}

@keyframes glitch-anim {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
}

/* SHOP STYLES */
.large-modal {
    width: 90%;
    max-width: 800px;
    height: 80vh;
    display: flex;
    flex-direction: column;
}

.shop-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    background: rgba(0,0,0,0.5);
    border-bottom: 1px solid #333;
}

.shop-balance {
    font-family: 'Orbitron', sans-serif;
    font-size: 24px;
    color: #ffd700;
}

.shop-tabs {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 20px 0;
}

.shop-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 15px;
    overflow-y: auto;
    padding: 10px;
    flex-grow: 1; /* Fills remaining height */
}

/* ITEM CARD */
.shop-item {
    background: rgba(10, 20, 30, 0.9);
    border: 1px solid #333;
    border-radius: 8px;
    padding: 15px;
    text-align: center;
    transition: transform 0.2s, border-color 0.2s;
    position: relative;
}

.shop-item:hover {
    transform: translateY(-5px);
    border-color: #00e5ff;
    box-shadow: 0 0 15px rgba(0, 229, 255, 0.2);
}

.shop-item.owned {
    border-color: #00ff41;
}

.shop-item.equipped {
    border-color: gold;
    box-shadow: 0 0 15px gold;
}

.shop-item img {
    width: 80px;
    height: 80px;
    object-fit: contain;
    margin-bottom: 10px;
}

.shop-item h4 {
    margin: 5px 0;
    color: #fff;
    font-family: 'Rajdhani';
}

.shop-item .price {
    color: #ffd700;
    font-weight: bold;
    margin-bottom: 10px;
}

.shop-btn {
    width: 100%;
    padding: 8px;
    border: none;
    cursor: pointer;
    font-weight: bold;
    font-family: 'Orbitron';
}

.btn-buy { background: #00e5ff; color: black; }
.btn-equip { background: #333; color: white; border: 1px solid white; }
.btn-equipped { background: gold; color: black; cursor: default; }

/* Disable upgrades visual cue */
.shop-item.disabled {
    opacity: 0.5;
    pointer-events: none;
}

/* UPGRADE PROGRESS BAR */
.upgrade-track {
    width: 100%;
    height: 8px;
    background: #222;
    border: 1px solid #444;
    border-radius: 4px;
    margin: 8px 0;
    overflow: hidden;
    position: relative;
}

.upgrade-fill {
    height: 100%;
    background: linear-gradient(90deg, #00e5ff, #00ff41);
    width: 0%; /* Dynamic */
    transition: width 0.3s ease;
}

/* LEVEL INDICATOR TEXT */
.level-text {
    font-size: 10px;
    color: #aaa;
    display: flex;
    justify-content: space-between;
}

/* BUNDLE CARD (For FX) */
.fx-preview {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    margin: 0 auto 10px auto;
    box-shadow: 0 0 10px currentColor;
    background: #000;
}

/* --- ðŸ› ï¸ SHOP UPGRADES & FX (MISSING STYLES) --- */

/* Upgrade Progress Bar (The Green Line) */
.upgrade-track {
    width: 100%;
    height: 10px;
    background: #222;
    border: 1px solid #555;
    border-radius: 5px;
    margin: 10px 0;
    overflow: hidden;
    position: relative;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.8);
}

.upgrade-fill {
    height: 100%;
    background: linear-gradient(90deg, #00e5ff, #00ff41);
    width: 0%; /* Dynamic Width */
    transition: width 0.3s ease-in-out;
    box-shadow: 0 0 10px #00ff41;
}

/* Level Text (Lvl 1 / Max 7) */
.level-text {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    color: #889;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    margin-bottom: 2px;
}

/* Battle FX Circle Preview (For Aura/Laser) */
.fx-preview {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    margin: 0 auto 15px auto;
    background: black;
    border: 2px solid white;
    box-shadow: 0 0 20px currentColor; /* Glows based on item color */
    animation: pulseFX 2s infinite;
}

@keyframes pulseFX {
    0% { transform: scale(0.95); opacity: 0.8; }
    50% { transform: scale(1.05); opacity: 1; }
    100% { transform: scale(0.95); opacity: 0.8; }
}

/* Tab Active State Fix */
.shop-tabs .tab-btn.active {
    color: #ffd700;
    border-bottom: 2px solid #ffd700;
    text-shadow: 0 0 10px #ffd700;
}

/* =========================================
   ðŸ“– THE ANCIENT CODEX (FIXED & POLISHED)
   ========================================= */

.book-stage {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    perspective: 2000px; /* Deep 3D */
    height: 100vh;
    z-index: 2000;
}

.book {
    position: relative;
    width: 420px;  /* Width ng ISANG PAGE */
    height: 600px;
    transform-style: preserve-3d;
    transition: transform 0.6s;
}

/* Kapag bumukas, umusog pakanan para nasa gitna ang spread */
.book.opened {
    transform: translateX(210px); 
}

/* --- PAPER STYLING --- */
.paper {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0; left: 0;
    transform-origin: left center; /* Pivot sa Spine */
    transition: transform 1s cubic-bezier(0.645, 0.045, 0.355, 1), z-index 0.5s;
    transform-style: preserve-3d;
    border-radius: 5px 15px 15px 5px;
    box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
}

/* FRONT & BACK FACES */
.front, .back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden; /* IMPORTANTE: Para di magpatong ang text */
    top: 0; left: 0;
    
    /* Solid Background para di tumagos ang text */
    background-color: #f3e5ce; 
    background-image: url("https://www.transparenttextures.com/patterns/cream-paper.png");
    border: 1px solid #cbb;
    overflow: hidden;
}

/* Front Face */
.front {
    z-index: 2;
    /* Gradient Shadow sa Spine (Left) */
    background: linear-gradient(to right, #e3d0a6, #f3e5ce 15%); 
}

/* Back Face (Rotated) */
.back {
    transform: rotateY(180deg);
    z-index: 1;
    /* Gradient Shadow sa Spine (Right) */
    background: linear-gradient(to left, #e3d0a6, #f3e5ce 15%); 
}

/* Flipped State (Nasa Kaliwa na) */
.flipped .front, .flipped .back {
    pointer-events: none; /* Disable interaction pag lumipat na */
}
.paper.flipped {
    transform: rotateY(-180deg);
}

/* --- COVER DESIGN (LEATHER) --- */
.cover-front {
    background-color: #3e2723;
    background-image: url("https://www.transparenttextures.com/patterns/leather.png");
    border: 5px solid #aa8800;
    display: flex; justify-content: center; align-items: center; text-align: center;
}
.cover-front h1 {
    font-family: 'Cinzel', serif; font-size: 55px; color: #ffd700;
    text-shadow: 2px 4px 5px #000; margin: 0;
}
.cover-front p {
    font-family: 'Rajdhani'; color: #d4af37; font-size: 20px; letter-spacing: 5px;
}
.cover-back {
    background-color: #2a1a10; /* Inner cover color */
    background-image: none;
}

/* =========================================
   ðŸ“– JESSBOOK VISUAL FIX (READABILITY)
   ========================================= */

/* 1. Siguraduhing Dark Brown ang kulay ng papel (Fallback) */
.front, .back {
    color: #2c1e16 !important; 
}

/* 2. Page Content Container */
.page-content {
    padding: 35px;
    text-align: left; /* Gawing Left-align para mas madaling basahin kaysa center */
    color: #2c1e16 !important; /* Dark Ink Color */
    font-family: 'Georgia', 'Times New Roman', serif !important; /* Gawing Serif font para mukhang libro */
    overflow-y: auto; /* Lagyan ng scroll kung mahaba ang lesson */
    height: 85%; 
}

/* 3. Force Text Colors & Sizes for Paragraphs and Lists */
.page-content p, .page-content ul, .page-content ol, .page-content li {
    font-size: 14px;
    line-height: 1.6;
    margin-bottom: 12px;
    color: #2c1e16 !important; /* Dark brown ink */
    font-family: 'Georgia', 'Times New Roman', serif !important;
    text-shadow: none !important; /* TANGGALIN ANG NEON GLOW */
}

/* 4. Force Colors & Fonts for Headings (Titles) */
.page-content h1, .page-content h2, .page-content h3 {
    font-size: 22px;
    margin-bottom: 15px;
    margin-top: 0;
    color: #3e2723 !important; /* Darker heading color */
    font-family: 'Georgia', 'Times New Roman', serif !important;
    text-shadow: none !important;
    font-weight: bold;
    border-bottom: 2px solid #8d6e63; /* Guhit sa ilalim ng title */
    padding-bottom: 8px;
}

/* 5. Ayusin ang Tip Box readability */
.tip-box {
    background: rgba(212, 175, 55, 0.15) !important; /* Transparent Gold Background */
    border: 2px dashed #d4af37; /* Dashed Gold Border */
    color: #2c1e16 !important; /* Dark text inside box */
    padding: 15px;
    border-radius: 8px;
    font-family: 'Rajdhani', sans-serif !important; /* Iba ang font para sa tips */
    font-weight: bold;
    font-size: 13px;
    margin-top: 20px;
    text-shadow: none !important;
}

/* 6. Highlighted/Bold Text (Emphasis) */
.page-content b, .page-content strong {
    color: #bf360c !important; /* Reddish Brown para sa important words */
}

/* 7. Code/Math Examples */
.page-content code {
    background: rgba(0,0,0,0.05);
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Courier New', monospace !important;
    color: #d84315 !important; /* Orange-Red para sa numbers */
    font-weight: bold;
    border: 1px solid rgba(0,0,0,0.1);
}
.tip-box {
    background: rgba(255, 215, 0, 0.2);
    border-left: 4px solid orange;
    padding: 10px; margin: 15px 0; font-style: italic; font-size: 18px;
}

/* Controls */
.book-controls { margin-top: 30px; display: flex; gap: 20px; z-index: 2001; }
.magic-btn {
    background: #000; border: 1px solid #ffd700; color: #ffd700;
    padding: 10px 25px; font-family: 'Cinzel'; cursor: pointer; transition: 0.3s;
}
.magic-btn:hover { background: #ffd700; color: #000; }
.magic-btn.close { border-color: red; color: red; }
.magic-btn.close:hover { background: red; color: white; }

/* --- ðŸŽ¨ BACK COVER (AUTHOR PAGE) --- */
.back-cover-content {
    width: 100%; height: 100%;
    /* Leather Texture (Pareho sa Front Cover) */
    background-color: #3e2723;
    background-image: url("https://www.transparenttextures.com/patterns/leather.png");
    
    display: flex; flex-direction: column;
    justify-content: center; align-items: center; text-align: center;
    border: 5px solid #aa8800;
    box-shadow: inset 10px 0 40px rgba(0,0,0,0.5); /* Depth */
    position: absolute; top: 0; left: 0;
}

.back-cover-content h1 {
    font-family: 'Cinzel', serif !important;
    font-size: 40px !important;
    color: #ffd700 !important;
    text-shadow: 2px 4px 5px #000 !important;
    border-bottom: none !important;
    margin: 10px 0 !important;
}

.back-cover-content h3 {
    font-family: 'Orbitron', sans-serif !important;
    font-size: 14px !important;
    letter-spacing: 4px;
    color: #d4af37 !important;
    opacity: 0.8;
    margin-bottom: 5px;
}

.back-cover-content p {
    font-family: 'Rajdhani', sans-serif !important;
    font-size: 16px !important;
    color: #f4e4bc !important;
    margin-top: 5px;
}

.gold-divider {
    width: 60%; height: 3px;
    background: linear-gradient(90deg, transparent, #ffd700, transparent);
    margin: 20px 0;
}

/* =========================================
   ðŸ“– JESSBOOK CROPPING FIX
   ========================================= */

/* 1. I-adjust natin ng konti ang height para hindi sumagad sa page number */
.page-content {
    height: 78% !important; /* Mula 85%, binawasan natin para may allowance sa ilalim */
    overflow-y: auto !important; 
    padding-right: 15px !important; 
    /* Tanggalin ang lumang padding-bottom dito, papalitan natin ng mas epektibong paraan */
}

/* 2. ðŸŸ¢ THE SECRET FIX: Maglalagay tayo ng "invisible space" sa pinakadulo ng bawat pahina */
.page-content::after {
    content: "";
    display: block;
    height: 40px; /* Ito ang pipilit sa scrollbar na bumaba pa lagpas sa Tip Box */
    width: 100%;
}

/* 3. Siguraduhin na may margin sa ilalim ang tip-box mismo */
.tip-box {
    padding: 12px;
    font-size: 15px; 
    margin-top: 15px !important;
    margin-bottom: 20px !important; /* Extra tulak pataas */
    line-height: 1.5;
    background: rgba(212, 175, 55, 0.2) !important;
    color: #2c1e16 !important; 
    border: 1px dashed #d4af37;
    text-shadow: none !important;
}

/* =========================================
   ðŸ“Š AGENT DASHBOARD STYLES (REDESIGNED)
   ========================================= */

/* Badge Styling */
.badge-icon {
    width: 50px; height: 50px;
    border-radius: 8px;
    background: #111;
    border: 2px solid #333;
    display: flex; justify-content: center; align-items: center;
    font-size: 26px;
    filter: grayscale(100%);
    opacity: 0.3;
    transition: 0.3s;
}
.badge-icon.unlocked {
    filter: none;
    opacity: 1;
    border-color: #ffd700;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
    background: rgba(255, 215, 0, 0.1);
}

/* Avatar Option Hover */
.avatar-option {
    cursor: pointer;
    border: 2px solid transparent;
    transition: 0.2s;
    width: 100%;
    height: auto;
}
.avatar-option:hover {
    border-color: #00e5ff;
    transform: scale(1.1);
    box-shadow: 0 0 15px rgba(0, 229, 255, 0.5);
}

/* Table Styling */
#match-history-body tr {
    border-bottom: 1px solid #222;
    transition: background 0.2s;
}
#match-history-body tr:nth-child(even) { 
    background: rgba(255, 255, 255, 0.02); 
}
#match-history-body tr:hover { 
    background: rgba(0, 229, 255, 0.1); 
}
#match-history-body td {
    padding: 12px;
}
/* =========================================
   ðŸ–¥ï¸ LANDSCAPE & HD SCALING OVERHAUL
   ========================================= */

/* 1. PALAKIHIN ANG JESSBOOK (CODEX) */
.book {
    width: 520px !important;  /* Mula 420px, mas malapad ang pahina */
    height: 740px !important; /* Mula 600px, mas matangkad */
}
.book.opened {
    transform: translateX(260px) !important; /* Half ng 520px para laging gitna */
}
.page-content p, .page-content ul, .page-content ol, .page-content li {
    font-size: 18px !important; /* Mas malaki at kumportableng basahin */
    line-height: 1.6 !important;
}

/* 2. PALAKIHIN ANG STORY / LIVE FEED PANEL */
.comm-panel {
    width: 950px !important; /* Wide screen dialogue box */
    max-width: 95vw !important;
    padding: 10px;
}
.avatar-box {
    width: 140px !important; /* Mas malaking Profile icon sa story */
    height: 140px !important;
}
#story-text {
    font-size: 22px !important; /* Mas malaking cinematic text */
    line-height: 1.8 !important;
}
.demo-meteor {
    font-size: 24px !important; /* Mas kitang-kita na examples */
    padding: 15px 30px !important;
}

/* 3. GAWING WIDE (LANDSCAPE) ANG MGA DASHBOARD MODALS */
.modal-content {
    max-width: 95vw !important; /* Payagan lumapad ang lahat ng modals */
}

/* Specific Widths para sa ibang dashboard */
#mission-config-modal .modal-content,
#classroom-setup-modal .modal-content {
    width: 900px !important; 
}
#leaderboard-modal .modal-content {
    width: 800px !important;
}
#mp-menu-modal .modal-content {
    width: 700px !important;
}

/* 4. SHOP GRID ENHANCEMENT (More items per row) */
#shop-grid {
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)) !important;
}

/* =========================================
   ðŸ† FINAL RESULT DASHBOARD STYLES
   ========================================= */

/* Stat Cards (Glassmorphism) */
.stat-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid #333;
    border-radius: 8px;
    padding: 15px;
    text-align: center;
    transition: transform 0.2s;
}
.stat-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: #555;
    transform: translateY(-2px);
}
.stat-label {
    font-family: 'Rajdhani', sans-serif;
    font-size: 12px;
    color: #888;
    letter-spacing: 1px;
    margin-bottom: 5px;
    text-transform: uppercase;
}
.stat-value {
    font-family: 'Orbitron', sans-serif;
    font-size: 32px;
    font-weight: 900;
}

/* Podium Pillars */
.podium-column {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
    width: 80px;
    transition: height 1s ease-out;
}
.podium-avatar {
    width: 60px; height: 60px;
    border-radius: 50%;
    background: #000;
    border: 2px solid #555;
    margin-bottom: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 24px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    z-index: 2;
}
.podium-bar {
    width: 100%;
    background: linear-gradient(to bottom, rgba(255,255,255,0.1), rgba(0,0,0,0.8));
    border: 1px solid #444;
    border-bottom: none;
    border-radius: 8px 8px 0 0;
    display: flex; align-items: flex-end; justify-content: center;
    padding-bottom: 10px;
    font-family: 'Orbitron';
    font-weight: bold;
    color: rgba(255,255,255,0.3);
    font-size: 40px;
    position: relative;
}

/* Rank Specifics */
.rank-1 .podium-avatar { border-color: #ffd700; box-shadow: 0 0 20px #ffd700; }
.rank-1 .podium-bar { height: 180px; border-color: #ffd700; background: linear-gradient(to bottom, rgba(255, 215, 0, 0.2), rgba(0,0,0,0.8)); }
.rank-1 .rank-num { color: #ffd700; }

.rank-2 .podium-avatar { border-color: #c0c0c0; }
.rank-2 .podium-bar { height: 130px; border-color: #c0c0c0; }

.rank-3 .podium-avatar { border-color: #cd7f32; }
.rank-3 .podium-bar { height: 90px; border-color: #cd7f32; }

/* Winner Name */
.winner-name-tag {
    font-size: 12px; color: #fff; margin-top: 5px; font-family: 'Rajdhani';
    background: #111; padding: 2px 8px; border-radius: 4px; border: 1px solid #333;
}

/* =========================================
   ðŸŒ‘ CYBER CURTAIN STYLES
   ========================================= */
#class-curtain {
    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
    background: #000510; /* Deep Space Blue-Black */
    z-index: 999999;
    display: flex; justify-content: center; align-items: center;
    flex-direction: column;
}

/* Moving Grid Effect */
.cyber-grid {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background-image: 
        linear-gradient(rgba(0, 229, 255, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 229, 255, 0.1) 1px, transparent 1px);
    background-size: 50px 50px;
    opacity: 0.3;
    animation: gridMove 20s linear infinite;
}
@keyframes gridMove { from { transform: translateY(0); } to { transform: translateY(50px); } }

.curtain-content { z-index: 2; text-align: center; }

/* Spinning Loader */
.loader-ring {
    width: 80px; height: 80px; margin: 0 auto 20px;
    border: 5px solid rgba(0, 229, 255, 0.2);
    border-top: 5px solid #00e5ff;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* Typography */
.glitch-text {
    font-family: 'Orbitron', sans-serif;
    font-size: 32px; color: #fff; letter-spacing: 5px;
    text-shadow: 0 0 10px #00e5ff;
    margin: 0;
}
.neon-number {
    font-family: 'Orbitron', sans-serif;
    font-size: 150px; font-weight: 900;
    color: #ffd700;
    text-shadow: 0 0 50px rgba(255, 215, 0, 0.8);
    margin: 10px 0;
    line-height: 1;
}
.blink-text {
    font-family: 'Rajdhani', sans-serif;
    font-size: 16px; color: #00ff41; letter-spacing: 3px;
    animation: blink 1s infinite;
}
@keyframes blink { 50% { opacity: 0.5; } }

/* =========================================
   ðŸ›¸ CLASS SELECTION TERMINAL DESIGN
   ========================================= */

/* 1. The Dark Overlay Background */
#class-selection-modal {
    background: rgba(0, 5, 16, 0.97) !important; /* Darker, deeper space background */
    backdrop-filter: blur(8px); /* Adds a futuristic blur effect to what's behind */
}

/* 2. The Main Terminal Box */
#class-selection-modal > div {
    background: linear-gradient(160deg, #050a15 0%, #001525 100%); /* Subtle dark gradient */
    border: 2px solid #00e5ff; /* Bright Neon Cyan border */
    box-shadow: 
        0 0 40px rgba(0, 229, 255, 0.3), /* Outer Cyan Glow */
        inset 0 0 20px rgba(0, 229, 255, 0.1); /* Inner Cyan Glow */
    border-radius: 12px;
    padding: 50px 40px !important; /* More breathing room */
    position: relative;
    overflow: hidden; /* Keeps decorative elements inside */
    max-width: 500px;
    width: 90%;
}

/* ðŸŒ Decorative "Tech Corners" (Gold Accents) */
#class-selection-modal > div::before,
#class-selection-modal > div::after {
    content: '';
    position: absolute;
    width: 25px; height: 25px;
    border: 3px solid #ffd700; /* Gold corners */
    z-index: 2;
    opacity: 0.8;
}
#class-selection-modal > div::before {
    top: -3px; left: -3px;
    border-bottom: none; border-right: none;
}
#class-selection-modal > div::after {
    bottom: -3px; right: -3px;
    border-top: none; border-left: none;
}

/* 3. Typography Upgrades */
#class-selection-modal h2 {
    font-family: 'Orbitron', sans-serif;
    color: #ffd700; /* Gold Title */
    font-size: 28px;
    letter-spacing: 4px;
    margin-bottom: 15px;
    text-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
    position: relative;
}
/* Adding a small underline scanner effect to the title */
#class-selection-modal h2::after {
    content: ''; display: block; width: 60px; height: 3px;
    background: #ffd700; margin: 10px auto 0;
    box-shadow: 0 0 10px #ffd700;
}

#class-selection-modal p {
    font-family: 'Rajdhani', sans-serif;
    color: #00e5ff; /* Cyan Subtitle */
    font-size: 16px;
    letter-spacing: 2px;
    opacity: 0.8;
    margin-bottom: 40px;
}

/* 4. The Input Field (Data Entry) */
#class-code-direct {
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid #333;
    color: #fff;
    font-family: 'Orbitron', sans-serif;
    font-size: 24px;
    letter-spacing: 6px;
    text-align: center;
    padding: 15px;
    border-radius: 8px;
    transition: all 0.3s ease;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.8);
}

#class-code-direct:focus {
    border-color: #00e5ff; /* Glows cyan when typing */
    box-shadow: 
        0 0 25px rgba(0, 229, 255, 0.6),
        inset 0 0 10px rgba(0, 229, 255, 0.2);
    outline: none;
    transform: scale(1.02);
}

#class-selection-modal label {
    font-family: 'Rajdhani', sans-serif;
    color: #888;
    font-size: 14px;
    letter-spacing: 2px;
    margin-bottom: 10px;
    display: block;
}

/* 5. Buttons Overhaul */
#class-selection-modal .modal-actions {
    margin-top: 40px;
    gap: 20px;
}

/* Connect Button (Green/Cyan Gradient) */
#class-selection-modal button.btn.primary {
    background: linear-gradient(90deg, #00e5ff 0%, #00ffaa 100%);
    color: #000;
    font-family: 'Orbitron', sans-serif;
    font-weight: 900;
    letter-spacing: 3px;
    border: none;
    padding: 18px 35px;
    font-size: 18px;
    border-radius: 6px;
    box-shadow: 0 0 30px rgba(0, 229, 255, 0.5);
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

#class-selection-modal button.btn.primary:hover {
    transform: translateY(-3px) scale(1.03);
    box-shadow: 0 0 50px rgba(0, 229, 255, 0.9);
}

/* Cancel Button (Red Text) */
#class-selection-modal button.btn.text-only {
    color: #ff4444;
    font-family: 'Rajdhani', sans-serif;
    font-size: 16px;
    letter-spacing: 3px;
    opacity: 0.6;
    transition: all 0.3s ease;
    background: transparent;
}
#class-selection-modal button.btn.text-only:hover {
    opacity: 1;
    text-shadow: 0 0 15px #ff0000;
}

/* =========================================
   ðŸŒŒ LIVE DEEP SPACE BACKGROUND (CSS ONLY)
   ========================================= */

body {
    margin: 0;
    padding: 0;
    background-color: #020205; /* Deepest Void Black */
    overflow: hidden; /* Iwas scrollbars */
    font-family: 'Rajdhani', sans-serif;
    color: white;
}

/* 1. MOVING STARS (Parallax Effect) */
#star-field {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: -3;
    background: transparent;
}

#star-field::after {
    content: " ";
    position: absolute;
    top: 0; left: 0; width: 2px; height: 2px;
    background: transparent;
    /* Gumagawa ng maraming stars gamit ang box-shadow trick */
    box-shadow: 
        10vw 10vh #fff, 20vw 80vh #fff, 30vw 20vh #fff, 40vw 50vh #fff, 
        50vw 90vh #fff, 60vw 30vh #fff, 70vw 70vh #fff, 80vw 10vh #fff, 
        90vw 60vh #fff, 95vw 40vh #fff, 5vw 50vh #fff, 15vw 90vh #fff,
        25vw 10vh #fff, 35vw 70vh #fff, 45vw 30vh #fff, 55vw 80vh #fff,
        65vw 20vh #fff, 75vw 60vh #fff, 85vw 40vh #fff, 50vw 50vh #fff;
    animation: starFly 50s linear infinite;
    opacity: 0.8;
}

#star-field::before {
    content: " ";
    position: absolute;
    top: 0; left: 0; width: 3px; height: 3px;
    background: transparent;
    /* Mas malalaking stars, mas mabagal (Parallax) */
    box-shadow: 
        15vw 15vh #88ccff, 35vw 85vh #88ccff, 55vw 35vh #88ccff, 
        75vw 65vh #88ccff, 95vw 25vh #88ccff, 10vw 60vh #88ccff;
    animation: starFly 80s linear infinite;
    opacity: 0.6;
}

@keyframes starFly {
    from { transform: translateY(0); }
    to { transform: translateY(100vh); }
}

/* 2. NEBULA FOG (Atmosphere) */
#nebula-layer {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: -2;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 229, 255, 0.08), transparent 40%),
        radial-gradient(circle at 80% 70%, rgba(255, 0, 85, 0.05), transparent 40%);
    animation: pulseNebula 10s ease-in-out infinite alternate;
}

@keyframes pulseNebula {
    0% { opacity: 0.5; transform: scale(1); }
    100% { opacity: 1; transform: scale(1.05); }
}

/* 3. DIGITAL GRID FLOOR (Retro Arcade Feel) */
#grid-floor {
    position: fixed;
    bottom: 0; left: 0; width: 100%; height: 40vh; /* Nasa lower part lang */
    z-index: -1;
    background-image: 
        linear-gradient(0deg, transparent 24%, rgba(0, 229, 255, 0.3) 25%, rgba(0, 229, 255, 0.3) 26%, transparent 27%, transparent 74%, rgba(0, 229, 255, 0.3) 75%, rgba(0, 229, 255, 0.3) 76%, transparent 77%, transparent),
        linear-gradient(90deg, transparent 24%, rgba(0, 229, 255, 0.1) 25%, rgba(0, 229, 255, 0.1) 26%, transparent 27%, transparent 74%, rgba(0, 229, 255, 0.1) 75%, rgba(0, 229, 255, 0.1) 76%, transparent 77%, transparent);
    background-size: 50px 50px;
    transform: perspective(300px) rotateX(60deg) scale(2);
    transform-origin: bottom;
    animation: gridMove 5s linear infinite;
    mask-image: linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0)); /* Fade out sa horizon */
    -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0));
}

@keyframes gridMove {
    0% { background-position: 0 0; }
    100% { background-position: 0 50px; }
}

/* =========================================
   ðŸŒŒ BACKGROUND CANVAS (DEEP SPACE)
   ========================================= */
body {
    background-color: #020205; /* Fallback Black */
    overflow: hidden; 
}

#bgCanvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -10; /* Siguradong nasa likod ng lahat */
    background: radial-gradient(circle at center, #0b1021 0%, #000000 100%); /* Subtle Gradient */
}
